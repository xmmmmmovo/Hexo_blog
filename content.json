[{"title":"å¦‚ä½•åˆ©ç”¨GitHubActionå’ŒGithubPageéƒ¨ç½²Reactåº”ç”¨","date":"2020-07-21T07:03:12.000Z","path":"2020/07/21/github-action-demo/","text":"æœ¬æ–‡æ˜¯ä»ç‰©è”ç½‘å·¥ç¨‹ä¸æŠ€æœ¯å®è·µæœŸæœ«æ–‡æ¡£ä¸­æŠ½å–å‡ºæ¥çš„ï¼Œå¯èƒ½æ ¼å¼æ¯”è¾ƒå¥‡æ€ªã€‚ GithubActionå®˜ç½‘çš„ç¬¬ä¸€æ®µï¼Œä¾¿è®²æ˜äº†æ­¤åŠŸèƒ½çš„ç”¨é€”å’Œä½œç”¨ã€‚ åœ¨ GitHub æ“ä½œ çš„ä»“åº“ä¸­è‡ªåŠ¨åŒ–ã€è‡ªå®šä¹‰å’Œæ‰§è¡Œè½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹ã€‚ æ‚¨å¯ä»¥å‘ç°ã€åˆ›å»ºå’Œå…±äº«æ“ä½œä»¥æ‰§è¡Œæ‚¨å–œæ¬¢çš„ä»»ä½•ä½œä¸šï¼ˆåŒ…æ‹¬ CI/CDï¼‰ï¼Œå¹¶å°†æ“ä½œåˆå¹¶åˆ°å®Œå…¨è‡ªå®šä¹‰çš„å·¥ä½œæµç¨‹ä¸­ã€‚ çœ‹ä¸Šå»äº‘é‡Œé›¾é‡Œï¼Œå…¶å®å°±æ˜¯åˆ©ç”¨ymlè¿›è¡Œçš„è‡ªå®šä¹‰è„šæœ¬æ“ä½œï¼Œç”¨äºæµ‹è¯•/éƒ¨ç½²çš„æ—¶å€™çš„ä¸€äº›åˆ—ç¹çé‡å¤å·¥ä½œå®ç°å…¨æµæ°´çº¿è‡ªåŠ¨åŒ–ä½œä¸šçš„åŠŸèƒ½ã€‚ GithubPage æ‚¨å¯ä»¥ä¸ºè‡ªå·±ã€æ‚¨çš„ç»„ç»‡æˆ–é¡¹ç›®è®¾ç½®ä¸€ä¸ªåŸºæœ¬ GitHub Pages ç«™ç‚¹ã€‚ ç™½å«–GithubæœåŠ¡å™¨ç”¨æ¥éƒ¨ç½²è‡ªå·±çš„webåº”ç”¨ã€‚éƒ¨ç½²åé“¾æ¥æ ¼å¼ï¼š&lt;ç”¨æˆ·å&gt;.github.io/&lt;ä»“åº“å&gt; å¼€å§‹ç¼–å†™ç”Ÿæˆå¯†é’¥12cd ~/.sshssh-keygen -t rsa -b 4096 -C \"$(git config user.email)\" -f gh-pages-actions -N \"\" å›¾2.13 æˆåŠŸç”Ÿæˆå¯†é’¥ æ­¤æ—¶ä¼šç”Ÿæˆ.pubçš„å…¬é’¥ä¸æ²¡æœ‰åç¼€çš„ç§é’¥ï¼š å›¾2.14 æˆåŠŸç”Ÿæˆå¯†é’¥ æ­¤æ—¶å†å°†å…¬é’¥ç§é’¥éƒ¨ç½²åˆ°GitHubï¼š image-20200721163516689 å›¾2.15 GitHubéƒ¨ç½²å…¬é’¥ image-20200721163738918 å›¾2.16 GitHubéƒ¨ç½²ç§é’¥ ç¼–å†™deploy.ymlæ–‡ä»¶é¦–å…ˆå…ˆåœ¨ä»“åº“æ ¹ç›®å½•æ–°å»º.github/workflowsæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹æ–°å»ºdeploy.ymlæ–‡ä»¶ ç„¶åç¼–å†™æ­¤æ–‡ä»¶ï¼š 1234567891011121314151617181920212223242526name: Deploymenton: push: branches: - masterjobs: deploy: runs-on: ubuntu-latest strategy: matrix: node-version: [12.x] steps: - uses: actions/checkout@v1 - name: Use Node.js $&#123;&#123; matrix.node-version &#125;&#125; uses: actions/setup-node@v1 with: node-version: $&#123;&#123; matrix.node-version &#125;&#125; - name: Install Packages run: npm install - name: Build page run: npm run build - name: Deploy to gh-pages uses: peaceiris/actions-gh-pages@v3 with: deploy_key: $&#123;&#123; secrets.ACTIONS_DEPLOY_KEY &#125;&#125; publish_dir: ./build æ­¤æ—¶è‡ªåŠ¨åŒ–æµç¨‹éƒ¨ç½²å·²å®Œæˆï¼Œæ¯æ¬¡commitä¾¿ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ°GitHubæœåŠ¡å™¨ä¸­ã€‚ å›¾2.17 GitHubéƒ¨ç½²æµç¨‹ å›¾2.18 è‡ªåŠ¨åŒ–éƒ¨ç½² æ·»åŠ ä¾èµ–ç¼“å­˜ä¸Šé¢çš„æµç¨‹å¦‚æœä»”ç»†æŸ¥çœ‹çš„è¯ï¼Œä¼šå‘ç°ä¸€ä¸ªé—®é¢˜â€”â€”æ¯ä¸€æ¬¡commitéƒ½ä¼šè¿›è¡Œä¸€æ¬¡Install Packageçš„æ“ä½œï¼Œè¿™æ ·ä¸ä»…æµªè´¹äº†æ€§èƒ½ï¼Œè¿˜æå¤§çš„æµªè´¹äº†æ—¶é—´ï¼Œæ¯ä¸€æ¬¡éƒ½ä¼šæµªè´¹å¹³å‡50så·¦å³çš„æ—¶é—´è¿›è¡Œä¾èµ–ä¸‹è½½ï¼Œå ç”¨äº†æˆ‘ä»¬çš„å¼€å‘æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œå¯¹äºnode_modulesåšäº†ç¼“å­˜æ“ä½œï¼Œæœ€ç»ˆdeploy.ymlæ–‡ä»¶å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435name: Deploymenton: push: branches: - masterjobs: deploy: runs-on: ubuntu-latest strategy: matrix: node-version: [12.x] steps: - uses: actions/checkout@v1 - name: Use Node.js $&#123;&#123; matrix.node-version &#125;&#125; uses: actions/setup-node@v1 with: node-version: $&#123;&#123; matrix.node-version &#125;&#125; - name: Cache node modules uses: actions/cache@v1 with: path: node_modules key: $&#123;&#123; runner.os &#125;&#125;-node-$&#123;&#123; hashFiles('**/package-lock.json') &#125;&#125; restore-keys: | $&#123;&#123; runner.OS &#125;&#125;-build-$&#123;&#123; env.cache-name &#125;&#125;- $&#123;&#123; runner.OS &#125;&#125;-build- $&#123;&#123; runner.OS &#125;&#125;- - name: Install Packages run: npm install - name: Build page run: npm run build - name: Deploy to gh-pages uses: peaceiris/actions-gh-pages@v3 with: deploy_key: $&#123;&#123; secrets.ACTIONS_DEPLOY_KEY &#125;&#125; publish_dir: ./build æµ‹è¯•ä¸€ä¸‹ï¼š å›¾2.19 æœªåŠ ç¼“å­˜ å›¾2.20 æ·»åŠ ç¼“å­˜ å¯ä»¥çœ‹åˆ°ä¸‹è½½ä¾èµ–çš„æ—¶é—´ä»42så˜ä¸ºäº†9sï¼Œå¯ä»¥è¯´æ˜¯è´¨çš„é£è·ƒäº†~ æˆæœéƒ¨ç½²æˆæœæŸ¥çœ‹ Githubä»“åº“","categories":[{"name":"study","slug":"study","permalink":"http://blog.fivezha.cn/categories/study/"}],"tags":[{"name":"typescript","slug":"typescript","permalink":"http://blog.fivezha.cn/tags/typescript/"},{"name":"github","slug":"github","permalink":"http://blog.fivezha.cn/tags/github/"}]},{"title":"è°œä¹‹githubå¾½ç« ä»¥åŠå­˜å‚¨ä»‹è´¨æ„Ÿæ‚Ÿ","date":"2020-07-18T14:51:41.000Z","path":"2020/07/18/github-arctic/","text":"æ²¡æƒ³åˆ°å±…ç„¶è¿™ä¹ˆå¿«å°±æŠ•å…¥ä½¿ç”¨äº† &nbsp;&nbsp;&nbsp;&nbsp;ä»Šå¤©ç‚¹å¼€äº†è®¸ä¹…æœªæ‰“å¼€çš„GitHubï¼Œè¿˜æ²¡æ¥å¾—åŠç‚¹è¿›åŠ¨æ€æŸ¥çœ‹å¤§ä½¬ä»¬starçš„é¡¹ç›®ä¹‹å‰ï¼Œè‡ªå·±ä¾¿å…ˆè¢«ä¸€åˆ™æ¶ˆæ¯å¸å¼•äº†ï¼Œæœ¬ç€å¤ªé•¿ä¸çœ‹çš„åŸåˆ™ï¼Œè¿˜æœªä»”ç»†æŸ¥çœ‹ä¾¿æ¡ä»¶åå°„èˆ¬çš„ç‚¹äº†Got itçš„åœ†è§’çŸ©å½¢æŒ‰é’®ã€‚ä¹‹åæˆ‘çš„è§†çº¿ä¾¿é¡ºç€æ°”æ³¡å‡¸èµ·æŒ‡å‘çš„ä½ç½®å¯»å»ï¼Œå‘ç°äº†ä¸€æšé›ªèŠ±å½¢çŠ¶æ–°å¾½ç« å‡ºç°åœ¨äº†è‡ªå·±Profile -&gt; Highlightsä¸Šï¼Œè®©é‚£æšProå¾½ç« æ˜¾å¾—ä¸é‚£ä¹ˆå­¤å•ã€‚æŸ¥çœ‹äº†ä¸€ä¸‹è¯¦ç»†ä¿¡æ¯åï¼Œé˜¿è¿™ï¼Œè¿™ä¸æ˜¯åŠå¹´å‰åœ¨æ²¹ç®¡çœ‹åˆ°è¿‡çš„GitHubåŒ—æä»£ç åº“è®¡åˆ’å—ï¼Ÿï¼ image-20200718231856879 &nbsp;&nbsp;&nbsp;&nbsp;å½“æ—¶å› ä¸ºæ–°å† çš„åŸå› å®…åœ¨å®¶é‡Œå®åœ¨æ˜¯å¤ªé—²äº†ï¼Œç”šè‡³æ— èŠåˆ°äº†åœ¨æ²¹ç®¡æœç´¢GitHubâ€¦â€¦. &nbsp;&nbsp;&nbsp;&nbsp;ç„¶åå°±çœ‹åˆ°äº†ä¸‹é¢çš„è¿™ä¸ªè§†é¢‘ğŸ‘‡(Youtubeè§†é¢‘ï¼Œæ˜¾ç¤ºå¯èƒ½éœ€è¦æŸäº›æ‰‹æ®µ) &nbsp;&nbsp;&nbsp;&nbsp;å¤§è‡´è®²çš„å°±æ˜¯æŠŠä»£ç å­˜ä¸€ä»½åˆ°åŒ—æå»ç•™ä½œå¤‡ä»½ï¼Œç”¨ä»¥åæ¥ä¿¡æ¯æ–­å±‚çš„äººä»¬è€ƒå¤ç”¨ï¼Œç”¨ä»¥æœ€å®¹æ˜“ç†è§£çš„ç¬¦å·è¡¨ç¤ºè§£å¯†æ–¹æ¡ˆï¼ˆæ€ä¹ˆè¶Šå¬è¶Šåƒè‡ªä¸¾ï¼‰ï¼Œç„¶åæ ¹æ®è§£å¯†æ–¹æ¡ˆæŸ¥æ‰¾ä¿¡æ¯ã€‚wowï¼Œawesomeï¼ç«Ÿç„¶è¿™ä¹ˆå¿«å°±ä¸Šçº¿äº†ï¼Œä¸æ„§æ˜¯å¾®è½¯æ—¶ä»£çš„GitHubï¼Œæœ‰é’±å°±æ˜¯æ•ˆç‡é«˜å•Šã€‚ &nbsp;&nbsp;&nbsp;&nbsp;è™½ç„¶æ²¡æœ‰è¢«é‡‡ç”¨ï¼Œä½†æ˜¯æˆ‘æœ€æ„Ÿå…´è¶£çš„è¿˜æ˜¯å…¶ä¸­æåˆ°çš„å­˜å‚¨ä»‹è´¨â€”â€”ç£å¸¦ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;è¯´åˆ°ç£å¸¦ï¼Œåº”è¯¥å¯ä»¥è¯´æ˜¯å¾ˆå¤šäººçš„â€œ ç«¥å¹´ â€äº†ï¼Œæ¯å¤©æ™šä¸Šæ´—è„šçš„æ—¶å€™ï¼Œæ¯å¤©æ—©æ™¨åƒé¥­çš„æ—¶å€™ï¼Œæœ¬åº”è¯¥åœ¨æ„‰å¿«çš„åŠ¨ç”»ä¸­åº¦è¿‡çš„æ—¶é—´ï¼Œè¢«ç¡¬ç”Ÿç”Ÿçš„å®‰æ’æˆè‹±è¯­å¬åŠ›æ—¶é—´ï¼Œæ¯å¤©å¬ç€æœºæ¢°ä¸€èˆ¬çš„æ— æ„Ÿæƒ…çš„å•è¯æœ—è¯»å’Œå¼ºæŒ¤å‡ºæ¥çš„å¥½ä¼¼ä½¿å‡ºäº†è‡ªå·±æ¯•ç”Ÿå®åŠ›çš„æµ®å¤¸æ¼”æŠ€å¯¹è¯ä»…æ˜¯ä¸ºäº†é‚£ç”¨äºç³Šå¼„è€å¸ˆçš„å¥½ä¼¼æ— ä¸Šçš„åœ£æ—¨ä¸€èˆ¬çš„å®¶é•¿ç­¾å­—ã€‚æœ‰è¿‡ç±»ä¼¼ç»å†çš„hxdä»¬ä¼°è®¡å·²ç»æ—¶ä¼šå¿ƒä¸€ç¬‘äº†ï¼Œç„¶è€Œéšç€æ—¶ä»£å‘å±•ï¼Œç£å¸¦è¿™ä¸€æ‰¿è½½ç€ç«¥å¹´å›å¿†çš„ç‰©ä»¶å¦‚ä»Šå´åŸºæœ¬ä¸Šåœ¨ç”Ÿæ´»æ¶ˆè´¹å¸‚åœºä¸Šé”€å£°åŒ¿è¿¹äº†ï¼Œç°ä»£è¯¾æœ¬ä¹Ÿå·²ç»åŸºæœ¬ä¸Šå…¨é¢ä½¿ç”¨å…‰ç›˜ä½œä¸ºé™„è½½ä¿¡æ¯çš„å­˜å‚¨ä»‹è´¨äº†ã€‚ç„¶è€Œï¼Œç£å¸¦ä½œä¸ºä¸€ç§ç»å†äº†åŠä¸ªå¤šä¸–çºªçš„å­˜å‚¨ä»‹è´¨ï¼Œå´ä»æœªæ¶ˆäº¡ï¼Œæ²¦ä¸ºæ”¶è—å®¶çš„ç©ç‰©ï¼Œåè€Œåœ¨æ›´åŠ é«˜ç²¾å°–çš„ç ”ç©¶æœºæ„/ä¼ä¸šå­˜å‚¨ä¸­ç»§ç»­å‘å…‰å‘çƒ­ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„è¨€è®ºå¹¶éèƒ¡æ€ä¹±æƒ³çš„æ°‘ç§‘è¡Œä¸ºï¼Œè€Œæ˜¯å®æ‰“å®çš„å­˜åœ¨æœ‰å…¬å¼€æ•°æ®çš„ï¼š image-20200719125239292 ä¸­å›½ç§‘å­¦é™¢é¥æ„Ÿä¸æ•°å­—åœ°çƒç ”ç©¶æ‰€LTOç£å¸¦é‡‡è´­å…¬å‘ŠğŸ‘† image-20200719125412481 åŸºå› ç»„ç ”ç©¶æ‰€æµ·é‡ç£å¸¦åº“å¤‡ä»½ç³»ç»Ÿæ­£å¼æŠ•å…¥è¿è¡ŒğŸ‘† &nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥çœ‹åˆ°ï¼Œç”šè‡³åœ¨ä¸­å›½ç§‘å­¦é™¢å†…éƒ¨ï¼Œç£å¸¦ä¾æ—§æ˜¯å¾ˆé‡è¦çš„å­˜å‚¨ä»‹è´¨ï¼Œä¸ä»…åœ¨å›½å†…ï¼Œå›½å¤–å„å¤§ç ”ç©¶æœºæ„ä¹Ÿæ˜¯ç£å¸¦çš„â€œå¤§å®¢æˆ·â€ï¼š å›½é™…è¯„ä»·ä¸­å­æ ¸æ•°æ®åº“ä¸­ä¾¿å¤šæ¬¡æåˆ°ç£å¸¦ï¼Œå¹¶ä¸”æ˜ç¡®æå‡ºç¦»çº¿æ£€ç´¢ä¸­åŒ…å«ç£å¸¦æ•°æ®ï¼Œå¯ä»¥è¯´ï¼Œç£å¸¦åªä¸è¿‡æ¢äº†ä¸€ç§æ–°çš„æ–¹å¼å­˜åœ¨ï¼Œå¹¶ä¸”å‘å±•çš„æ›´åŠ èŒå£®ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;è®²åˆ°è¿™é‡Œï¼Œè‚¯å®šå¾ˆå¤šäººéƒ½ä¼šæœ‰ç€å¤§å¤§çš„ç–‘æƒ‘â€”â€”ä¸ºä»€ä¹ˆè¿™äº›ç ”ç©¶æœºæ„ä¸ä½¿ç”¨æ›´åŠ â€œç°ä»£â€çš„å­˜å‚¨å·¥å…·å‘¢ï¼Ÿå’±ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;çŒ›ç„¶æåˆ°ç ”ç©¶æœºæ„æœ‰ç‚¹è®©äººä¸çŸ¥æ‰€æªï¼Œä¸å¦‚æˆ‘ä»¬å…ˆä»ä¸€äº›æ—§ç…§ç‰‡ä¸­æ‰¾å¯»ä¸€ä¸‹çº¿ç´¢ï¼š img ibm 1960s | Ibm, Old computers This room-sized IBM computer from the 1960s was awesome in it's &nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢ä¸€ç»„ç…§ç‰‡æ‹æ‘„äºä¸Šä¸–çºª60å¹´ä»£ï¼Œå¯ä»¥çœ‹åˆ°å½“æ—¶çš„ç£å¸¦å­˜æ”¾å¹¶ç”¨äºå¤§å‹æœºæˆ¿ï¼Œç”±ä¸“ä¸šçš„æ“ä½œå‘˜è¿›è¡Œä¸“ä¸šçš„æ“ä½œçš„ï¼Œæ²¡é”™ï¼Œ1952å¹´ï¼ŒIBMæˆåŠŸå‘å¸ƒäº†è®¡ç®—æœºä¸šå†…çš„ç¬¬ä¸€æ¬¾ç£å¸¦æœºï¼Œæ‹‰å¼€äº†ç£å¸¦å‘å±•ç¬¬ä¸€æ—¶æœŸçš„åºå¹•ã€‚è¿™ä¸€æ—¶æœŸå»¶ç»­äº†35å¹´ï¼Œä¸»è¦ç‰¹å¾æ˜¯åœ†è½´ç£å¸¦çš„ä½¿ç”¨ï¼Œå¹¶ä¸”éœ€è¦äººå·¥æ‰‹åŠ¨æ“ä½œ(è£…è½½ã€å¸è½½å’Œå½’æ¡£)ã€‚å¦‚æœè¯´å½“æ—¶ä½¿ç”¨ç£å¸¦æ˜¯æ²¡æœ‰é€‰æ‹©ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆç°ä»£ç§‘ç ”æœºæ„ä¹Ÿè¿˜æ˜¯ç»§ç»­ä½¿ç”¨ç£å¸¦å‘¢ï¼Ÿ &nbsp;&nbsp;&nbsp;&nbsp;åˆ«æ€¥ï¼Œæ¥ç€å¾€ä¸‹è®²ï¼Œæ—¶é—´è·¨è¶Šåˆ°åƒç¦§å¹´å¾€åçš„2002å¹´ï¼Œæ­¤æ—¶ç£å¸¦è·¨è¶Šäº†ç¬¬äºŒä¸ªæ—¶ä»£â€”â€”è¿‘ç°æ—¶ä»£ï¼Œæ­¤æ—¶ç£å¸¦å·²ç»ä¸éœ€è¦é‚£ç§å¤§å‹ç£å¸¦é©±åŠ¨å™¨ï¼Œä¸ä¸“ç”¨äºä¸»æœºï¼Œè¿™è®©ä¾¿æºå’Œä½æˆæœ¬äº§å“å¾—ä»¥äºå¹³æ°‘æ¶ˆè´¹å¸‚åœºé¢ä¸–ï¼Œè‡ªç„¶ï¼Œå»‰ä»·çš„å­˜å‚¨ä»‹è´¨å’Œä¾¿äºæºå¸¦çš„ç‰¹æ€§å¾ˆå¿«ä¾¿æ€èµ·äº†ä¸€è‚¡é£æ½®â€¦â€¦åŒå¹´ï¼Œç£å¸¦çš„å®¹é‡é¦–æ¬¡è¶…è¿‡äº†æœ€å¤§ç£ç›˜çš„å®¹é‡ï¼Œè¿‡å»ï¼Œä¸€ä¸ªç£ç›˜æ‰€èƒ½å®¹çº³çš„ä¿¡æ¯é‡å¾€å¾€éœ€è¦å¤šç›’ç£å¸¦æ‰èƒ½è£…å¾—ä¸‹ï¼›ä½†æ˜¯ç°åœ¨æƒ…å†µå®Œå…¨åè¿‡æ¥ï¼Œä¸€ç›’ç£å¸¦å°±å¯ä»¥å®¹çº³å¤šä¸ªç£ç›˜çš„æ•°æ®ã€‚ç£ç›˜çš„å¤±è´¥ä»æ­¤ä¾¿å¯è§ä¸€æ–‘ã€‚ éšèº«æºå¸¦çš„ç£å¸¦æ’­æ”¾å™¨ &nbsp;&nbsp;&nbsp;&nbsp;åé¢çš„äº‹æƒ…å¤§å®¶ä¹Ÿéƒ½ç»å†äº†ï¼Œè®¡ç®—æœºç¡¬ç›˜/è½¯ç›˜çš„å‡ºç°ï¼Œæ”¹å˜äº†å®¶ç”¨ç”µè„‘çš„å­˜å‚¨å¢ƒå†µï¼Œå•ä½ä½“ç§¯çš„å®¹é‡å¤§å¤§æå‡ï¼Œå…¨é¢æ”¹å–„äº†ç”¨æˆ·ä½“éªŒï¼Œè¿™ä½¿å¾—å®¶ç”¨ç”µè„‘çŸ­æš‚çš„ç£å¸¦å­˜å‚¨ä»‹è´¨çš„æ—¶ä»£æå…¶çŸ­æš‚ã€‚ è‹¹æœâ…¡ ä½¿ç”¨ç£å¸¦ä½œä¸ºå­˜å‚¨åª’ä»‹ è‹¹æœâ…¡ ä½¿ç”¨ç£å¸¦ä½œä¸ºå­˜å‚¨åª’ä»‹ é›…è¾¾åˆ©5200 &nbsp;&nbsp;&nbsp;&nbsp;ä»è¿™é‡Œï¼Œå…¶å®å°±å¯ä»¥çœ‹å‡ºæ°‘ç”¨è®¾å¤‡ä¸ç§‘ç ”è®¾å¤‡é€‰ç”¨ä¸Šçš„äº›è®¸å·®è·äº†ï¼Œæ°‘ç”¨è®¾å¤‡ä¸»è¦è®²ç©¶çš„å°±æ˜¯æˆæœ¬å’Œä¾¿åˆ©ï¼Œè€Œç§‘ç ”è®¾å¤‡ä¸»è¦è€ƒè™‘çš„åˆ™æ˜¯ç¨³å®šæ€§å’ŒæŒä¹…æ€§ã€‚å¥½äº†è¯´äº†è¿™ä¹ˆå¤šï¼Œå¤§æ¦‚å†å²ä¹Ÿè¯´æ˜äº†ï¼Œç£å¸¦ä½œä¸ºä¸€ç§å†å²æ‚ ä¹…çš„å­˜å‚¨ä»‹è´¨ï¼Œç”šè‡³ä¸€ç›´åˆ°2002å¹´è¿˜åœ¨å‘å±•ï¼Œä½†æ˜¯å…¶å•ä½ä½“ç§¯çš„å­˜å‚¨å®¹é‡ä½¿å¾—å…¶æ— æ³•åœ¨æ°‘ç”¨å¤§æ”¾å¼‚å½©ã€‚æ€»ç»“ä¸€ä¸‹ï¼Œç£å¸¦ä»·æ ¼ä½å»‰ï¼Œå‘å±•æ²¡æœ‰è½åï¼Œä½†æ˜¯å•ä½ä½“ç§¯å­˜å‚¨å®¹é‡å°ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;ç›¸ä¿¡å·²ç»æœ‰äººåˆ†æå‡ºæ¥ç»“æœäº†ï¼Œåœ¨è¿™é‡Œæˆ‘å¼•ç”¨ä¸€ä¸‹CERNæ•°æ®å­˜å‚¨ä¸»ç®¡Alberto Paceçš„åˆ†ææ¥è¯´æ˜ä¼˜ç‚¹ &nbsp;&nbsp;&nbsp;&nbsp;ç›¸æ¯”ç¡¬ç›˜ï¼Œç£å¸¦å‚¨å­˜æ‹¥æœ‰4å¤§ä¼˜åŠ¿ï¼šè™½ç„¶ï¼Œç£å¸¦çš„è£…å¸æ˜¯è½åçš„ï¼Œå³ä½¿åœ¨è‡ªåŠ¨åŒ–è£…ç½®ååŠ©ä¸‹ï¼Œåœ¨å‚¨å­˜åº“ä¸­æ‰¾å‡ºå¯¹åº”çš„ç£å¸¦å¹¶è£…å…¥è¯»å–è£…ç½®ä¸­æœ€å¿«ä¹Ÿéœ€è¦40ç§’ã€‚ä½†æ˜¯ä¸€æ—¦å°±ç»ªåï¼Œç£å¸¦çš„è¯»å–é€Ÿåº¦å´å¯ä»¥è¾¾åˆ°ç¡¬ç›˜çš„4å€ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;å…¶æ¬¡æ˜¯å¯é æ€§ã€‚ç£å¸¦ä¹Ÿä¼šé‡åˆ°æŸæ¯çš„æƒ…å†µï¼Œå¦‚æ–­è£‚ã€‚ä½†æ–­è£‚åçš„ç£å¸¦ä»å¯ä»¥é‡æ–°æ¥ä¸Šï¼Œè€Œä¸”ä»…ä¼šé€ æˆæ•°ç™¾MBçš„æŸå¤±â€”â€”è¿™å¯¹äºåŠ¨è¾„ä¸ŠTBçš„ä¸“ä¸šå‚¨å­˜è®¾å¤‡æ¥è¯´ï¼Œå®åœ¨å°äº‹ä¸€æ¡©ã€‚ä½†å¯¹ç¡¬ç›˜æ¥è¯´ï¼Œç‰©ç†æŸåç”šè‡³ä¼šå¯¼è‡´å…¨éƒ¨æ•°æ®ä¸¢å¤±ã€‚CERNçš„å®é™…æ•°æ®æ˜¯ï¼Œä»–ä»¬æ¯å¹´å‚¨å­˜åœ¨ç£å¸¦ä¸Šçš„100PBæ•°æ®ï¼ˆ1PBç›¸å½“äº1000TBï¼‰ï¼Œæ¯å¹´ä¼šæŸå¤±æ•°ç™¾MBï¼›ç›¸å¯¹çš„ï¼Œå‚¨å­˜åœ¨ç¡¬ç›˜ä¸Šçš„50PB æ•°æ®ï¼Œè¿™ä¸ªæ•°å­—åˆ™è¾¾æ•°ç™¾TBã€‚ &nbsp;&nbsp;&nbsp;&nbsp;è¿˜æœ‰å°±æ˜¯ï¼Œå¯¹äºç£å¸¦æ¥è¯´ï¼Œçªç„¶æ–­ç”µä¹Ÿä¸ä¼šæŸåè®°å½•ä¸‹æ¥çš„èµ„æ–™ï¼Œä½†å¯¹äºç¡¬ç›˜æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä»¶å±é™©çš„äº‹æƒ…ã€‚â€‹&nbsp;&nbsp;&nbsp;&nbsp;æœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œæ˜¯ç£ç›˜ä¸€å®šç¨‹åº¦ä¸Šæ›´åŠ å®‰å…¨ã€‚æ¯”å¦‚è¯´å¦‚æœä¸€é—´å…¬å¸çš„æ•°æ®ä¸­å¿ƒè¢«é»‘å®¢åŠ«æŒï¼Œä»–å¯ä»¥åœ¨æ•°åˆ†é’Ÿå†…è®©ç¡¬ç›˜ä¸Š50PBæ•°æ®ä»æ­¤åœ¨ä¸–ä¸Šæ¶ˆå¤±ï¼Œä½†å¦‚æœç£å¸¦çš„è¯ï¼Œä¸å¥½æ„æ€ï¼Œå¯èƒ½éœ€è¦æ•°å¹´ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;ä¸è¿‡ï¼Œç£å¸¦å‚¨å­˜å¹¶éåªä¸é‚£äº›æ¯ç§’å°±ç¢°æ’å‡ºå‡ ä¸ªGBçš„æ ¸å­å¯¹æ’å®éªŒå®¤æœ‰å¯†åˆ‡è”ç³»ã€‚è°ƒæŸ¥è¡¨æ˜ï¼Œç£å¸¦å‚¨å­˜ä¹ŸåŒæ ·é€‚åˆä¸­å°å‹ä¼ä¸šã€‚ &nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œç£å¸¦å‚¨å­˜æ›´ä¾¿å®œä¹Ÿæ›´æŒä¹…ã€‚æ•°æ®åœ¨ç£å¸¦ä¸Šå¾€å¾€èƒ½å­˜æ”¾è¶…è¿‡30å¹´ï¼›ç¡¬ç›˜è¶…è¿‡5å¹´çš„è¯ï¼Œå¦‚æœä½ æ˜¯å…¬å¸çš„ITä¸»ç®¡ï¼Œä½ å°±éœ€è¦è€ƒè™‘å°†æ•°æ®è½¬ç§»äº†ã€‚è€Œä¸”ç£å¸¦ç›®å‰ä»ç„¶æ˜¯å‚¨å­˜æˆæœ¬æœ€ä½çš„è§£å†³æ–¹æ¡ˆï¼Œç›®å‰å¤§æ¦‚æ¯GBæ•°æ®åœ¨ç£å¸¦ä¸Šçš„æˆæœ¬ä¸º4ç¾åˆ†ï¼Œç¡¬ç›˜çš„è¯åˆ™ä¸º10ç¾åˆ†ã€‚å¦‚æœè€ƒè™‘åˆ°å‰é¢æ‰€è¯´çš„å¯¿å‘½é—®é¢˜ï¼Œå·®è·å°†ä¼šæ›´å¤§ã€‚æ‰€ä»¥ï¼Œç£å¸¦åœ¨å±•ç¤ºè¿˜å¹¶æ²¡æœ‰å‡ºç°çœŸæ­£æ¶ˆäº¡çš„è¿¹è±¡ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†è¿™ä¸ªè€ä¸€ä»£çš„äº§å“æ‰€å¯»æ±‚çš„ç”Ÿå­˜æ½œåŠ›ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;å¥½äº†ï¼Œè®²å®Œäº†ä¸€ä¸ªä¼ å¥‡çš„å†å²ï¼Œå…¶å®æœ€è®©æˆ‘æƒŠå¥‡çš„æ˜¯ä¸€ä¸ªå·²ç»æ·¡å‡ºç”Ÿæ´»çš„ç‰©ä»¶ç«Ÿç„¶åœ¨å¦å¤–ä¸€ä¸ªé¢†åŸŸè¿˜æœ‰è¿™ä¸ä¿—çš„å½±å“ï¼Œç£å¸¦å°±å¦‚åŒè½¯ä»¶è¯­è¨€çš„C++ä¸€æ ·ï¼Œâ€œè€â€ ï¼Œä¹ƒäºå®ƒçš„å†å²ã€‚è€ŒæŠ€æœ¯å´ä¸€ç›´åœ¨æ”¹è‰¯ã€‚ç£å¸¦å’Œå…¶ä»–å¤§éƒ¨åˆ†å‚¨å­˜åª’ä»‹ä¸€æ ·ï¼Œç£å¸¦çš„å‚¨å­˜å¯†åº¦ä¹Ÿä¸€ç›´åœ¨æ”€å‡ï¼ˆéµå¾ªæ‘©å°”å®šå¾‹ï¼‰ã€‚å…¶å®è¿™ç§æƒ³å½“ç„¶çš„äº‹æƒ…å¹¶ä¸å°‘è§ï¼Œæ¯”å¦‚å¸¸å¹´æ··è¿¹æ‰‹æœºåœˆå­çš„äººï¼Œæ€»ä¼šè¯´ä¸€å¥ï¼š ç´¢å°¼è¦å‡‰ &nbsp;&nbsp;&nbsp;&nbsp;ä½†å…¶å®å‘¢ï¼Œç´¢å°¼é ç€å…¨ä¸–ç•Œçš„éŸ³ä¹ç‰ˆæƒï¼Œhi-resï¼ŒPSç³»åˆ—ï¼Œç›¸æœºï¼Œç”µè§†Â·Â·Â·Â·Â·Â·å¦‚æ­¤ä¹‹å¤šçš„äº§ä¸šæ—©å°±è®©ç´¢å°¼èµšçš„ç›†æ»¡é’µæ»¡ï¼Œè¯´ä¸å‡†æ‰‹æœºäº§ä¸šå°±æ˜¯æ‹¿æ¥è¯•æ°´çš„ï¼Œåˆ°æ—¶å€™ï¼Œå…¬å¼€å®£å¸ƒé€€å‡ºçš„æ—¶å€™ï¼Œå¤§æŠµåˆä¼šæœ‰äººè¯´é“ï¼š ç´¢å°¼æœç„¶å‡‰äº† &nbsp;&nbsp;&nbsp;&nbsp;å½“ç„¶ï¼Œè¿™å…¶å®å¾ˆæ­£å¸¸ï¼Œå› ä¸ºäººç±»å°±æ˜¯è¿™æ ·çš„ç”Ÿç‰©ï¼Œåœ¨ä¸¹å°¼å°” Â· å¡å°¼æ›¼æ‰€è‘—çš„ã€Šæ€è€ƒï¼Œå¿«ä¸æ…¢ã€‹ç¬¬äº”ç« ä¸­ä¾¿æè¿°äº†è¿™ç§ç°è±¡ï¼Œä¸‹é¢æˆ‘æå‡ºä¸€ä¸ªé—®é¢˜ï¼Œå†åšå‡ºåˆ†æï¼š ç°åœ¨æˆ‘å…¬å¸æœ‰å¤§é‡çš„é‡è¦æ•°æ®é›†é™æ€èµ„æºéœ€è¦é•¿æ—¶é—´ç¨³å®šä½¿ç”¨ï¼Œä»…æ˜¯ç”¨äºè¯»å–ï¼Œè¯·é—®æˆ‘é€‰å–å­˜å‚¨ä»‹è´¨çš„æ—¶å€™æ˜¯é€‰ç”¨SSDè¿˜æ˜¯HDDå‘¢ï¼Ÿ è¯·ä½œç­”ã€‚ ã€‚ ã€‚ ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;hummmmmï¼Œç›¸ä¿¡å¤§å¤šæ•°äººå¾ˆå¿«é€‰äº†HDDäº†ï¼Œå› ä¸ºé•¿æ—¶é—´ç¨³å®šå­˜å‚¨è¿˜æ˜¯å¤§é‡çš„å­˜å‚¨ï¼Œå¬è¯´è¿‡SSDæŸè€—çš„ä¼°è®¡éƒ½æ—©æ—©æ’é™¤äº†SSDè¿™ä¸ªé€‰é¡¹äº†ã€‚äº‹å®ä¸Šå‘¢ï¼Œè¿™é‡Œåº”è¯¥é€‰ç”¨SSDï¼Œå› ä¸ºä»…æ˜¯ç”¨äºè¯»å–ï¼Œè€ŒSSDçš„è¯»å–æ˜¯ä¸ä¼šæœ‰æŸè€—çš„ï¼Œä»…æ˜¯å†™å…¥ä¼šæœ‰æŸè€—ï¼ˆè¿™é‡Œå¯ä»¥å»çœ‹ä¸€ä¸‹SSDåŸç†å°±æ˜ç™½äº†ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œå»ºè®®é€‰å–å¿«é€Ÿçš„SSDæ›´ä½³ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;å½“ç„¶ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼šâ€œè¿™SSDè¯»å–ä¸æŸè€—æˆ‘ä¹Ÿä¸çŸ¥é“å•Šâ€ï¼Œé‚£ä½ ä¸ºä»€ä¹ˆä¸å»ç™¾åº¦å‘¢ï¼Ÿå…¶å®è¿™é‡Œæ˜¯ä½ çš„â€œç³»ç»Ÿ1â€â€”â€”ç»éªŒç³»ç»Ÿåœ¨ä½œæ€ªï¼Œä½ æƒ³å½“ç„¶çš„æŠŠä½ å·²çŸ¥çš„ä¿¡æ¯å¸¦å…¥äº†å½“å‰ç¯å¢ƒä¸­æ¥ï¼Œå¯¼è‡´ä½ ä¸èƒ½å­˜åœ¨å®¢è§‚çš„é€»è¾‘åˆ¤æ–­ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢æ˜¯åŸä¹¦ä¸­çš„å½¢å®¹ï¼š a b &nbsp;&nbsp;&nbsp;&nbsp;å‡ ä¹å¯ä»¥è¯´ï¼Œæˆ‘ä»¬å¤§å¤šæ•°æ—¶é—´éƒ½ä¸èƒ½ç¦»å¼€è¿™ä¸ªç³»ç»Ÿï¼Œå®ƒèƒ½å¸®åŠ©æˆ‘ä»¬åšå‡ºå¤§é‡çš„ç®€å•çš„åˆ¤æ–­ï¼Œæ¯”å¦‚é—¹é“ƒå“äº†ï¼Œæ‰‹æœºæ²¡ç”µäº†ï¼Œè¿™äº›éƒ½æ˜¯ç”±ä½ çš„â€œç³»ç»Ÿ1â€æ¥åšå‡ºåˆ¤æ–­ï¼Œä½†å½“ä½ è¢«è¿™ä¸ªç³»ç»Ÿç‰µç€é¼»å­èµ°ï¼Œå¾ˆå°‘è§‰å¾—è‡ªå·±ä¼šæœ‰â€œç³»ç»Ÿ2â€åˆ¤æ–­çš„æ—¶å€™ï¼Œä¾¿æ˜¯ä½ éœ€è¦è­¦è§‰çš„æ—¶å€™ï¼Œå› ä¸ºï¼Œæˆ‘ä»¬ç‹¬ç«‹æ€è€ƒçš„äººæ ¼ï¼Œæ‰æ˜¯æˆ‘ä»¬ä½œä¸ºä¸€ä¸ªæ´»åœ¨è¿™ä¸ªå¤šé¢çš„ä¸–ç•Œä¸­çš„æœ€å¥½ä½“ç°ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¾¿æ˜¯å°å¼Ÿçš„ä¸€ç‚¹ç‚¹å»¶å±•æ€è€ƒï¼Œä»…ä»£è¡¨è‡ªå·±çš„è§‚ç‚¹ï¼Œæ¬¢è¿åé©³ï¼Œä½†æ˜¯ä¸å–œå‹¿å–·ï¼Œå’Œå¹³è®¨è®ºã€‚","categories":[{"name":"daily","slug":"daily","permalink":"http://blog.fivezha.cn/categories/daily/"}],"tags":[{"name":"æ—¥å¸¸çå†™","slug":"æ—¥å¸¸çå†™","permalink":"http://blog.fivezha.cn/tags/%E6%97%A5%E5%B8%B8%E7%9E%8E%E5%86%99/"},{"name":"æ€è€ƒæ„Ÿæ‚Ÿ","slug":"æ€è€ƒæ„Ÿæ‚Ÿ","permalink":"http://blog.fivezha.cn/tags/%E6%80%9D%E8%80%83%E6%84%9F%E6%82%9F/"}]},{"title":"ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(5)---çº¦ç‘Ÿå¤«ç¯é—®é¢˜","date":"2020-07-17T09:24:23.000Z","path":"2020/07/17/algorithm4-Josephus/","text":"çº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼ˆè›®åŠ›ï¼Œæ•°å­¦è§£æ³•ï¼‰ é—®é¢˜çº¦ç‘Ÿå¤«é—®é¢˜æ˜¯ä¸€ä¸ªå¾ˆè‘—åçš„æ€äººé—®é¢˜ï¼š çº¦ç‘Ÿå¤«é—®é¢˜æ˜¯ä¸ªè‘—åçš„é—®é¢˜ï¼šNä¸ªäººå›´æˆä¸€åœˆï¼Œç¬¬ä¸€ä¸ªäººä»1å¼€å§‹æŠ¥æ•°ï¼ŒæŠ¥Mçš„å°†è¢«æ€æ‰ï¼Œä¸‹ä¸€ä¸ªäººæ¥ç€ä»1å¼€å§‹æŠ¥ã€‚å¦‚æ­¤åå¤ï¼Œæœ€åå‰©ä¸‹ä¸€ä¸ªï¼Œæ±‚æœ€åçš„èƒœåˆ©è€…ã€‚ä¾‹å¦‚ï¼šåªæœ‰ä¸‰ä¸ªäººï¼ŒæŠŠä»–ä»¬å«åšAã€Bã€Cï¼Œä»–ä»¬å›´æˆä¸€åœˆï¼Œä»Aå¼€å§‹æŠ¥æ•°ï¼Œå‡è®¾æŠ¥2çš„äººè¢«æ€æ‰ã€‚ é¦–å…ˆAå¼€å§‹æŠ¥æ•°ï¼Œä»–æŠ¥1ã€‚ä¾¥å¹¸é€ƒè¿‡ä¸€åŠ«ã€‚ ç„¶åè½®åˆ°BæŠ¥æ•°ï¼Œä»–æŠ¥2ã€‚éå¸¸æƒ¨ï¼Œä»–è¢«æ€äº† Cæ¥ç€ä»1å¼€å§‹æŠ¥æ•° æ¥ç€è½®åˆ°AæŠ¥æ•°ï¼Œä»–æŠ¥2ã€‚ä¹Ÿè¢«æ€æ­»äº†ã€‚ æœ€ç»ˆèƒœåˆ©è€…æ˜¯C å¯æ€œï¼ŒçœŸå¯æ€œï¼Œæ•°å­¦å®¶çœŸæ˜¯å¿ƒç‹ æ‰‹è¾£ï¼ˆé›¾ï¼‰ è¾“å…¥è¿™é‡Œè·Ÿç®—æ³•ç¬¬å››ç‰ˆçš„è¾“å…¥æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘ä»¬æœ‰ä¸‰ä¸ªå‚æ•°ï¼š æ€»äººæ•° å‰©ä½™äººæ•° é—´éš”äººæ•° è¾“å‡ºæœ€åå‰©ä½™äººçš„ç¼–å·åˆé›†ï¼Œç”±é€—å·åˆ†éš” æš´åŠ›è§£æ³•è¯´æ˜é¡¾åæ€ä¹‰ï¼Œæ±‚ï¼Œå°±æ˜¯å—¯æ±‚ï¼Œé ç€å¤§é‡å¾ªç¯åšå‡ºæ¥çš„ç»“æœã€‚ å¾ªç¯åˆ é™¤ç›´åˆ°å‰©ä½™äººæ•°åˆ°éœ€è¦çš„äººæ•°ï¼Œæ¯ä¸€æ¬¡å¾ªç¯éƒ½åˆ é™¤é—´éš”äººæ•°åçš„é‚£ä¸ªï¼Œæœ€åå‰©ä¸‹æ¥çš„å°±æ˜¯æ´»ç€çš„äººã€‚ image-20200721161113695 å®ç°è¿™é‡Œæœ‰ä¸¤ä¸ªå®ç°ï¼Œå¯ä»¥ä½¿ç”¨åŒå‘é˜Ÿåˆ—å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨å¾ªç¯é“¾è¡¨å®ç°ã€‚ åŒå‘é˜Ÿåˆ—å®ç°ä»£ç 12345678910111213141516171819202122232425262728/** * åŒå‘é˜Ÿåˆ—æš´åŠ›æ±‚æ³• * å°±æ˜¯å—¯æ±‚ * */fun queueForceSolution(): String &#123; val sb = StringBuilder() // åˆå§‹åŒ–é˜Ÿåˆ— val deque = Deque&lt;Int&gt;().apply &#123; for (i in 1..totalPeople) pushRight(i) &#125; // æ²¡æœ‰åˆ°å‰©ä½™äººæ•°å°±ç»§ç»­å¾ªç¯ while (deque.size != remainPeople) &#123; // è·³è¿‡é—´éš”äººæ•° // è¿™é‡Œçš„è·³è¿‡ä¸ºäº†ä¸å½±å“åé¢çš„å¾ªç¯åšçš„æ˜¯å·¦å‡ºå³è¿›çš„æ–¹æ¡ˆ for (q in 1 until intervalPeople) deque.pushRight(deque.popLeft()) deque.popLeft() &#125; return sb.apply &#123; deque.forEachIndexed &#123; index, i -&gt; append(\"$&#123;i&#125;å·\") if (index != deque.size - 1) append(\", \") &#125; &#125;.toString()&#125; åŒå‘é˜Ÿåˆ—å®ç°è¯·çœ‹ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(4)â€”Deque,Buffer,å››æ•°ä¹‹å’Œ,ä¸‰æ•°ä¹‹å’Œ åˆ†ææ—¶é—´å¤æ‚åº¦ï¼š è¿™é‡Œçš„åŒå‘é˜Ÿåˆ—é‡‡ç”¨çš„æ˜¯é“¾è¡¨å®ç°ï¼Œæ‰€ä»¥è¿›å‡ºé˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯$\\mathcal{O}(1)$ï¼Œæ‰€ä»¥ä»…ç”¨è®¡ç®—å¾ªç¯æ—¶é—´å¤æ‚åº¦ã€‚ è®¾æ€»äººæ•° $T$ï¼Œé—´éš”äººæ•° $I$ï¼Œå‰©ä½™äººæ•° $R$ã€‚$$\\mathcal{O}((T-R)*I)$$ç©ºé—´å¤æ‚åº¦ï¼š å­˜åœ¨ä¸­é—´æ•°æ®ç»“æ„åŒå‘é˜Ÿåˆ—ï¼Œéå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ã€‚$$\\mathcal{O}(N)$$ å¾ªç¯é“¾è¡¨å®ç°å¾ªç¯é“¾è¡¨å¾ªç¯é“¾è¡¨ï¼Œå°±æ˜¯è¯´å¤´å°¾ç›¸è¿çš„é“¾è¡¨(å°±åƒæ˜¯äººä½“èœˆèš£é‚£æ ·) æ‰€ä»¥é¦–å…ˆæ¥å®ç°å¾ªç¯é“¾è¡¨ï¼š å¾ªç¯é“¾è¡¨å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168package ds/** * å¾ªç¯é“¾è¡¨ * æ­¤ç±»ä»…ç”¨äºçº¦ç‘Ÿå¤«ç¯é—®é¢˜ æ‰€ä»¥apiè®¾è®¡å¾ˆç®€å• * */class CircularLinkedList&lt;T&gt; : MutableIterable&lt;T&gt; &#123; private var _size = 0 private var first: Node&lt;T&gt;? = null private var last: Node&lt;T&gt;? = null val size get() = _size fun clear() &#123; var n = first while (n != null) &#123; val next = n.next // å¿«é€Ÿgc n.item = null n.next = null n.prev = null n = next &#125; first = null last = null _size = 0 &#125; fun isEmpty(): Boolean = _size == 0 fun add(element: T): Boolean &#123; linkedLast(element) return true &#125; override fun iterator(): MutableIterator&lt;T&gt; &#123; return IteratorImpl(0) &#125; private fun getNode(index: Int): Node&lt;T&gt; &#123; val reIndex = index % _size return if (reIndex &lt; (_size shr 1)) &#123; var node = first for (i in 0 until index) &#123; node = node?.next &#125; node!! &#125; else &#123; var node = last for (i in _size - 2 downTo index) &#123; node = node?.prev &#125; node!! &#125; &#125; /** * è¿æ¥å°¾èŠ‚ç‚¹ * */ private fun linkedLast(item: T) &#123; val l = last val nNode = Node(item, l, null) last = nNode if (l == null) &#123; first = last &#125; else &#123; l.next = nNode &#125; first!!.prev = nNode nNode.next = first _size++ &#125; /** * è§£è¿æ¥ * */ private fun unlink(node: Node&lt;T&gt;): T &#123; val npre = node.prev val nnext = node.next val nitem = node.item if (npre == last &amp;&amp; nnext == first) &#123; last = null first = null &#125; else &#123; if (node == first) first = nnext if (node == last) last = npre npre!!.next = nnext nnext!!.prev = npre node.next = null node.prev = null &#125; node.item = null _size-- return nitem!! &#125; /** * è½¬å­—ç¬¦ä¸²æ–¹æ³• * */ override fun toString(): String &#123; when (_size) &#123; 0 -&gt; return \"[]\" else -&gt; &#123; val sb = StringBuilder() sb.append(\"[\") var n = first while (n != last) &#123; sb.append(\"$&#123;n!!.item&#125;, \") n = n.next &#125; return sb.append(\"$&#123;n!!.item&#125;]\").toString() &#125; &#125; &#125; companion object &#123; private data class Node&lt;T&gt;( var item: T?, var prev: Node&lt;T&gt;?, var next: Node&lt;T&gt;? ) /** * æŸ¥çœ‹ä½ç½®æ˜¯å¦åˆæ³• * */ internal fun checkPositionIndex(index: Int, size: Int) &#123; if (index &lt; 0 || size == 0) &#123; throw IndexOutOfBoundsException(\"index: $index, size: $size\") &#125; &#125; &#125; private inner class IteratorImpl( private var index: Int = 0 ) : MutableIterator&lt;T&gt; &#123; private var current: Node&lt;T&gt;? = null private var lastReturned: Node&lt;T&gt;? = null init &#123; checkPositionIndex(index, size) current = getNode(index) &#125; override fun hasNext(): Boolean = current != null override fun next(): T &#123; if (!hasNext()) &#123; throw NoSuchElementException() &#125; lastReturned = current current = current?.next index++ return lastReturned?.item ?: throw NoSuchElementException() &#125; override fun remove() &#123; unlink(lastReturned ?: throw IllegalStateException()) index-- &#125; &#125;&#125; ä¸»å‡½æ•°å®ç°12345678910111213141516171819202122232425fun linkedListForceSolution(): String &#123; val sb = StringBuilder() val cl = CircularLinkedList&lt;Int&gt;().apply &#123; for (i in 1..totalPeople) add(i) &#125; val iter = cl.iterator() var cnt = 0 while (iter.hasNext() &amp;&amp; cl.size != remainPeople) &#123; iter.next() cnt++ if (cnt == intervalPeople) &#123; iter.remove() cnt = 0 &#125; &#125; return sb.apply &#123; cl.forEachIndexed &#123; index, i -&gt; append(\"$&#123;i&#125;å·\") if (index != cl.size - 1) append(\", \") else return@apply &#125; &#125;.toString()&#125; åˆ†ææ—¶é—´å¤æ‚åº¦ï¼š è¿™é‡Œä½¿ç”¨çš„æ˜¯åŒå‘é“¾è¡¨å®ç°ï¼Œæ‰€ä»¥è¿›å‡ºé˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯$\\mathcal{O}(1)$ï¼Œæ‰€ä»¥ä»…ç”¨è®¡ç®—å¾ªç¯æ—¶é—´å¤æ‚åº¦ã€‚ è®¾æ€»äººæ•° $T$ï¼Œé—´éš”äººæ•° $I$ï¼Œå‰©ä½™äººæ•° $R$ã€‚$$\\mathcal{O}((T-R)*I)$$ç©ºé—´å¤æ‚åº¦ï¼š å­˜åœ¨ä¸­é—´æ•°æ®ç»“æ„å¾ªç¯é“¾è¡¨ï¼Œéå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ã€‚$$\\mathcal{O}(N)$$ æ•°å­¦è§£æ³•è¯´æ˜å®ç°æ•°å­¦å®ç°ä»£ç åˆ†æç±»å®ç°12","categories":[{"name":"algorithm4","slug":"algorithm4","permalink":"http://blog.fivezha.cn/categories/algorithm4/"}],"tags":[{"name":"kotlin","slug":"kotlin","permalink":"http://blog.fivezha.cn/tags/kotlin/"},{"name":"algorithm","slug":"algorithm","permalink":"http://blog.fivezha.cn/tags/algorithm/"}]},{"title":"ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(4)---Deque,Buffer,å››æ•°ä¹‹å’Œ,ä¸‰æ•°ä¹‹å’Œ","date":"2020-07-17T01:36:36.000Z","path":"2020/07/17/algorithm4-1-4/","text":"åŒå‘é˜Ÿåˆ—,åŒæ ˆç¼“å†²åŒº,è›®åŠ›æ³•å››æ•°ä¹‹å’Œä»¥åŠå¿«é€Ÿä¸‰æ•°ä¹‹å’Œçš„å®ç° åŒå‘é˜Ÿåˆ—API image-20200717093114582 å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263package dsimport java.util.Deque/** * åŒå‘é˜Ÿåˆ—ç±» * */class Deque&lt;T&gt; : Collection&lt;T&gt; &#123; private val list = LinkedList&lt;T&gt;() override fun isEmpty() = list.size == 0 fun pushLeft(element: T) = list.addFirst(element) fun pushRight(element: T) = list.addLast(element) fun popLeft(): T = list.removeFirst() fun popRight(): T = list.removeLast() override val size: Int get() = list.size /** * æ˜¯å¦åŒ…å«[element] * */ override fun contains(element: T): Boolean &#123; return indexOf(element) != -1 &#125; /** * æ˜¯å¦åŒ…å«æ‰€æœ‰[elements] * */ override fun containsAll(elements: Collection&lt;T&gt;): Boolean = if (elements.isEmpty()) false else elements.all &#123; contains(it) &#125; /** * æŸ¥çœ‹[element]çš„ä½ç½® * */ private fun indexOf(element: T): Int &#123; var index = 0 this.forEach &#123; if (it == element) &#123; return index &#125; index++ &#125; return -1 &#125; override fun toString(): String &#123; return list.toString() &#125; override fun iterator(): Iterator&lt;T&gt; &#123; return list.iterator() &#125;&#125; å…³äºåŒå‘é“¾è¡¨çš„å®ç°è§è¿™ç¯‡åšå®¢: ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(3)â€”åŒå‘é“¾è¡¨(LinkedList)å®ç° ç¼“å†²åŒºBufferAPI image-20200717093315081 å®ç°12345678910111213141516171819202122232425262728293031323334353637383940package dsclass Buffer &#123; private val ls = Stack&lt;Char&gt;() private val rs = Stack&lt;Char&gt;() fun insert(c: Char) &#123; ls.push(c) &#125; fun delete(): Char = if (ls.size() == 0) throw NoSuchElementException(\"æ— æ³•åˆ é™¤\") else ls.pop() fun left(k: Int) &#123; if (k &gt; ls.size()) throw IllegalArgumentException(\"æ— æ³•åˆ°è¾¾\") for (i in 1..k) &#123; rs.push(ls.pop()) &#125; &#125; fun right(k: Int) &#123; if (k &gt; rs.size()) throw IllegalArgumentException(\"æ— æ³•åˆ°è¾¾\") for (i in 1..k) &#123; ls.push(rs.pop()) &#125; &#125; val size: Int get() = ls.size() + rs.size() override fun toString(): String &#123; return StringBuilder().also &#123; it.append(ls) it.reverse() it.append(\" | \") it.append(rs) &#125;.toString() &#125;&#125; å…³äºæ ˆçš„å®ç°è§è¿™ç¯‡åšå®¢:ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(1)â€”ç®€å•ç±»çš„å®ç° æµ‹è¯• image-20200717095951864 image-20200717095958140 å››æ•°ä¹‹å’Œå®ç°123456789101112131415/** * è›®åŠ›æ³•æ±‚æ•°å­—ä¹‹å’Œ * */fun fourSumForce(list: List&lt;Int&gt;, num: Int): Int &#123; var cnt = 0 for (a in list.indices) for (b in a until list.size) for (c in b until list.size) for (d in c until list.size) if (list[a] + list[b] + list[c] + list[d] == num) &#123; cnt++ &#125; return cnt&#125; æ—¶é—´å¤æ‚åº¦:$$\\mathcal{O}(N^4)$$ ä¸‰æ•°ä¹‹å’ŒäºŒåˆ†æ³•æ±‚ä¸‰æ•°ä¹‹å’Œå…ˆæ’åºï¼Œä¾æ—§æ˜¯ä¸¤é‡å¾ªç¯æ‰¾å‡ºå‰ä¸¤ä¸ªæ•°å­—ï¼Œç¬¬ä¸‰ä¸ªæ•°å€¼åˆ©ç”¨äºŒåˆ†æ³•ä»å‰©ä½™å…ƒç´ ä¸­æ‰¾ã€‚ 123456789101112131415161718192021222324252627282930fun &lt;T : Comparable&lt;T&gt;&gt; containsDuplicatesInSorted(list: List&lt;T&gt;): Boolean &#123; for (i in 0 until list.size - 1) &#123; if (list[i] == list[i + 1]) return true &#125; return false&#125;/** * äºŒåˆ†æ±‚éé‡å¤ä¸‰æ•°ä¹‹å’Œ * */fun threeSumBinaryFast(list: List&lt;Int&gt;): List&lt;List&lt;Int&gt;&gt; &#123; var res = LinkedList&lt;List&lt;Int&gt;&gt;() val sl = list.sorted().run &#123; if (containsDuplicatesInSorted(this)) distinct() else this &#125; if (list.size &lt; 3) throw IllegalArgumentException(\"æ•°ç»„éé‡å¤å…ƒç´ å°äº3ä¸ª!\") for (i in sl.indices) &#123; for (j in i until sl.size) &#123; val k = binarySearch(sl, -(sl[i] + sl[j]), j + 1) if (k != -1) &#123; res.add(listOf(sl[i], sl[j], sl[k])) &#125; &#125; &#125; return res&#125; æ—¶é—´å¤æ‚åº¦æ–¹é¢ï¼Œæ’åº+å¾ªç¯æ—¶é—´å¤æ‚åº¦$\\mathcal{O}(N\\log_2(N)+N^2\\log_2{N})$ï¼ŒåŒ–ç®€å¾—ï¼š$$\\mathcal{O}(N^2)$$ç©ºé—´å¤æ‚åº¦:$$\\mathcal{O}(N)$$æ’åºäº§ç”Ÿçš„ä¸­é—´æ•°ç»„","categories":[{"name":"algorithm4","slug":"algorithm4","permalink":"http://blog.fivezha.cn/categories/algorithm4/"}],"tags":[{"name":"kotlin","slug":"kotlin","permalink":"http://blog.fivezha.cn/tags/kotlin/"},{"name":"algorithm","slug":"algorithm","permalink":"http://blog.fivezha.cn/tags/algorithm/"}]},{"title":"ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(3)---åŒå‘é“¾è¡¨(LinkedList)å®ç°","date":"2020-07-13T11:59:21.000Z","path":"2020/07/13/algorithm4-linkedlist/","text":"æ ¹æ®ç®—æ³•ç¬¬å››ç‰ˆå’Œæºç è¿›è¡Œçš„é“¾è¡¨å®ç°ï¼Œä¸»è¦å®ç°MutableList&lt;T&gt;æ¥å£å’ŒMutableListIterator&lt;T&gt;è¿­ä»£å™¨ æ€è·¯ä¸»è¦æ˜¯å®ç°MutableList&lt;T&gt;æ¥å£ï¼Œè¿­ä»£å™¨å®ç°MutableListIterator&lt;T&gt;æ¥å£ã€‚ è¯´æ˜é“¾è¡¨ï¼Œå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªèŠ‚ç‚¹è¿æ¥èµ·æ¥çš„æ•°æ®ç»“æ„ï¼Œè¿™ç§æ•°æ®ç»“æ„ä¼˜ç‚¹æ˜¯ä½¿ç”¨è¿‡çš„ç©ºé—´å¤§å°å’Œå…ƒç´ æ•°é‡æˆæ­£æ¯”ä¸”å¢åˆ æ—¶é—´å¤æ‚åº¦ä½ï¼Œç¼ºç‚¹åˆ™æ˜¯æŸ¥æ‰¾å›°éš¾ï¼Œéœ€è¦é€šè¿‡å¼•ç”¨è®¿é—®ä»»æ„å…ƒç´ ã€‚ APIå¢åˆ åœ¨è¿™ä¸€éƒ¨åˆ†ä¸»è¦éœ€è¦ç‰¹åˆ«è€ƒè™‘çš„å‡ ç§æƒ…å†µï¼š åœ¨è¡¨å¤´æ’å…¥èŠ‚ç‚¹ image-20200715151744188 åˆ é™¤è¡¨å¤´ç»“ç‚¹ image-20200715151824396 åœ¨è¡¨å°¾æ’å…¥èŠ‚ç‚¹ image-20200715151838973 è¿­ä»£è¿­ä»£æ–¹é¢ï¼Œä¸»è¦æ˜¯å®ç°MutableListIterator&lt;T&gt;ï¼Œå½“è¦éå†çš„æ—¶å€™ä»…éœ€è¦ 1234val numbers = LinkedList&lt;String&gt;()for (n in numbers) &#123; ......&#125; æˆ–è€… 12345val numbers = LinkedList&lt;String&gt;()val mutableListIterator = numbers.listIterator()while (mutableListIterator.hasNext()) &#123; mutableListIterator.next()&#125; ä¾¿å¯ã€‚ è¿­ä»£è¿‡ç¨‹çš„remove()å’Œadd()åˆ™æ˜¯å®ç°å½“å‰èŠ‚ç‚¹çš„åˆ é™¤å’Œåœ¨å½“å‰èŠ‚ç‚¹ä¹‹å‰æ·»åŠ çš„åŠŸèƒ½ã€‚ å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665package dsimport kotlin.NoSuchElementException/** * åŒå‘é“¾è¡¨ * */class LinkedList&lt;T&gt; : MutableList&lt;T&gt; &#123; private var first: Node&lt;T&gt;? = null private var last: Node&lt;T&gt;? = null private var _size: Int = 0 /** * åœ¨å°¾éƒ¨æ’å…¥[element] * */ override fun add(element: T): Boolean &#123; linkedLast(element) return true &#125; /** * è®©[element]æˆä¸º[index]ä½ç½®çš„èŠ‚ç‚¹ * */ override fun add(index: Int, element: T) &#123; checkPositionIndex(index, size) if (index == _size) &#123; linkedLast(element) &#125; else &#123; linkedBefore(element, getNode(index)) &#125; &#125; /** * è®©[index]ä½ç½®æˆä¸º[elements]çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½ç½® * */ override fun addAll(index: Int, elements: Collection&lt;T&gt;): Boolean &#123; checkPositionIndex(index, size) if (elements.isEmpty()) &#123; return false &#125; // è¿™é‡Œçš„ä¸¤ä¸ªèŠ‚ç‚¹ä»£è¡¨ç€æ’å…¥èŠ‚ç‚¹çš„å‰åèŠ‚ç‚¹ var pred: Node&lt;T&gt;? var succ: Node&lt;T&gt;? // åˆ¤æ–­æ˜¯å¦æ˜¯æœ€å°¾éƒ¨æ’å…¥ if (index == _size) &#123; succ = null pred = last &#125; else &#123; succ = getNode(index) pred = succ.prev &#125; for (e in elements) &#123; val nNode = Node(e, pred, null) if (pred == null) &#123; // è¯´æ˜æ˜¯åœ¨é¦–èŠ‚ç‚¹æ’å…¥çš„ first = nNode &#125; else &#123; // ä¸€ç›´å¾€åæ’å…¥ pred.next = nNode &#125; pred = nNode &#125; if (succ == null) &#123; last = pred &#125; else &#123; pred!!.next = succ succ.prev = pred &#125; _size += elements.size return true &#125; /** * åœ¨å°¾éƒ¨æ·»åŠ [elements] * */ override fun addAll(elements: Collection&lt;T&gt;): Boolean = addAll(_size, elements) /** * æ¸…é™¤æ‰€æœ‰èŠ‚ç‚¹ * */ override fun clear() &#123; var n = first while (n != null) &#123; val next = n.next // å¿«é€Ÿgc n.item = null n.next = null n.prev = null n = next &#125; first = null last = null _size = 0 &#125; /** * åˆ é™¤ä¸º[element]çš„èŠ‚ç‚¹ * */ override fun remove(element: T): Boolean &#123; var node = first while (node != null) &#123; if (node.item == element) &#123; unlink(node) return true &#125; node = node.next &#125; return false &#125; /** * åˆ é™¤ * */ override fun removeAll(elements: Collection&lt;T&gt;): Boolean = if (containsAll(elements)) elements.all &#123; remove(it) &#125; else false /** * åˆ é™¤[index]ä½ç½®çš„èŠ‚ç‚¹ * */ override fun removeAt(index: Int): T &#123; checkElementIndex(index, size) val node = getNode(index) val item = node.item unlink(node) return item ?: throw NoSuchElementException() &#125; override fun retainAll(elements: Collection&lt;T&gt;): Boolean = if (containsAll(elements)) &#123; clear() addAll(elements) &#125; else false /** * è®¾å®š[index]ä¸º[element]å¹¶è¿”å›æ—§å€¼ * */ override fun set(index: Int, element: T): T &#123; checkElementIndex(index, size) return getNode(index).run &#123; item!!.also &#123; item = element &#125; &#125; &#125; /** * æ˜¯å¦åŒ…å«[element] * */ override fun contains(element: T): Boolean &#123; return indexOf(element) != -1 &#125; /** * æ˜¯å¦åŒ…å«æ‰€æœ‰[elements] * */ override fun containsAll(elements: Collection&lt;T&gt;): Boolean = if (elements.isEmpty()) false else elements.all &#123; contains(it) &#125; /** * è·å–[index]èŠ‚ç‚¹æ•°æ® * */ override fun get(index: Int): T &#123; checkElementIndex(index, size) return getNode(index).item ?: throw NoSuchElementException() &#125; override fun indexOf(element: T): Int &#123; var index = 0 this.forEach &#123; if (it == element) &#123; return index &#125; index++ &#125; return -1 &#125; /** * é“¾è¡¨æ˜¯å¦ä¸ºç©º * */ override fun isEmpty(): Boolean = _size == 0 /** * å¯ä»¥æŸ¥åˆ°çš„æœ€åä¸€ä¸ªå…ƒç´  * */ override fun lastIndexOf(element: T): Int &#123; var index = _size - 1 var node = last while (node != null) &#123; if (node.item == element) &#123; return index &#125; index-- node = node.prev &#125; return index &#125; /** * è¿”å›è¿­ä»£å™¨ * */ override fun iterator(): MutableIterator&lt;T&gt; &#123; return LinkedIterator(0) &#125; /** * è¿”å›åˆ—è¡¨è¿­ä»£å™¨ * */ override fun listIterator(): MutableListIterator&lt;T&gt; &#123; return LinkedListIterator(0) &#125; /** * è¿”å›ä»æŸä¸ªindexå¼€å§‹çš„è¿­ä»£å™¨ * */ override fun listIterator(index: Int): MutableListIterator&lt;T&gt; &#123; checkElementIndex(index, size) return LinkedListIterator(index) &#125; /** * è¿”å›å­åˆ—è¡¨ * */ override fun subList(fromIndex: Int, toIndex: Int): MutableList&lt;T&gt; &#123; checkRangeIndexes(fromIndex, toIndex, size) val res = LinkedList&lt;T&gt;() var i = fromIndex var n = getNode(fromIndex) while (i &lt; toIndex) &#123; res.add(n.item!!) i++ n = n.next!! &#125; return res &#125; /** * è·å–é“¾è¡¨é•¿åº¦ * */ override val size: Int get() = _size /** * è·å–é¦–èŠ‚ç‚¹æ•°æ® * */ fun getFirst(): T = first?.item ?: throw NoSuchElementException() /** * è·å–å°¾èŠ‚ç‚¹æ•°æ® * */ fun getLast(): T = last?.item ?: throw NoSuchElementException() /** * åè½¬é“¾è¡¨ * */ fun reverse() &#123; if (first == null) &#123; return &#125; first = last.also &#123; last = first &#125; var n = first while (n != null) &#123; n.prev = n.next.also &#123; n!!.next = n!!.prev &#125; n = n.next &#125; &#125; /** * æ·»åŠ é¦–èŠ‚ç‚¹ * */ fun addFirst(element: T) &#123; linkedFirst(element) &#125; /** * æ·»åŠ å°¾èŠ‚ç‚¹ * */ fun addLast(element: T) &#123; linkedLast(element) &#125; /** * åˆ é™¤é¦–èŠ‚ç‚¹ * */ fun removeFirst(): T = unlinkFirst() /** * åˆ é™¤å°¾èŠ‚ç‚¹ * */ fun removeLast(): T = unlinkLast() /** * è·å–æŸä¸ªèŠ‚ç‚¹ * åˆ¤æ–­1/2çš„sizeç„¶åä»å·¦å¾€å³æˆ–è€…ä»å³å¾€å·¦æŸ¥æ‰¾ * */ private fun getNode(index: Int): Node&lt;T&gt; = if (index &lt; (_size shr 1)) &#123; var node = first for (i in 0 until index) &#123; node = node?.next &#125; node!! &#125; else &#123; var node = last for (i in _size - 2 downTo index) &#123; node = node?.prev &#125; node!! &#125; /** * è¿æ¥é¦–èŠ‚ç‚¹ * */ private fun linkedFirst(item: T) &#123; val f = first val nNode = Node(item, null, f) first = nNode if (f == null) &#123; last = nNode &#125; else &#123; f.prev = nNode &#125; _size++ &#125; /** * è¿æ¥åˆ°[node]èŠ‚ç‚¹å‰é¢ * */ private fun linkedBefore(item: T, node: Node&lt;T&gt;) &#123; val prev = node.prev val nNode = Node(item, prev, node) node.prev = nNode if (prev == null) &#123; first = nNode &#125; else &#123; prev.next = nNode &#125; _size++ &#125; /** * è¿æ¥å°¾èŠ‚ç‚¹ * */ private fun linkedLast(item: T) &#123; val l = last val nNode = Node(item, l, null) last = nNode if (l == null) &#123; first = last &#125; else &#123; l.next = nNode &#125; _size++ &#125; /** * è§£é™¤é¦–éƒ¨è¿æ¥ * */ private fun unlinkFirst(): T &#123; val f = first ?: throw NoSuchElementException() val item = f.item val next = f.next // å¿«é€ŸGC f.next = null f.item = null first = next if (next == null) &#123; last = null &#125; else &#123; next.prev = null &#125; _size-- return item!! &#125; /** * è§£é™¤å°¾éƒ¨è¿æ¥ * */ private fun unlinkLast(): T &#123; val l = last ?: throw NoSuchElementException() val item = l.item val prev = l.prev // å¿«é€ŸGC l.item = null l.prev = null last = prev if (prev == null) &#123; first = null &#125; else &#123; prev.next = null &#125; _size-- return item!! &#125; /** * è§£è¿æ¥ * */ private fun unlink(node: Node&lt;T&gt;): T &#123; val np = node.prev val nn = node.next val ne = node.item if (np == null) &#123; first = nn &#125; else &#123; np.next = nn node.prev = null &#125; if (nn == null) &#123; last = np &#125; else &#123; nn.prev = np node.next = null &#125; node.item = null _size-- return ne!! &#125; /** * \" == \" æ–¹æ³• * */ override fun equals(other: Any?): Boolean &#123; if (other === this) return true if (other !is List&lt;*&gt;) return false return orderedEquals(this, other) &#125; /** * hashè®¡ç®— * */ override fun hashCode(): Int = orderedHashCode(this) /** * è½¬å­—ç¬¦ä¸²æ–¹æ³• * */ override fun toString(): String &#123; when (_size) &#123; 0 -&gt; return \"[]\" else -&gt; &#123; val sb = StringBuilder() sb.append(\"[\") var idx = 0 val max = _size - 1 this.forEach &#123; sb.append(it) if (idx == max) return sb.append(\"]\").toString() sb.append(\", \") idx++ &#125; return sb.append(\"]\").toString() &#125; &#125; &#125; internal companion object &#123; /** * èŠ‚ç‚¹ç±» * */ private data class Node&lt;T&gt;( var item: T?, var prev: Node&lt;T&gt;? = null, var next: Node&lt;T&gt;? = null ) /** * æŸ¥çœ‹elementæ˜¯å¦åˆæ³• * */ internal fun checkElementIndex(index: Int, size: Int) &#123; if (index &lt; 0 || index &gt;= size) &#123; throw IndexOutOfBoundsException(\"index: $index, size: $size\") &#125; &#125; /** * æŸ¥çœ‹ä½ç½®æ˜¯å¦åˆæ³• * */ internal fun checkPositionIndex(index: Int, size: Int) &#123; if (index &lt; 0 || index &gt; size) &#123; throw IndexOutOfBoundsException(\"index: $index, size: $size\") &#125; &#125; /** * æŸ¥çœ‹èŒƒå›´æ˜¯å¦åˆæ³• * */ internal fun checkRangeIndexes(fromIndex: Int, toIndex: Int, size: Int) &#123; if (fromIndex &lt; 0 || toIndex &gt; size) &#123; throw IndexOutOfBoundsException(\"fromIndex: $fromIndex, toIndex: $toIndex, size: $size\") &#125; if (fromIndex &gt; toIndex) &#123; throw IllegalArgumentException(\"fromIndex: $fromIndex &gt; toIndex: $toIndex\") &#125; &#125; /** * æŸ¥çœ‹è¾¹ç•Œæ˜¯å¦åˆæ³• * */ internal fun checkBoundsIndexes(startIndex: Int, endIndex: Int, size: Int) &#123; if (startIndex &lt; 0 || endIndex &gt; size) &#123; throw IndexOutOfBoundsException(\"startIndex: $startIndex, endIndex: $endIndex, size: $size\") &#125; if (startIndex &gt; endIndex) &#123; throw IllegalArgumentException(\"startIndex: $startIndex &gt; endIndex: $endIndex\") &#125; &#125; /** * å“ˆå¸Œå‡½æ•° * */ internal fun orderedHashCode(c: Collection&lt;*&gt;): Int &#123; var hashCode = 1 for (e in c) &#123; hashCode = 31 * hashCode + (e?.hashCode() ?: 0) &#125; return hashCode &#125; /** * æŸ¥çœ‹æ˜¯å¦ç›¸ç­‰ * */ internal fun orderedEquals(c: Collection&lt;*&gt;, other: Collection&lt;*&gt;): Boolean &#123; if (c.size != other.size) return false val otherIterator = other.iterator() for (elem in c) &#123; val elemOther = otherIterator.next() if (elem != elemOther) &#123; return false &#125; &#125; return true &#125; &#125; /** * è¿­ä»£å™¨ç±» * */ private open inner class LinkedIterator( protected var index: Int = 0 ) : MutableIterator&lt;T&gt; &#123; protected var lastReturned: Node&lt;T&gt;? = null protected var current: Node&lt;T&gt;? = null init &#123; checkPositionIndex(index, _size) current = if (index == _size) null else getNode(index) &#125; /** * æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ * */ override fun hasNext(): Boolean = index &lt; _size /** * ä¸‹ä¸€èŠ‚ç‚¹æ•°æ® * */ override fun next(): T &#123; if (!hasNext()) &#123; throw NoSuchElementException() &#125; lastReturned = current current = current?.next index++ return lastReturned?.item ?: throw NoSuchElementException() &#125; /** * åˆ é™¤å½“å‰èŠ‚ç‚¹ * */ override fun remove() &#123; val lastNext = lastReturned?.next unlink(lastReturned ?: throw IllegalStateException()) index-- &#125; &#125; /** * åˆ—è¡¨è¿­ä»£å™¨ç±» * */ private open inner class LinkedListIterator( index: Int = 0 ) : LinkedIterator( index ), MutableListIterator&lt;T&gt; &#123; /** * æ˜¯å¦æœ‰ä¸Šä¸€èŠ‚ç‚¹ * */ override fun hasPrevious(): Boolean = index &gt; 0 /** * ä¸‹ä¸€èŠ‚ç‚¹æ¸¸æ ‡ * */ override fun nextIndex(): Int = index /** * è¿”å›ä¸Šä¸€èŠ‚ç‚¹ * */ override fun previous(): T &#123; if (!hasPrevious()) &#123; throw NoSuchElementException() &#125; current = if (current == null) last else current!!.prev lastReturned = current index-- return lastReturned?.item ?: throw NoSuchElementException() &#125; /** * ä¸‹ä¸€èŠ‚ç‚¹æ¸¸æ ‡ * */ override fun previousIndex(): Int = index - 1 /** * æ·»åŠ èŠ‚ç‚¹ * */ override fun add(element: T) &#123; lastReturned = null if (current == null) &#123; linkedLast(element) &#125; else &#123; linkedBefore(element, current!!) &#125; index++ &#125; /** * è®¾ç½®èŠ‚ç‚¹ * */ override fun set(element: T) &#123; if (lastReturned == null) throw IllegalStateException() current!!.item = element &#125; &#125;&#125; æµ‹è¯•ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546fun main() &#123; val ll = LinkedList&lt;Int&gt;() for (i in 1..10) ll.add(i) println(ll) ll.reverse() println(ll) val it = ll.listIterator() while (it.hasNext()) &#123; print(\"$&#123;it.next()&#125; \") &#125; println() while (it.hasPrevious()) &#123; print(\"$&#123;it.previous()&#125; \") &#125; println() ll.addFirst(111) ll.addLast(222) println(ll) ll.removeFirst() ll.removeLast() println(ll) ll.removeAt(1) println(ll) ll.add(9, 114514) println(ll) println(ll.size) ll.clear() println(ll) ll.addAll(listOf(1111, 2222, 3333, 4444)) println(ll) ll.clear() ll.addAll(0, listOf(121, 222, 3445)) println(ll) println(ll.getFirst()) println(ll.getLast()) ll.set(2, 1000000) println(ll) ll.remove(121) println(ll) ll.removeAll(listOf(222, 1000000)) println(ll) ll.addAll(listOf(1123, 1122, 2234)) ll.retainAll(listOf(1123)) println(ll)&#125; ç»“æœ image-20200719124417501","categories":[{"name":"algorithm4","slug":"algorithm4","permalink":"http://blog.fivezha.cn/categories/algorithm4/"}],"tags":[{"name":"kotlin","slug":"kotlin","permalink":"http://blog.fivezha.cn/tags/kotlin/"},{"name":"algorithm","slug":"algorithm","permalink":"http://blog.fivezha.cn/tags/algorithm/"}]},{"title":"ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(2)---ç®€å•è®¡ç®—å™¨(åŠ å‡ä¹˜é™¤æ‹¬å·)","date":"2020-07-12T07:51:45.000Z","path":"2020/07/12/algorithm4-eval-int-arithmetic/","text":"ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ï¼Œè®¡ç®—åç¼€è¡¨è¾¾å¼å®ç°çš„åŠ å‡ä¹˜é™¤æ‹¬å·è®¡ç®—å™¨ã€‚ æ€è·¯ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ï¼Œè®¡ç®—åç¼€è¡¨è¾¾å¼ã€‚ ä¸­ç¼€è½¬åç¼€ æ•°å­— ç›´æ¥æ·»åŠ åˆ°ç»“æœ éæ•°å­— â€ ï¼‰â€œï¼Œä¾æ¬¡å¼¹æ ˆæ·»åŠ åˆ°ç»“æœç›´åˆ°â€œï¼ˆ â€(å·¦æ‹¬å·ä¹Ÿå¼¹æ ˆ) â€œï¼ˆ â€œç›´æ¥å‹æ ˆï¼Œä¸ç”¨ç®¡ åˆ¤æ–­æ˜¯å¦ä½äºæ ˆé¡¶ç¬¦å·ï¼Œå¤§äºç›´æ¥å…¥æ ˆï¼Œç­‰äºå…ˆå¼¹æ ˆå†å…¥æ ˆï¼Œä½äºç›´æ¥å¼¹æ ˆåˆ°å­—ç¬¦ä¼˜å…ˆçº§é«˜äºæ ˆé¡¶ç¬¦å·æˆ–è€…å·¦æ‹¬å·æˆ–ç©ºæ ˆ åç¼€è®¡ç®— æ•°å­— å…¥æ ˆ éæ•°å­— æ ¹æ®å­—ç¬¦è¿›è¡Œä¸¤æ¬¡å‡ºæ ˆæ“ä½œç„¶åè®¡ç®—å®Œå†å…¥æ ˆ å®ç°ä¸­ç¼€è½¬åç¼€1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * ä¼˜å…ˆçº§ * åŠ å‡ä¼˜å…ˆçº§æœ€ä½ * ç„¶åå°±æ˜¯ä¹˜é™¤ * æ‹¬å·ä¼˜å…ˆçº§æœ€é«˜ * */val priority = HashMap&lt;String, Int&gt;().apply &#123; put(\"+\", 0) put(\"-\", 0) put(\"*\", 1) put(\"/\", 1) put(\"(\", 2) put(\")\", 2)&#125;/** * ä¸­ç¼€è½¬åç¼€ * */private fun infixToPostfix(expr: String): String &#123; val sb = StringBuilder() val s = Stack&lt;Char&gt;() expr.forEach &#123; c: Char -&gt; when (c) &#123; '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' -&gt; sb.append(c) '+', '-', '*', '/' -&gt; &#123; while (!s.isEmpty() &amp;&amp; s.peek() != '(' &amp;&amp; priority[c.toString()]!! &lt;= priority[s.peek().toString()]!! ) &#123; sb.append(s.pop()) &#125; s.push(c) &#125; '(' -&gt; s.push(c) ')' -&gt; &#123; while (!s.isEmpty()) &#123; if (s.peek() == '(') &#123; s.pop() break &#125; else &#123; sb.append(s.pop()) &#125; &#125; &#125; else -&gt; throw UnsupportedOperationException(\"æœªçŸ¥å­—ç¬¦!\") &#125; &#125; while (!s.isEmpty()) &#123; sb.append(s.pop()) &#125; return sb.toString()&#125; è®¡ç®—åç¼€12345678910111213141516/** * è®¡ç®—åç¼€è¡¨è¾¾å¼ * */private fun evalPostfix(expr: String): Double &#123; val s = Stack&lt;Double&gt;() expr.forEach &#123; c: Char -&gt; when (c) &#123; '+' -&gt; s.pop().plus(s.pop()).let &#123; s.push(it) &#125; '-' -&gt; s.pop().minus(s.pop()).let &#123; s.push(it) &#125; '*' -&gt; s.pop().times(s.pop()).let &#123; s.push(it) &#125; '/' -&gt; s.pop().div(s.pop()).let &#123; s.push(it) &#125; else -&gt; s.push(Character.getNumericValue(c).toDouble()) &#125; &#125; return if (s.isEmpty()) 0.0 else s.pop()&#125; ä¸»å‡½æ•°12345/** * å››åˆ™è¿ç®—(å¸¦æ‹¬å·) * */fun evalIntArithmetic(expr: String): Double = evalPostfix(infixToPostfix(expr.trim().replace(\" \", \"\"))) æµ‹è¯•123456789package fundamentalsimport utils.evalIntArithmeticfun main() &#123; println(evalIntArithmetic(\"\")) println(evalIntArithmetic(\" 1 + 2\")) println(evalIntArithmetic(\"1+2*3+(4*5+6)*7\"))&#125; è¾“å‡ºï¼š image-20200712185745469 éªŒç®—ï¼š image-20200712185812495","categories":[{"name":"algorithm4","slug":"algorithm4","permalink":"http://blog.fivezha.cn/categories/algorithm4/"}],"tags":[{"name":"kotlin","slug":"kotlin","permalink":"http://blog.fivezha.cn/tags/kotlin/"},{"name":"algorithm","slug":"algorithm","permalink":"http://blog.fivezha.cn/tags/algorithm/"}]},{"title":"ç®—æ³•(ç¬¬å››ç‰ˆ)ç¬”è®°(1)---ç®€å•ç±»çš„å®ç°","date":"2020-07-11T14:40:50.000Z","path":"2020/07/11/algorithm4th-1/","text":"ç®—æ³•ç¬¬å››ç‰ˆç¬¬ä¸€ç« èŠ‚ ç´¯åŠ å™¨API image-20200711224750298 å®ç°123456789101112131415161718192021222324252627282930313233343536package dsimport kotlin.math.sqrt/** * ç´¯åŠ å™¨ é˜²æŠ–åŠ¨ç‰ˆæœ¬ * */class Accumulator constructor( private var total: Double = 0.0) &#123; private var times: Int = 0 private var mean: Double = 0.0 private var s: Double = 0.0 fun &lt;T : Number&gt; addDataValue(value: T) &#123; times += 1 val dv = value.toDouble() total += dv s += 1.0 * (times - 1) / times * (dv - mean) * (dv - mean) mean += (dv - mean) / times &#125; fun mean(): Double = mean fun variance(): Double = if (times &lt;= 1) Double.NaN else s / (times - 1) fun stddev(): Double = sqrt(variance()) fun total(): Double = total override fun toString(): String &#123; return \"Mean ($times times, $&#123;String.format(\"%.2f\", total)&#125; values): \" + \"$&#123;String.format(\"%7.5f\", mean())&#125;\" &#125;&#125; å¯è§†åŒ–ç´¯åŠ å™¨API image-20200711224928831 å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package dsimport edu.princeton.cs.algs4.StdDrawimport kotlin.math.sqrtclass VisualAccumulator constructor( private val xMax: Int = 100, private val yMax: Double = 100.0) &#123; private var times: Int = 0 private var total: Double = 0.0 private var mean: Double = 0.0 private var s: Double = 0.0 init &#123; StdDraw.setXscale(0.0, xMax.toDouble()) StdDraw.setYscale(0.0, yMax) StdDraw.setPenRadius(.01) &#125; fun &lt;T : Number&gt; addDataValue(value: T) &#123; times += 1 val dv = value.toDouble() total += dv mean += (dv - mean) / times s += 1.0 * (times - 1) / times * (dv - mean) * (dv - mean) StdDraw.setPenColor(StdDraw.DARK_GRAY) StdDraw.point(times.toDouble(), value.toDouble()) StdDraw.setPenColor(StdDraw.RED) StdDraw.point(times.toDouble(), mean()) StdDraw.setPenColor(StdDraw.BLUE) StdDraw.point(times.toDouble(), stddev()) &#125; fun mean(): Double = mean fun variance(): Double = if (times &lt;= 1) 0.0 else s / (times - 1) fun stddev(): Double = sqrt(variance()) fun total(): Double = total override fun toString(): String &#123; return \"Mean ($times times, $&#123;String.format(\"%.2f\", total)&#125; values): \" + \"$&#123;String.format(\"%7.5f\", mean())&#125;\" &#125;&#125; å¯è§†åŒ–ç»“æœ image-20200711225013771 æœ‰ç†æ•°API image-20200711225149973 å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495package dsimport utils.qgcdimport kotlin.reflect.typeOfclass Rational constructor( private var numerator: Long, private var denominator: Long = 1L) : Comparable&lt;Rational&gt; &#123; init &#123; if (denominator == 0L) &#123; throw IllegalAccessError(\"åˆ†æ¯ä¸èƒ½ä¸º0!\") &#125; simplify() &#125; fun numerator(): Long &#123; return numerator &#125; fun denominator(): Long &#123; return denominator &#125; private fun simplify() &#123; val g = qgcd(numerator, denominator) numerator /= g denominator /= g if (denominator &lt; 0) &#123; denominator = -denominator numerator = -numerator &#125; &#125; public operator fun plus(other: Rational): Rational &#123; if (this.numerator == 0L) return other if (other.numerator == 0L) return this val g = qgcd(this.denominator, other.denominator) return Rational( this.numerator * (other.denominator / g) + other.numerator * (this.denominator / g), this.denominator * (other.denominator / g) ) &#125; public operator fun minus(other: Rational): Rational &#123; if (this.numerator == 0L) return other if (other.numerator == 0L) return this val g = qgcd(this.denominator, other.denominator) return Rational( this.numerator * (other.denominator / g) - other.numerator * (this.denominator / g), this.denominator * (other.denominator / g) ) &#125; public operator fun times(other: Rational): Rational &#123; return Rational( this.numerator * other.numerator, this.denominator * other.denominator ) &#125; public operator fun div(other: Rational): Rational &#123; return Rational( this.numerator * other.denominator, this.denominator * other.numerator ) &#125; override fun equals(other: Any?): Boolean &#123; if (other == null) return false if (this::class != other::class) return false return this.compareTo(other as Rational) == 0 &#125; override fun toString(): String &#123; if (denominator == 1L) &#123; return \"$numerator\" &#125; return \"$numerator/$denominator\" &#125; override fun compareTo(other: Rational): Int &#123; // é™¤æ³•åˆ¤æ–­å¤§å°äº val num = this.numerator * other.denominator val den = this.denominator * other.numerator if (num &gt; den) // è¯´æ˜åˆ†å­å¤§ å½“å‰æ•°å¤§ return 1 if (num &lt; den) return -1 return 0 &#125;&#125; æ—¥æœŸç±»å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687package dsclass Date : Comparable&lt;Date&gt; &#123; private val year: Int private val month: Int private val day: Int constructor( y: Int = 0, m: Int = 0, d: Int = 0 ) &#123; if (!isDateValid(d, m, y)) throw IllegalArgumentException(\"è¾“å…¥æ—¥æœŸé”™è¯¯!\") year = y month = m day = d &#125; constructor( parseString: String ) &#123; parseString.split(\"/\").run &#123; if (size &lt; 3) &#123; throw IllegalArgumentException(\"è¾“å…¥æ—¥æœŸé”™è¯¯ï¼\") &#125; year = get(0).toInt() month = get(1).toInt() day = get(2).toInt() if (!isDateValid(day, month, year)) throw IllegalArgumentException(\"è¾“å…¥æ—¥æœŸé”™è¯¯ï¼\") &#125; &#125; companion object &#123; val monthDayList = listOf(0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31) &#125; private fun isDateValid(d: Int, m: Int, y: Int): Boolean &#123; if (m &gt; 12 || m &lt; 1) &#123; return false &#125; if (d &gt; monthDayList[m] || d &lt; 1) &#123; return false &#125; if (m == 2 &amp;&amp; d == 29 &amp;&amp; !isLeapYear(y)) &#123; return false &#125; return true &#125; // is y a leap year? fun isLeapYear(y: Int): Boolean &#123; if (y % 400 == 0) return true if (y % 100 == 0) return false return y % 4 == 0 &#125; fun year() = year fun month() = month fun day() = day override fun compareTo(other: Date): Int &#123; if (this.year &lt; other.year) return -1 if (this.year &gt; other.year) return 1 if (this.month &lt; other.month) return -1 if (this.month &gt; other.month) return 1 if (this.day &lt; other.day) return -1 if (this.day &gt; other.day) return 1 return 0 &#125; override fun toString(): String &#123; return \"$year/$month/$day\" &#125; override fun hashCode(): Int &#123; return day + 31 * month + 31 * 12 * year &#125;&#125; è´¦å•å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package dsclass Transaction : Comparable&lt;Transaction&gt; &#123; private val who: String private val time: Date private val amount: Double constructor( w: String, t: Date, a: Double ) &#123; if (!isAmountValid(a)) throw IllegalArgumentException(\"è¾“å…¥é‡‘é¢æ ¼å¼é”™è¯¯!\") who = w time = t amount = a &#125; constructor( parseString: String ) &#123; parseString.split(\" \").run &#123; if (size &lt; 3) &#123; throw IllegalArgumentException(\"è¾“å…¥æ ¼å¼é”™è¯¯ï¼\") &#125; who = get(0) time = Date(get(1)) amount = get(2).toDouble() if (!isAmountValid(amount)) throw IllegalArgumentException(\"è¾“å…¥é‡‘é¢é”™è¯¯ï¼\") &#125; &#125; fun who() = who fun time() = time fun amount() = amount private fun isAmountValid(amount: Double): Boolean &#123; if ( Double.NaN == amount || Double.NEGATIVE_INFINITY == amount || Double.POSITIVE_INFINITY == amount ) &#123; return false &#125; return true &#125; override fun compareTo(other: Transaction): Int &#123; return compareValues(this.amount, other.amount) &#125; override fun toString(): String &#123; return String.format(\"%-10s %10s %8.2f\", who, time, amount) &#125;&#125; äºŒåˆ†æŸ¥æ‰¾å®ç°123456789101112131415161718192021222324fun &lt;T : Comparable&lt;T&gt;&gt; binarySearch( list: List&lt;T&gt;, key: T, lo: Int = 0, hi: Int = list.size - 1): Int &#123; var lo = lo var hi = hi while (lo &lt;= hi) &#123; val mid = lo + (hi - lo) / 2 when &#123; key &lt; list[mid] -&gt; &#123; hi = mid - 1 &#125; key &gt; list[mid] -&gt; &#123; lo = mid + 1 &#125; else -&gt; &#123; return mid &#125; &#125; &#125; return -1&#125; GCDæ™®é€šGCD123456789101112131415/** * æ™®é€šgcdæ¨¡æ¿ * */fun &lt;T : Number&gt; gcd(a: T, b: T): Long &#123; if (a == 0) return b.toLong() if (b == 0) return a.toLong() var ta = abs(a.toLong()) var tb = abs(b.toLong()) while (tb != 0L) &#123; ta = tb.also &#123; tb = ta % tb &#125; &#125; return ta&#125; å¿«é€ŸGCD123456789101112131415161718192021222324/** * å¿«é€Ÿgcdæ¨¡æ¿ * */private fun qgcd_(a: Long, b: Long): Long &#123; if (a == 0L) return b if (b == 0L) return a if ((a and 1) == 0L &amp;&amp; (b and 1) == 0L) return qgcd_(a shr 1, b shr 1) shl 1 else if ((b and 1) == 0L) return qgcd_(a, b shr 1) else if ((a and 1) == 0L) return qgcd_(a shr 1, b) else return qgcd_(abs(a - b), min(a, b))&#125;fun &lt;T : Number&gt; qgcd(a: T, b: T): Long &#123; if (a == 0) return b.toLong() if (b == 0) return a.toLong() var ta = a.toLong() var tb = b.toLong() return qgcd_(abs(ta), abs(tb))&#125; èƒŒåŒ…API image-20200711225738407 å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package dsimport kotlin.NoSuchElementExceptionclass Bag&lt;T&gt; : Iterable&lt;T&gt; &#123; private var first: Node&lt;T&gt;? = null private var n: Int = 0 fun isEmpty(): Boolean = first == null fun size(): Int = n fun add(item: T) &#123; val oi = first first = Node( item, oi ) n++ &#125; override fun iterator(): Iterator&lt;T&gt; &#123; return LinkedIterator&lt;T&gt;(first) &#125; private data class Node&lt;T&gt;( val item: T, var next: Node&lt;T&gt;? = null ) private class LinkedIterator&lt;T&gt;( private var current: Node&lt;T&gt;? ) : Iterator&lt;T&gt; &#123; override fun hasNext(): Boolean &#123; return current != null &#125; fun remove() &#123; throw UnsupportedOperationException() &#125; override fun next(): T &#123; if (!hasNext()) &#123; throw NoSuchElementException() &#125; val item = current?.item current = current?.next return item!! &#125; &#125;&#125; æ ˆAPI image-20200711225952602 å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273package dsclass Stack&lt;T&gt; : Iterable&lt;T&gt; &#123; private var first: Node&lt;T&gt;? = null private var n: Int = 0 fun isEmpty(): Boolean = first == null fun size(): Int = n fun push(item: T) &#123; val oi = first first = Node( item, oi ) n++ &#125; fun pop(): T? &#123; if (isEmpty()) &#123; throw NoSuchElementException(\"Stack underflow\") &#125; return first?.item.also &#123; first = first?.next n-- &#125; &#125; fun peek(): T? &#123; if (isEmpty()) &#123; throw NoSuchElementException(\"Stack underflow\") &#125; return first?.item &#125; override fun toString(): String &#123; return StringBuilder().also &#123; this.forEach &#123; item -&gt; it.append(\"$item \") &#125; &#125;.toString() &#125; override fun iterator(): Iterator&lt;T&gt; &#123; return LinkedIterator(first) &#125; private data class Node&lt;T&gt;( val item: T, var next: Node&lt;T&gt;? = null ) private class LinkedIterator&lt;T&gt;( private var current: Node&lt;T&gt;? ) : Iterator&lt;T&gt; &#123; override fun hasNext(): Boolean &#123; return current != null &#125; fun remove() &#123; throw UnsupportedOperationException() &#125; override fun next(): T &#123; if (!hasNext()) &#123; throw NoSuchElementException() &#125; val item = current?.item current = current?.next return item!! &#125; &#125;&#125; é˜Ÿåˆ—API image-20200711230035937 å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package dsclass Queue&lt;T&gt; : Iterable&lt;T&gt; &#123; private var first: Node&lt;T&gt;? = null private var last: Node&lt;T&gt;? = null private var n: Int = 0 fun isEmpty(): Boolean = first == null fun size(): Int = n fun enqueue(item: T) &#123; val ol = last last = Node( item, null ) if (isEmpty()) &#123; first = last &#125; else &#123; ol?.next = last &#125; n++ &#125; fun dequeue(): T? &#123; if (isEmpty()) &#123; throw NoSuchElementException(\"Stack underflow\") &#125; return first?.item.also &#123; first = first?.next n-- if (isEmpty()) &#123; last = null &#125; &#125; &#125; fun peek(): T? &#123; if (isEmpty()) &#123; throw NoSuchElementException(\"Stack underflow\") &#125; return first?.item &#125; override fun toString(): String &#123; return StringBuilder().also &#123; this.forEach &#123; item -&gt; it.append(\"$item \") &#125; &#125;.toString() &#125; override fun iterator(): Iterator&lt;T&gt; &#123; return LinkedIterator(first) &#125; private data class Node&lt;T&gt;( val item: T, var next: Node&lt;T&gt;? = null ) private class LinkedIterator&lt;T&gt;( private var current: Node&lt;T&gt;? ) : Iterator&lt;T&gt; &#123; override fun hasNext(): Boolean &#123; return current != null &#125; fun remove() &#123; throw UnsupportedOperationException() &#125; override fun next(): T &#123; if (!hasNext()) &#123; throw NoSuchElementException() &#125; val item = current?.item current = current?.next return item!! &#125; &#125;&#125; æ‹¬å·åŒ¹é…å®ç°1234567891011121314151617/** * æ‹¬å·æ˜¯å¦åŒ¹é… * */fun isBanlanced(expr: String): Boolean &#123; val s = Stack&lt;Char&gt;() expr.forEach &#123; c: Char -&gt; when (c) &#123; '(', '&#123;', '[' -&gt; s.push(c) ')' -&gt; if (s.isEmpty() || s.pop() != '(') return false ']' -&gt; if (s.isEmpty() || s.pop() != '[') return false '&#125;' -&gt; if (s.isEmpty() || s.pop() != '&#123;') return false &#125; &#125; return true&#125;","categories":[{"name":"algorithm4","slug":"algorithm4","permalink":"http://blog.fivezha.cn/categories/algorithm4/"}],"tags":[{"name":"kotlin","slug":"kotlin","permalink":"http://blog.fivezha.cn/tags/kotlin/"},{"name":"algorithm","slug":"algorithm","permalink":"http://blog.fivezha.cn/tags/algorithm/"}]},{"title":"çº¿æ€§åŠ¨ç”»/éçº¿æ€§åŠ¨ç”»","date":"2020-05-01T13:34:56.000Z","path":"2020/05/01/linear-anime/","text":"èµ·å› æ˜¯å› ä¸ºä»Šå¤©çœ‹åˆ°bç«™ä¸Šæœ‰è‡ªåª’ä½“è¯„æµ‹ MIUI12 , è¯´åˆ°äº†åŠ¨ç”»æµç•…åº¦é‚£æ–¹é¢å¼¹å¹•éƒ½è¯´çº¿æ€§åŠ¨ç”»éçº¿æ€§åŠ¨ç”»ä»€ä¹ˆçš„, å…¶å®å¾ˆæ—©ä¹‹å‰ MUI å°±æ˜¯å…¨çº¿é‡‡ç”¨éçº¿æ€§åŠ¨ç”»äº†, ä½†è¿™ä¸ªçº¿æ€§ä¸éçº¿æ€§åˆæ˜¯ä»€ä¹ˆ, æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢, æˆ‘ä»Šå¤©å°±ç¨å¾®æ¥è®²ä¸€ä¸‹.å…¶å®è¿™ä¸ªé«˜ä¸­å°±å­¦ä¹ è¿‡äº†, ä¸è¿‡å› ä¸ºæœ€è¿‘å­¦ä¹ äº†js, å¯ä»¥æ›´åŠ æ˜ç¡®çš„å±•ç¤ºå‡ºæ¥äº†. ä»€ä¹ˆæ˜¯çº¿æ€§åŠ¨ç”»/éçº¿æ€§åŠ¨ç”»è¦ç†è§£è¿™ä¸ª, é¦–å…ˆéœ€è¦ç†è§£ä¸€ä¸ªé—®é¢˜: *ä»€ä¹ˆæ˜¯åŠ¨ç”»? * ä»€ä¹ˆæ˜¯åŠ¨ç”»?æ ¹æ® ç»´åŸºç™¾ç§‘ æ‰€å™è¿°çš„: åŠ¨ç”»æ˜¯æŒ‡ç”±è®¸å¤šå¸§é™æ­¢çš„ç”»é¢ï¼Œä»¥ä¸€å®šçš„é€Ÿåº¦ï¼ˆå¦‚æ¯ç§’16å¼ ï¼‰è¿ç»­æ’­æ”¾æ—¶ï¼Œè‚‰çœ¼å› è§†è§‰æ®‹è±¡äº§ç”Ÿé”™è§‰ï¼Œè€Œè¯¯ä»¥ä¸ºç”»é¢æ´»åŠ¨çš„ä½œå“ã€‚ å¯ä»¥äº†è§£åˆ°, åŠ¨ç”», å…¶å®å°±æ˜¯å¾ˆå¤šé™æ­¢çš„ç”»é¢åˆ©ç”¨è§†è§‰æ®‹ç•™ç°è±¡åšå‡ºæ¥çš„å¯åŠ¨çš„æ•ˆæœ, æ‰€ä»¥è¯´å¦‚æœæƒ³è¦æ¨¡ä»¿åŠ¨ç”»çš„æ•ˆæœ, åªéœ€è¦åœ¨1så†…å¯¹ä¸€å¼ å›¾ç‰‡æ›´æ›¿ä¸€å®šçš„é‡çš„æ¬¡æ•°, äººçœ¼å°±ä¸ä¼šçœ‹å‡ºæ˜¯å¦å¯¹è¿™å¼ å›¾ç‰‡è¿›è¡Œäº†æ›´æ›¿, è¿™, å…¶å®å°±æ˜¯ å¸§ .åŒæ—¶,å¹¶ä¸æ˜¯æ‰€æœ‰çš„ å¸§ éƒ½æ˜¯ä¼šæ›´æ”¹çš„, æœ‰äº›å¸§å®Œå…¨å°±æ˜¯ä¸ä¼šå˜åŒ–çš„, è¿™å°±å¼•å‡ºäº† å…³é”®å¸§ çš„æ¦‚å¿µ, æˆ‘ä»¬åªéœ€è¦ç€é‡å…³æ³¨äºå…³é”®æ›´æ”¹äº†å›¾è±¡çš„ å¸§ å³å¯, å¹¶ä¸éœ€è¦å…³æ³¨å…¶ä»–çŠ¶æ€çš„ é™æ­¢å¸§ .æœ¬æ¬¡ç¼–ç¨‹å®è·µä¹Ÿæ˜¯åªé’ˆå¯¹äºå…³é”®å¸§å¤„ç†çš„. ä»€ä¹ˆæ˜¯éçº¿æ€§åŠ¨ç”»åœ¨ Maya ç”¨æˆ·æŒ‡å—ä¸Šæœ‰è¿™ä¹ˆä¸€å¥è¯: åœ¨ Maya ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„ç‰‡æ®µï¼šæºç‰‡æ®µå’Œå¸¸è§„å‰ªè¾‘ã€‚Maya é€šè¿‡å°†è§’è‰²çš„åŸå§‹åŠ¨ç”»æ›²çº¿ä¿å­˜åœ¨æºç‰‡æ®µä¸­ï¼Œæ¥ä¿ç•™åŠä¿å­˜è§’è‰²åŸå§‹åŠ¨ç”»æ›²çº¿ã€‚è¯·å‹¿ä½¿ç”¨æºç‰‡æ®µä¸ºè§’è‰²è®¾ç½®åŠ¨ç”»ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æºç‰‡æ®µï¼ˆç§°ä¸º_å¸¸è§„ç‰‡æ®µ_ï¼‰çš„å‰¯æœ¬æˆ–_å®ä¾‹_ä»¥éçº¿æ€§æ–¹å¼ä¸ºè§’è‰²è®¾ç½®åŠ¨ç”»ã€‚è¯·å‚è§åŠ¨ç”»ç‰‡æ®µã€‚ __éçº¿æ€§åŠ¨ç”»çš„åŸºç¡€æ˜¯ï¼Œç§»åŠ¨ã€æ“çºµå’Œæ··åˆå¸¸è§„ç‰‡æ®µï¼Œä»è€Œä¸ºè§’è‰²ç”Ÿæˆä¸€ç³»åˆ—å¹³æ»‘çš„åŠ¨ä½œã€‚_&gt; çœ‹ä¸Šå»å¾ˆé«˜çº§, è¯´ç™½äº†å…¶å®å°±æ˜¯åŠ¨ç”»çš„å…³é”®å¸§åœç•™ä½ç½®(æ—¶æ®µ), ä¹Ÿå°±æ˜¯è¯´, éçº¿æ€§çš„å…³é”®å¸§æ‰€åœç•™çš„å¹¶ä¸æ˜¯å¤„äºå¸¸è§è§„å¾‹ä¸­çš„, ä»–å¯èƒ½æ˜¯éµå¾ªäºŒæ¬¡å‡½æ•°, éµå¾ªéœ‡è¡å‡½æ•°, æ€»ä¹‹, å…¶è§„å¾‹ä¸€å®šä¸æ˜¯çº¿æ€§è§„å¾‹(ä¸€æ¬¡å‡½æ•°). ä»€ä¹ˆæ˜¯çº¿æ€§åŠ¨ç”»æ‰€ä»¥, çº¿æ€§åŠ¨ç”»å°±å¾ˆå®¹æ˜“ç†è§£äº†, æ‰€æœ‰å…³é”®å¸§åœç•™ä½ç½®å…¶å®éƒ½æ˜¯å¤„åœ¨ä¸€æ¡çº¿ä¸­çš„, å…¶å¯¼æ•°æ°¸è¿œæ˜¯å¸¸æ•°. çº¿æ€§åŠ¨ç”»/éçº¿æ€§åŠ¨ç”»æœ‰ä»€ä¹ˆç”¨é‚£ä¹ˆ, éçº¿æ€§åŠ¨ç”»åˆæœ‰ç€ä»€ä¹ˆæ ·çš„ç‰¹æ®Šç”¨é€”å‘¢?å¾ˆç®€å•çš„, åº”ç”¨åœ¨æ‰‹æœºä¸Š, è¿™ä¼šè®©ä½ çš„åŠ¨ç”»æ„Ÿè§‰æ›´æœ‰åŠ¨æ„Ÿ, æ›´åŠ ç²¾è‡´, ä¸ä¼šåƒæ˜¯çº¿æ€§åŠ¨ç”»é‚£æ ·, ä¸€æ¿ä¸€çœ¼.æ¯”å¦‚ IOS ä¸€ç›´éƒ½æ˜¯éçº¿æ€§åŠ¨ç”», ç»™äººçš„æ„Ÿå—å°±éå¸¸çš„ä¸æ»‘.è€Œæ—©å¹´é—´çš„ Android åŠ¨ç”»éƒ½æ˜¯çº¿æ€§åŠ¨ç”», ç»™äººçš„æ„Ÿè§‰å°±åƒæ˜¯æœºæ¢°ä¸€èˆ¬çš„ç²¾å¯†ä½†åˆ»æ¿. ç®€å•çš„çº¿æ€§åŠ¨ç”»(ç‚¹å‡»å›¾ç‰‡çœ‹åŠ¨ç”»): img See the Pen çº¿æ€§åŠ¨ç”» by !è¾“è®¤ä¸æ°¸DGL (@xmmmmmovo) on CodePen. ç®€å•çš„éçº¿æ€§(ç‚¹å‡»å›¾ç‰‡çœ‹åŠ¨ç”»):åœ†å¼§éçº¿æ€§ img See the Pen åŠ é€Ÿéçº¿æ€§ by !è¾“è®¤ä¸æ°¸DGL (@xmmmmmovo) on CodePen. åŠ å‡é€Ÿéçº¿æ€§å…ˆåŠ é€Ÿå†å‡é€Ÿ, äºŒæ¬¡å‡½æ•° See the Pen äºŒæ¬¡éçº¿æ€§ by !è¾“è®¤ä¸æ°¸DGL (@xmmmmmovo) on CodePen. ç¢°æ’åå¼¹ img å¦‚æœåœ¨å¼€å§‹æ—¶æœ‰åŠ¨ç”»æ•ˆæœï¼Œæ¯”å¦‚å¼¹è·³ â€”â€” é‚£ä¹ˆå®ƒå°†åœ¨æœ€åæ˜¾ç¤ºã€‚ä¸Šå›¾ä¸­å¸¸è§„å¼¹è·³ä¸ºçº¢è‰²ï¼ŒeaseOut å¼¹è·³ä¸ºè“è‰²ã€‚ å¸¸è§„å¼¹è·³ â€”â€” ç‰©ä½“åœ¨åº•éƒ¨å¼¹è·³ï¼Œç„¶åçªç„¶è·³åˆ°é¡¶éƒ¨ã€‚ easeOut å˜æ¢ä¹‹å â€”â€” ç‰©ä½“è·³åˆ°é¡¶éƒ¨ä¹‹åï¼Œåœ¨é‚£é‡Œå¼¹è·³ã€‚ See the Pen ç¢°æ’éçº¿æ€§ by !è¾“è®¤ä¸æ°¸DGL (@xmmmmmovo) on CodePen. æ€»ç»“å¦‚æœç†è®ºçœ‹ä¸æ‡‚, é‚£å¤§æ¦‚çœ‹ä¾‹å­ä¹Ÿèƒ½é¢†ä¼šäº†, æœ‰äº›ä¸œè¥¿, ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘è¯­æ–‡å¤ªå·®çš„ç¼˜æ•…, ç†è®ºå®åœ¨æ˜¯éš¾ä»¥å½¢å®¹, ä½†æ˜¯å½“å®é™…ä¾‹å­å±•ç¤ºå‡ºæ¥äº†ä¹‹å, å°±ä¼šå‘ç°, å…¶å®è¿™ä¸ªè¿˜æ˜¯å¾ˆå®¹æ˜“ç†è§£/çœ‹å‡ºæ¥çš„å˜›.","categories":[{"name":"study","slug":"study","permalink":"http://blog.fivezha.cn/categories/study/"}],"tags":[{"name":"animation","slug":"animation","permalink":"http://blog.fivezha.cn/tags/animation/"},{"name":"javascript","slug":"javascript","permalink":"http://blog.fivezha.cn/tags/javascript/"}]},{"title":"ç½‘ç»œç¼–ç¨‹ç¬”è®°(2)---UDPä¸åˆ†åŒ…åè®®","date":"2020-04-29T12:39:32.000Z","path":"2020/04/29/socket-program-2/","text":"æœ¬æ–‡ä¸»è¦æ˜¯åœ¨Linuxç¯å¢ƒä¸‹ç¼–å†™socketç¨‹åºï¼Œæœ¬æ¬¡å®ç°ç®€å•UDPecho serverå’Œecho clientï¼ŒåŒ…å«ç®€å•åˆ†åŒ…æ“ä½œå’Œåè®®è®¾è®¡ ç¬”è®°UDPç”¨æˆ·æ•°æ®æŠ¥åè®®, ä¸ä¼šå­˜åœ¨ACKåº”ç­”æ¶ˆæ¯, ç±»ä¼¼äºå¹¿æ’­çš„æ— è¿æ¥ä¼ è¾“å±‚åè®®.å°±æ˜¯è¯´UDPä»…éœ€è¦ä¸€ä¸ªå¥—æ¥å­—ä¾¿å¯ä»¥ä¸å¤šå°ä¸»æœºé€šä¿¡. img åŸºäºUDPçš„I/Oå‡½æ•° img img å®ç°åŸºäºUDPçš„EchoæœåŠ¡å™¨éœ€æ±‚ img Server12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//// Created by xmmmmmovo on 2020/4/29.//#include &lt;arpa/inet.h&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;sys/socket.h&gt;#include &lt;unistd.h&gt;//constexpr int BUF_SIZE = 256;constexpr int BUF_SIZE = 10;void error_handler(char *message);int main(int argc, char *argv[]) &#123; if (argc != 2) &#123; printf(\"Usage: %s &lt;port&gt; \\n\", argv[ 0 ]); exit(1); &#125; int sock = socket(PF_INET, SOCK_DGRAM, 0); sockaddr_in sockAddr&#123;&#125;; memset(&amp;sockAddr, 0, sizeof(sockAddr)); sockAddr.sin_family = AF_INET; sockAddr.sin_addr.s_addr = htonl(INADDR_ANY); sockAddr.sin_port = htons(atoi(argv[ 1 ])); if (-1 == bind(sock, (struct sockaddr *) &amp;sockAddr, sizeof(sockAddr))) &#123; error_handler(\"bind() error!\"); &#125; sockaddr_in clntAddr&#123;&#125;; socklen_t clntAddrLen = sizeof(clntAddr); char buf[ 512 ]; while (true) &#123; int recv_len = recvfrom(sock, buf, BUF_SIZE, 0, (struct sockaddr *) &amp;clntAddr, &amp;clntAddrLen); printf(\"recv len = %d\\n\", recv_len); sendto(sock, buf, recv_len, 0, (struct sockaddr *) &amp;clntAddr, sizeof(clntAddr)); &#125; close(sock); return 0;&#125;void error_handler(char *message) &#123; fputs(message, stderr); fputc('\\n', stderr); exit(0);&#125; Client123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128//// Created by xmmmmmovo on 2020/4/29.//#include &lt;arpa/inet.h&gt;#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;sys/socket.h&gt;#include &lt;unistd.h&gt;//constexpr int BUF_SIZE = 256;constexpr int BUF_SIZE = 10;void error_handler(char *message);class InetAddress &#123;public: explicit InetAddress(std::string port, const std::string ip = \"\") &#123; memset(&amp;addr_, 0, sizeof(addr_)); addr_.sin_family = AF_INET; addr_.sin_port = htons(atoi(port.c_str())); if (ip == \"\") addr_.sin_addr.s_addr = htonl(INADDR_ANY); else addr_.sin_addr.s_addr = inet_addr(ip.c_str()); &#125; ~InetAddress() = default; sockaddr_in &amp;getAddr() &#123; return addr_; &#125;private: struct sockaddr_in addr_ &#123;&#125;;&#125;;class Socket &#123;public: explicit Socket(int type) &#123; fd_ = socket(PF_INET, type, 0); &#125; ~Socket() &#123; close(fd_); &#125; ssize_t sendto(InetAddress &amp;addr, void *pData, size_t nBytes) const &#123; sockaddr *toAddr = (sockaddr *) &amp;(addr.getAddr()); socklen_t addrLen = sizeof(addr.getAddr()); return ::sendto(fd_, pData, nBytes, 0, toAddr, addrLen); &#125; ssize_t recvfrom(InetAddress &amp;addr, void *buf, size_t nBytes) const &#123; return ::recvfrom(fd_, buf, nBytes, 0, 0, 0); &#125;private: int fd_;&#125;;int main(int argc, char *argv[]) &#123; if (argc != 3) &#123; printf(\"Usage: %s &lt;ip&gt; &lt;port&gt; \\n\", argv[ 0 ]); exit(1); &#125; Socket sock(SOCK_DGRAM); InetAddress addr(argv[ 2 ], argv[ 1 ]); char buf[ 1024 ]; int sl = 0; while (true) &#123; fgets(buf + 3, sizeof(buf) - 3, stdin); sl = strlen(buf + 3) - 1; printf(\"str len = %d\\n\", sl); if (sl &lt; BUF_SIZE - 3) &#123; buf[ 1 ] = (char) 1; buf[ 2 ] = (char) sl; int send_len = sock.sendto(addr, buf + 1, sl + 2); printf(\"send len = %d\\n\", send_len); &#125; else &#123; int pack_num = ceil((double) sl / (BUF_SIZE - 3)); buf[ 0 ] = (char) 0; buf[ 1 ] = (char) pack_num; sock.sendto(addr, buf, 2); int st = 0; for (int i = 0; i &lt; pack_num; ++i) &#123; st = i * (BUF_SIZE - 3); buf[ st ] = (char) 2; buf[ st + 1 ] = (char) (i + 1); buf[ st + 2 ] = i == pack_num - 1 ? strlen(buf + st + 3) : BUF_SIZE - 3; sock.sendto(addr, buf + st, BUF_SIZE); &#125; &#125; int recv_len = sock.recvfrom(addr, buf, BUF_SIZE); buf[ recv_len ] = 0; if (buf[ 0 ] == 1) &#123; printf(\"Message from server: %s\\n\", buf + 2); &#125; else if (buf[ 0 ] == 0) &#123; // æ•°æ®åŒ…è·å– int pack_num = (int) buf[ 1 ]; int cnt = 0; char pc_buf[ BUF_SIZE ]; for (int i = 0; i &lt; pack_num; ++i) &#123; recv_len = sock.recvfrom(addr, pc_buf, BUF_SIZE); std::copy(pc_buf + 3, pc_buf + recv_len, buf + cnt); cnt += (int) pc_buf[ 2 ]; &#125; printf(\"Message from server: %s\\n\", buf); &#125; &#125; return 0;&#125;void error_handler(char *message) &#123; fputs(message, stderr); fputc('\\n', stderr); exit(0);&#125; ç»“æœclient img server img","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"c++","slug":"c","permalink":"http://blog.fivezha.cn/tags/c/"},{"name":"socket","slug":"socket","permalink":"http://blog.fivezha.cn/tags/socket/"}]},{"title":"ç½‘ç»œç¼–ç¨‹ç¬”è®°(1)---TCPä¸ECHOæœåŠ¡å™¨","date":"2020-04-28T12:39:26.000Z","path":"2020/04/28/socket-program-1/","text":"æœ¬æ–‡ä¸»è¦æ˜¯åœ¨Linuxç¯å¢ƒä¸‹ç¼–å†™socketç¨‹åºï¼Œæœ¬æ¬¡å®ç°ç®€å•TCPserverå’Œclientä»¥åŠecho serverå’Œecho client ä»€ä¹ˆæ˜¯SocketSocketä¸­æ–‡è¯‘åå¥—æ¥å­—, æ˜¯ä¸€ä¸ªå½“æ—¶æ²¡æœ‰åœ¨è®¡ç½‘ä¸­è®²åˆ°çš„çŸ¥è¯†, ä½†ç¡®å®æ˜¯æå…¶é‡è¦çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹, ä»–æ˜¯åŸºäºTCP/IPåè®®çš„å°è£…æŠ½è±¡å±‚, å®ƒå¯¹äºTCPåè®®è¿›è¡Œäº†å°è£…, ä½¿å¾—å…¶ç°åœ¨å·²ç»æˆä¸ºäº†æœ€ä¸ºé€šç”¨çš„ç½‘ç»œé€šä¿¡æ¥å£/åº”ç”¨ç¨‹åºæ¥å£.å…³äºTCPåè®®å¯ä»¥çœ‹ä¸‹é¢è¿™ç¯‡æ–‡ç«  https://tools.ietf.org/html/rfc793 ä¸ºä»€ä¹ˆä¼šæœ‰Socketæˆ‘ä»¬çŸ¥é“, æœåŠ¡/æœåŠ¡å™¨å…¶å®æ˜¯æœ‰å¾ˆå¤§å¯èƒ½ä¸å­˜åœ¨äºä¸€ä¸ªè®¡ç®—æœºä¸Šçš„, è¿™å°±æœ‰äº†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯, åœ¨æœåŠ¡å™¨ä¹‹é—´, ä¹Ÿæ˜¯éœ€è¦å­˜åœ¨è¿æ¥é€šä¿¡çš„, æ‰€ä»¥éœ€è¦æœ‰ä¸€ä¸ªç”¨äºè¿›è¡Œé€šä¿¡çš„é€šç”¨ å¯ç¼–ç¨‹ æ¥å£, è¿™å°±æ˜¯socket, ä»–å¯¹äº server å’Œ client ä¹‹é—´æ¶èµ·äº†ä¸€é“æ¡¥, è®© server ä¸ port ç»‘å®š, è®© client ä¸ ip:port è¿æ¥, è¿™æ ·å°±ç›¸å½“äº client è¿›ç¨‹ä¸ server è¿›ç¨‹ä¹‹é—´æœ‰äº†åƒæ˜¯ç®¡é“ä¸€æ ·çš„é€šä¿¡, ä¸è¿‡è¿™ä¸ªé€šä¿¡æ˜¯å…¨åŒå·¥çš„. æˆ‘ä»¬å›é¡¾TCPçŠ¶æ€è½¬æ¢å›¾ åœ¨è¿™é‡Œèƒ½å¤Ÿæ‰¾åˆ°è®¸å¤šsocketå°è£…çš„å½±å­, ä»å®¢æˆ·ç«¯æ¥çœ‹ åˆ™æ›´åŠ æ˜æ˜¾ å­¦ä¹ Linux ä¸‹çš„ç½‘ç»œç¼–ç¨‹(socketç¼–ç¨‹)åˆ›å»ºå¥—æ¥å­— int socket(int domain, int type, int protocol)return : æ–‡ä»¶æè¿°ç¬¦ / or not -1domain: å¥—æ¥å­—æ‰€ä½¿ç”¨çš„åè®®ç°‡type: å¥—æ¥å­—æ•°æ®ä¼ è¾“ç±»å‹protocol: å¥—æ¥å­—æ‰€ä½¿ç”¨çš„åè®® æ–‡ä»¶æè¿°ç¬¦(windowsä¸‹ç§°ä¹‹ä¸ºå¥æŸ„):ç³»ç»Ÿåˆ†é…ç»™æ–‡ä»¶æˆ–å¥—æ¥å­—çš„ä¸€ä¸ªæ•´æ•°: img https://segmentfault.com/a/1190000009724931 img åè®®ç°‡: img å¥—æ¥å­—ç±»å‹: SOCK_STREAM(æµå¼)(é¢å‘è¿æ¥) image.png SOCK_DGRAM(åŒ…å¼)(é¢å‘æ¶ˆæ¯) img åè®® img sockaddr_in img img ç½‘ç»œå­—èŠ‚åº img IntelCPUé»˜è®¤éƒ½æ˜¯å°ç«¯åº, è€Œç½‘ç»œè¿æ¥ç»Ÿä¸€éƒ½æ˜¯å¤§ç«¯åº img img TCPserver/clien img img æ‰€ä»¥åˆå›åˆ°äº†æœ€æœ€ä¸Šé¢çš„ç¬¬ä¸€ä¸ªå›¾: img accept() img sock: åˆ©ç”¨socket()å‡½æ•°å»ºç«‹çš„sockaddr: åœ°å€å˜é‡addlen: ç»“æ„ä½“é•¿åº¦ connect() img å®ç°ç®€å•çš„server/clientServer1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071//// Created by xmmmmmovo on 2020/4/16.//#include &lt;arpa/inet.h&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;sys/socket.h&gt;#include &lt;unistd.h&gt;using std::string;using std::to_string;void error_handler(char *message);int main(int argc, char *argv[]) &#123; int serv_sock, clnt_sock; struct sockaddr_in serv_addr &#123;&#125;; struct sockaddr_in clnt_addr &#123;&#125;; socklen_t clnt_addr_size; string message = \"Hello World!\"; if (argc != 2) &#123; printf(\"Usage : %s &lt;port&gt;\\n\", argv[0]); exit(1); &#125; serv_sock = socket(PF_INET, SOCK_STREAM, 0); if (serv_sock == -1) &#123; error_handler(\"socket() error\"); &#125; memset(&amp;serv_addr, 0, sizeof(serv_addr));// åˆå§‹åŒ–å†…å­˜ serv_addr.sin_family = AF_INET; serv_addr.sin_addr.s_addr = htonl(INADDR_ANY);// å½“å‰ä¸»æœºip serv_addr.sin_port = htons(atoi(argv[1])); if (bind(serv_sock, (struct sockaddr *) &amp;serv_addr, sizeof(serv_addr)) == -1) &#123; error_handler(\"bind() error\"); &#125; if (listen(serv_sock, 5) == -1) &#123; error_handler(\"listen() error\"); &#125; clnt_addr_size = sizeof(clnt_addr); clnt_sock = accept(serv_sock, (struct sockaddr *) &amp;clnt_addr, &amp;clnt_addr_size); if (clnt_sock == -1) &#123; error_handler(\"accept() error\"); &#125; for (int i = 1; i &lt; 4; ++i) &#123; sleep(rand() % 2); string tmp = message + to_string(i); write(clnt_sock, tmp.c_str(), tmp.size()); &#125; // write(clnt_sock, message.c_str(), message.size());// è¿æ¥ä¹‹åç›´æ¥å‘clientå†™å…¥æ•°æ® close(clnt_sock); close(serv_sock); return 0;&#125;void error_handler(char *message) &#123; fputs(message, stderr); fputc('\\n', stderr); exit(0);&#125; client1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768//// Created by xmmmmmovo on 2020/4/16.//#include &lt;arpa/inet.h&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;sys/socket.h&gt;#include &lt;unistd.h&gt;using std::string;void error_handler(char *messgae);int main(int argc, char *argv[]) &#123; int sock; sockaddr_in serv_addr&#123;&#125;; int str_len = 0; int idx = 0, read_len = 0; string message;// ä¿¡æ¯æµ message.resize(100, '\\0'); if (argc != 3) &#123; printf(\"Usage : %s &lt;IP&gt; &lt;port&gt;\\n\", argv[0]); exit(1); &#125; sock = socket(PF_INET, SOCK_STREAM, 0); if (sock == -1) &#123; error_handler(\"socket() error\"); &#125; memset(&amp;serv_addr, 0, sizeof(serv_addr)); serv_addr.sin_family = AF_INET; // è¿™é‡Œä¼šè‡ªåŠ¨å°†ipå­—ç¬¦ä¸²è½¬æ¢ä¸ºuint32_tç±»å‹IPæ•°å­— serv_addr.sin_addr.s_addr = inet_addr(argv[1]); serv_addr.sin_port = htons(atoi(argv[2])); if (connect(sock, (sockaddr *) &amp;serv_addr, sizeof(serv_addr)) == -1) &#123; error_handler(\"connect() error!\"); &#125; bool check = false; // æ¯æ¬¡åªè¯»å‡ºä¸€ä¸ªå­—èŠ‚ while (read_len = read(sock, &amp;message[idx++], 1)) &#123; if (str_len == -1) &#123; if (check) error_handler(\"read() error!\"); else sleep(3); &#125; str_len += read_len; &#125; printf(\"Message from server is : %s \\n\", message.c_str()); printf(\"Function read call count : %d \\n\", str_len); close(sock); return 0;&#125;void error_handler(char *message) &#123; fputs(message, stderr); fputc('\\n', stderr); exit(0);&#125; ç»“æœå¯ä»¥çœ‹åˆ° client æˆåŠŸæ¥å—åˆ°äº†æµå­—ç¬¦: img åŒæ—¶ server ä¹Ÿå‘é€æˆåŠŸç»“æŸäº†ç¨‹åº: img å®ç°echoæœåŠ¡å™¨Server1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889//// Created by xmmmmmovo on 2020/4/16.//#include &lt;arpa/inet.h&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;sys/socket.h&gt;#include &lt;unistd.h&gt;using std::stoi;using std::string;using std::to_string;constexpr int BUF_SIZE = 1024;void error_handler(char *message);int main(int argc, char *argv[]) &#123; int serv_sock, clnt_sock; char message[BUF_SIZE]; int size_len = 4; char size_buf[size_len]; sockaddr_in serv_addr&#123;&#125;, clnt_addr&#123;&#125;; socklen_t clnt_addr_size; int str_len = 0; if (argc != 2) &#123; printf(\"Usage : %s &lt;port&gt;\\n\", argv[0]); exit(1); &#125; serv_sock = socket(PF_INET, SOCK_STREAM, 0); if (serv_sock == -1) &#123; error_handler(\"socket() error\"); &#125; memset(&amp;serv_addr, 0, sizeof(serv_addr));// åˆå§‹åŒ–å†…å­˜ serv_addr.sin_family = AF_INET; serv_addr.sin_addr.s_addr = htonl(INADDR_ANY);// å½“å‰ä¸»æœºip serv_addr.sin_port = htons(atoi(argv[1])); if (bind(serv_sock, (struct sockaddr *) &amp;serv_addr, sizeof(serv_addr)) == -1) &#123; error_handler(\"bind() error\"); &#125; if (listen(serv_sock, 5) == -1) &#123; error_handler(\"listen() error\"); &#125; clnt_addr_size = sizeof(clnt_addr);// ç®—é•¿åº¦ ///ä¸»ä½“ for (int i = 0; i &lt; 5; ++i) &#123; clnt_sock = accept(serv_sock, (sockaddr *) &amp;clnt_addr, &amp;clnt_addr_size); if (clnt_sock == 1) &#123; error_handler(\"accept() error!\"); &#125; else &#123; printf(\"Connected client %d \\n\", i + 1); &#125; while (true) &#123; if ((str_len = read(clnt_sock, size_buf, size_len)) != 0) &#123; if ((str_len = read(clnt_sock, message, stoi(size_buf))) != 0) &#123; write(clnt_sock, size_buf, size_len); write(clnt_sock, message, str_len); &#125; else &#123; break; &#125; &#125; else &#123; break; &#125; &#125; close(clnt_sock); &#125; /// close(serv_sock); return 0;&#125;void error_handler(char *message) &#123; fputs(message, stderr); fputc('\\n', stderr); exit(0);&#125; Client12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879//// Created by xmmmmmovo on 2020/4/16.//#include &lt;arpa/inet.h&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;sys/socket.h&gt;#include &lt;unistd.h&gt;using std::stoi;using std::string;using std::to_string;constexpr int BUF_SIZE = 1024;void error_handler(char *messgae);int main(int argc, char *argv[]) &#123; int sock; sockaddr_in serv_addr&#123;&#125;; int str_len = 0; char message[BUF_SIZE]; if (argc != 3) &#123; printf(\"Usage : %s &lt;IP&gt; &lt;port&gt;\\n\", argv[0]); exit(1); &#125; sock = socket(PF_INET, SOCK_STREAM, 0); if (sock == -1) &#123; error_handler(\"socket() error\"); &#125; memset(&amp;serv_addr, 0, sizeof(serv_addr)); serv_addr.sin_family = AF_INET; // è¿™é‡Œä¼šè‡ªåŠ¨å°†ipå­—ç¬¦ä¸²è½¬æ¢ä¸ºuint32_tç±»å‹IPæ•°å­— serv_addr.sin_addr.s_addr = inet_addr(argv[1]); serv_addr.sin_port = htons(atoi(argv[2])); if (connect(sock, (sockaddr *) &amp;serv_addr, sizeof(serv_addr)) == -1) &#123; error_handler(\"connect() error!\"); &#125; else &#123; puts(\"Connected......\"); &#125; while (true) &#123; fputs(\"Input message(Q/q to quit): \", stdout); std::fgets(message, BUF_SIZE, stdin); if (!strcmp(message, \"q\\n\") || !strcmp(message, \"Q\\n\")) &#123; break; &#125; int l = strlen(message); printf(\"len = %d\\n\", l); string s = to_string(l); s.resize(4); write(sock, s.c_str(), 4); write(sock, message, strlen(message)); char buf[4]; str_len = read(sock, buf, 4); str_len = read(sock, message, stoi(buf)); message[str_len] = 0; printf(\"Message from server: %s\\n\", message); &#125; close(sock); return 0;&#125;void error_handler(char *message) &#123; fputs(message, stderr); fputc('\\n', stderr); exit(0);&#125; ç»“æœclient: img server: img","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"c++","slug":"c","permalink":"http://blog.fivezha.cn/tags/c/"},{"name":"socket","slug":"socket","permalink":"http://blog.fivezha.cn/tags/socket/"}]},{"title":"dockerç¬”è®°","date":"2020-04-24T13:31:13.000Z","path":"2020/04/24/docker-note/","text":"ä¸€ç‚¹ç‚¹dockerç¬”è®° å®‰è£…docker12345678910111213141516171819curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyunsudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; \"registry-mirrors\": [ \"https://hub-mirror.c.163.com\", \"https://mirror.baidubce.com\", \"https://dockerhub.azk8s.cn\" ], \"insecure-registries\" : [ \"hub-mirror.c.163.com\", \"mirror.baidubce.com\", \"dockerhub.azk8s.cn\" ]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker å®‰è£…docker-compose12sudo curl -L https://github.com/docker/compose/releases/download/1.24.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-composesudo chmod +x /usr/local/bin/docker-compose åˆ©ç”¨Dockerfileå®šåˆ¶é•œåƒ1234567891011# flaskéƒ¨ç½²FROM python:3.7COPY . /codeWORKDIR /codeRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; pip install -r /code/requirements.txt# å¦‚æœå¤ªæ…¢äº†å†åŠ ä¸Šè¿™å¥ ä¸ç„¶é•œåƒç«™æœ‰å¯èƒ½åŒæ­¥ä¸å…¨å¯¼è‡´åŒ…å®‰è£…å¤±è´¥# -i https://pypi.tuna.tsinghua.edu.cn/CMD gunicorn app:app -c gunicorn.conf.py --error-logfile /log/gunicorn.log 123docker build -t 'name' .docker run -it 'name'docker run -d 'name' COPY å¤åˆ¶æ–‡ä»¶ CMD å®¹å™¨å¯åŠ¨å‘½ä»¤ ENV è®¾ç½®ç¯å¢ƒå˜é‡ WORKDIR æŒ‡å®šå·¥ä½œç›®å½• å¸¸ç”¨æŒ‡ä»¤ docker image/container ls åˆ—å‡ºæ‰€æœ‰é•œåƒ/å®¹å™¨ docker rm â€¦ åˆ é™¤é•œåƒ docker attach â€¦ è¿›å…¥å®¹å™¨ docker ps -a åˆ—å‡ºæ‰€æœ‰çš„containeråŒ…æ‹¬æ²¡æœ‰è¿è¡Œçš„ docker-compose1234567891011121314151617181920212223242526272829303132# flask redis nginx mysqléƒ¨ç½²version: '3.6'services: web: build: . container_name: web volumes: - ../logs:/log depends_on: - db - redis db: image: mysql:5.7 environment: - MYSQL_ROOT_PASSWORD=mx/58MFuLJ6^%.q volumes: - ./config/mysql:/docker-entrypoint-initdb.d nginx: image: nginx:1.17 volumes: - ./config/nginx/default.conf:/etc/nginx/conf.d/default.conf depends_on: - web ports: - 8888:80 redis: image: redis:5.0.8 volumes: - ./config/redis/redis.conf:/etc/redis/redis.conf command: redis-server privileged: true build åˆ©ç”¨Dockerfileç¼–è¯‘çš„ç›®å½• image é•œåƒ volumes ç›®å½•æ˜ å°„å…³ç³» depend_on ä¾èµ–äº å½“ä¾èµ–å¯åŠ¨åæœ¬serviceæ‰èƒ½å¯åŠ¨ port å¼€æ”¾çš„ç«¯å£æ˜ å°„ environment ç¯å¢ƒå˜é‡ privileged æƒé™ command è‡ªå¸¦å‘½ä»¤è¡Œ å¸¸ç”¨æŒ‡ä»¤ docker-compose start docker-compose stop docker-compose top å¥‡æŠ€æ·«å·§åˆ—å‡ºæ‰€æœ‰çš„å®¹å™¨ ID1docker ps -aq åœæ­¢æ‰€æœ‰çš„å®¹å™¨1docker stop $(docker ps -aq) åˆ é™¤æ‰€æœ‰çš„å®¹å™¨1docker rm $(docker ps -aq) åˆ é™¤æ‰€æœ‰çš„é•œåƒ1docker rmi $(docker images -q) docker1.3ä¹‹åçš„èµ„æºæ¸…ç†12docker image prune --force --all # åˆ é™¤æ‰€æœ‰ä¸ä½¿ç”¨çš„é•œåƒdocker container prune -f # åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨","categories":[{"name":"docker","slug":"docker","permalink":"http://blog.fivezha.cn/categories/docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://blog.fivezha.cn/tags/docker/"}]},{"title":"é¡µé¢ç½®æ¢ç®—æ³•ä¹‹LRUç®—æ³•(C++å®ç°)","date":"2019-12-10T01:55:45.000Z","path":"2019/12/10/page-LRU/","text":"å› ä¸ºæ“ä½œç³»ç»Ÿå®éªŒè¦å†™ æ‰€ä»¥å†™äº† ?LRU(Least Recently Used)ç½®æ¢ç®—æ³•çš„æè¿° é€‰æ‹©æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´è·ç¦»å½“å‰æ—¶é—´æœ€é•¿**çš„ä¸€é¡µå¹¶æ·˜æ±°ä¹‹ã€‚ å³æ·˜æ±°æ²¡æœ‰ä½¿ç”¨çš„æ—¶é—´æœ€é•¿çš„é¡µã€‚å®ç°ä»£ä»·å¾ˆé«˜(æ—¶é—´æˆ³æˆ–ç¡¬ä»¶æ–¹æ³•) !è¯¦è§: GIthub Q0XctI.png ä¸‹é¢æ˜¯æµ‹è¯•æ•°æ®, æ ¹æ®çš„æ˜¯ä¸Šè¯¾çš„ppt: Q0jAgK.jpg Q0Xr0H.png å¯ä»¥çœ‹åˆ°, 9æ¬¡é¡µé¢ç½®æ¢è·Ÿç¼ºé¡µç‡éƒ½æ˜¯æ­£ç¡®çš„","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"os","slug":"os","permalink":"http://blog.fivezha.cn/tags/os/"},{"name":"c++","slug":"c","permalink":"http://blog.fivezha.cn/tags/c/"}]},{"title":"é¡µé¢ç½®æ¢ç®—æ³•ä¹‹FIFOç®—æ³•(C++å®ç°)","date":"2019-12-09T14:09:16.000Z","path":"2019/12/09/page-fifo/","text":"å› ä¸ºæ“ä½œç³»ç»Ÿå®éªŒè¦å†™ æ‰€ä»¥å†™äº† ?å…ˆè¿›å…ˆå‡º(FIFO)é¡µé¢ç½®æ¢ç®—æ³• é€‰æ‹©åœ¨å†…å­˜ä¸­é©»ç•™æ—¶é—´æœ€é•¿çš„é¡µå¹¶æ·˜æ±°ä¹‹ !è¯¦è§: GIthub Q0tuB6.png ä¸‹é¢æ˜¯æµ‹è¯•æ•°æ®, æ ¹æ®çš„æ˜¯ä¸Šè¯¾çš„ppt: testdata.jpg Q0tKHK.png","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"os","slug":"os","permalink":"http://blog.fivezha.cn/tags/os/"},{"name":"c++","slug":"c","permalink":"http://blog.fivezha.cn/tags/c/"}]},{"title":"é“¶è¡Œå®¶ç®—æ³•çš„C++å®ç°","date":"2019-12-05T12:12:48.000Z","path":"2019/12/05/bank-algorithm/","text":"å› ä¸ºæ“ä½œç³»ç»Ÿå®éªŒè¦å†™ æ‰€ä»¥å†™äº† é“¶è¡Œå®¶ç®—æ³•æ˜¯ä¸€ç§é¿å…æ­»é”çš„æ–¹æ³•åœ¨é¿å…æ­»é”çš„æ–¹æ³•ä¸­ï¼Œå…è®¸è¿›ç¨‹åŠ¨æ€åœ°ç”³è¯·èµ„æºï¼Œä½†ç³»ç»Ÿåœ¨è¿›è¡Œèµ„æºåˆ†é…ä¹‹å‰ï¼Œåº”å…ˆè®¡ç®—æ­¤æ¬¡èµ„æºåˆ†é…çš„å®‰å…¨æ€§ã€‚è‹¥æ­¤æ¬¡åˆ†é…ä¸ä¼šå¯¼è‡´ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œåˆ™å°†èµ„æºåˆ†é…ç»™è¿›ç¨‹ï¼›å¦åˆ™ï¼Œä»¤è¿›ç¨‹ç­‰å¾…ã€‚è™½ç„¶å¹¶éæ‰€æœ‰çš„ä¸å®‰å…¨çŠ¶æ€éƒ½å¿…ç„¶ä¼šè½¬ä¸ºæ­»é”çŠ¶æ€ï¼Œä½†å½“ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€åï¼Œä¾¿æœ‰å¯èƒ½è¿›è€Œè¿›å…¥æ­»é”çŠ¶æ€ï¼›åä¹‹ï¼Œåªè¦ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ï¼Œç³»ç»Ÿä¾¿å¯é¿å…è¿›å…¥æ­»é”çŠ¶æ€ã€‚å› æ­¤ï¼Œé¿å…æ­»é”çš„å®è´¨åœ¨äºï¼šç³»ç»Ÿåœ¨è¿›è¡Œèµ„æºåˆ†é…æ—¶ï¼Œå¦‚ä½•ä½¿ç³»ç»Ÿä¸è¿›å…¥ä¸å®‰å…¨çŠ¶æ€ã€‚ é“¶è¡Œå®¶ç®—æ³•æ€æƒ³å¾ˆç®€å•è¿™ä¸ªç®—æ³•ä¸­, ä¸»è¦æ˜¯ç»´æŠ¤å…¶ä¸­çš„ availableå‘é‡ maxçŸ©é˜µ allocationçŸ©é˜µ æ¯ä¸€æ¬¡åˆ†é…, éƒ½ä¼šè½®è¯¢ä¸€éå¯åˆ†é…çŸ©é˜µ, å¯»æ±‚å¯ä»¥åˆ†é…çš„process, å¦‚æœæ²¡æœ‰å¯ä»¥åˆ†é…çš„process, åˆ™è·³å‡ºå¾ªç¯è¿›è¡Œæ˜¯å¦è¿›å…¥æ­»é”çš„åˆ¤æ–­. å…·ä½“ç»´åŸºç™¾ç§‘è®²çš„å…¶å®æ¯”æˆ‘å¥½ é“¶è¡Œå®¶ç®—æ³•ä»£ç å¥½å†™ä¸‹é¢ä¸¤å¼ å›¾ä¸€å¼ æ˜¯æºç  ä¸€å¼ æ˜¯ç»“æœ å…¶ä¸­æ•°æ®æ¥æºäºæ–‡ä»¶ å¯ä»¥æ–¹ä¾¿è‡ªå®šä¹‰ å…·ä½“å¯ä»¥è§æˆ‘çš„GitHubä»“åº“ ä»£ç å†…å®¹ å†…å®¹","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"os","slug":"os","permalink":"http://blog.fivezha.cn/tags/os/"},{"name":"c++","slug":"c","permalink":"http://blog.fivezha.cn/tags/c/"}]},{"title":"playframeworkåˆæ¶‰-2.é…ç½®MySQLå¹¶æµ‹è¯•","date":"2019-10-10T16:14:27.000Z","path":"2019/10/11/play-study-s/","text":"æ‚²ä¼¤çš„play framework + MySQLé…ç½®è¿‡ç¨‹ å› ä¸ºplayframeworkç‰ˆæœ¬å¤ªä½å¸è½½mysql8é¦–å…ˆæœ‰ä¸€ä»¶å¾ˆæ‚²ä¼¤çš„æ¶ˆæ¯ï¼Œä¸‹é¢è¿™ä¸ªç‰ˆæœ¬ mysql8 ï¼Œå› ä¸ºplayç‰ˆæœ¬è¿‡ä½ï¼Œæ— æ³•å®Œå…¨å…¼å®¹ï¼Œéœ€è¦é™çº§åˆ°mysql5çš„ç‰ˆæœ¬ï¼Œå¦‚æœå·²ç»å®‰è£…ï¼Œé‚£ä¹ˆå¯ä»¥ä»¥ç®¡ç†å‘˜å¯åŠ¨å‘½ä»¤è¡Œ cmd ç„¶åå…ˆè¾“å…¥(å‰ææ˜¯å·²ç»é…ç½®è¿‡mysqlåˆ°ç¯å¢ƒå˜é‡ å¦åˆ™è¯·åˆ°mysqlæ–‡ä»¶å¤¹ä¸­å†æ‰§è¡Œ) net stop mysql mysqld --remove real remove ä¹‹åæ•´ä¸ªåˆ é™¤æ•´ä¸ªmysql-8.0.12-winx64ç‰ˆæœ¬ ç„¶åå®‰è£…MySQL5.7ç‰ˆæœ¬(åœ°ä¸‹ç¾¤ç¾¤æ–‡ä»¶é‡Œæœ‰)åŸºæœ¬æ˜¯ä¸€è·¯nextå°±å¯ä»¥äº† è¿™é‡Œä¹Ÿç»™ä¸ªå®‰è£…çš„æ•™ç¨‹ ä¸‹é¢å‡ é¡¹æ³¨æ„ä¸‹ è¿™é‡Œé€‰customå®‰è£… complete è¿™é‡Œé€‰æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ main è®¾å®šç™»å½•å¯†ç  login è¿™é‡ŒåŠ¡å¿…é€‰æ‹©utf8ç¼–ç  utf-8 å¤§æ¦‚å°±æ˜¯è¿™äº›ï¼Œæœ€åä¸€è·¯nextåˆ°åº•å°±è¡Œäº†ï¼Œç»è¿‡æ¼«é•¿çš„ç­‰å¾…ï¼Œå¯èƒ½ä¼šè®©ä½ é‡å¯ï¼Œé‡å¯å°±å¯ä»¥äº† æ³¨ï¼šå¦‚æœæ— å“åº”ï¼Œé‚£å°±ç›´æ¥å…³äº†ç„¶åå†æ‰“å¼€å®‰è£…æ–‡ä»¶ï¼Œé€‰æ‹©repairé€‰é¡¹ï¼Œå®Œæˆä¹‹åé‡å¯ repair é‡å¯ä¹‹åå†ä»¥ç®¡ç†å‘˜æ‰“å¼€å‘½ä»¤æç¤ºè¡Œï¼Œæ‰§è¡Œä¸‹é¢ä¸¤è¡Œè¯­å¥ mysqld -install net start mysql start æ­¤æ—¶ï¼Œä¾¿å¯ä»¥è¾“å…¥mysql -u rootè¿›å…¥æ•°æ®åº“äº† ä¸è¿‡è¿™ä¸ªå¼€å§‹æ—¶æ²¡æœ‰å¯†ç çš„ï¼Œä½ éœ€è¦è¾“å…¥ä»¥ä¸‹ä¸¤è¡Œæ›´æ–°å¯†ç  set password for &#39;root&#39;@&#39;localhost&#39;=password(&#39;123456&#39;);æ³¨ï¼špassword()é‡Œé¢çš„å°±æ˜¯ä½ è®¾å®šçš„å¯†ç  flush privileges;è¿™ä¸€æ­¥æ˜¯æ›´æ–°æƒé™ change password å¥½äº† è¿™æ ·ä½ çš„æ•°æ®åº“ä¾¿é…ç½®å®Œæˆäº† ç„¶åæ–°å»ºä¸€ä¸ªdatabase(mysqlé‡Œçš„databaseç­‰åŒäºäºscheme) create database test;(testæ˜¯ä½ æ–°å»ºæ•°æ®åº“çš„åå­— éšä¾¿å†™) database æ­¤æ—¶å›åˆ°playä½ æ–°å»ºçš„appä¸­åœ¨application.confä¸­è®¾ç½®mysql setting å¦‚æœä½ è·Ÿæˆ‘åšçš„ä¸€æ ·ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ä¸‹é¢è¿™æ ·: setting2 éšåç¼–å†™æµ‹è¯•ç¨‹åº user test è¿è¡Œappï¼Œè®¿é—®ç½‘å€åï¼Œçœ‹åˆ°æœ‰æ­£å¸¸è¾“å‡º success ä¸”æ•°æ®åº“ä¸­æœ‰ä¸œè¥¿ sql é‚£ä¹ˆåˆ™è¯´æ˜é…ç½®æˆåŠŸäº†ã€‚","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"play","slug":"play","permalink":"http://blog.fivezha.cn/tags/play/"},{"name":"java","slug":"java","permalink":"http://blog.fivezha.cn/tags/java/"}]},{"title":"æ°´é¢˜äº”é“","date":"2019-09-12T12:10:14.000Z","path":"2019/09/12/lab-summer-question/","text":"å®éªŒå®¤æš‘å‡è€ƒæ ¸é¢˜ç›® éšä¾¿å†™å†™è§£é¢˜æ€è·¯æ¥ç€ 824.å±±ç¾Šæ‹‰ä¸æ–‡ ç»™å®šä¸€ä¸ªç”±ç©ºæ ¼åˆ†å‰²å•è¯çš„å¥å­ Sã€‚æ¯ä¸ªå•è¯åªåŒ…å«å¤§å†™æˆ–å°å†™å­—æ¯ã€‚ æˆ‘ä»¬è¦å°†å¥å­è½¬æ¢ä¸º â€œGoat Latinâ€ï¼ˆä¸€ç§ç±»ä¼¼äº çŒªæ‹‰ä¸æ–‡ - Pig Latin çš„è™šæ„è¯­è¨€ï¼‰ã€‚ å±±ç¾Šæ‹‰ä¸æ–‡çš„è§„åˆ™å¦‚ä¸‹ï¼š å¦‚æœå•è¯ä»¥å…ƒéŸ³å¼€å¤´ï¼ˆa, e, i, o, uï¼‰ï¼Œåœ¨å•è¯åæ·»åŠ â€maâ€ã€‚ä¾‹å¦‚ï¼Œå•è¯â€appleâ€å˜ä¸ºâ€applemaâ€ã€‚ å¦‚æœå•è¯ä»¥è¾…éŸ³å­—æ¯å¼€å¤´ï¼ˆå³éå…ƒéŸ³å­—æ¯ï¼‰ï¼Œç§»é™¤ç¬¬ä¸€ä¸ªå­—ç¬¦å¹¶å°†å®ƒæ”¾åˆ°æœ«å°¾ï¼Œä¹‹åå†æ·»åŠ â€maâ€ã€‚ä¾‹å¦‚ï¼Œå•è¯â€goatâ€å˜ä¸ºâ€oatgmaâ€ã€‚ æ ¹æ®å•è¯åœ¨å¥å­ä¸­çš„ç´¢å¼•ï¼Œåœ¨å•è¯æœ€åæ·»åŠ ä¸ç´¢å¼•ç›¸åŒæ•°é‡çš„å­—æ¯â€™aâ€™ï¼Œç´¢å¼•ä»1å¼€å§‹ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬ä¸€ä¸ªå•è¯åæ·»åŠ â€aâ€ï¼Œåœ¨ç¬¬äºŒä¸ªå•è¯åæ·»åŠ â€aaâ€ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿”å›å°† S è½¬æ¢ä¸ºå±±ç¾Šæ‹‰ä¸æ–‡åçš„å¥å­ã€‚ æ¥æºï¼š leetcode 824 123456789101112class Solution: def toGoatLatin(self, S: str) -&gt; str: vowel = \"aeiouAEIOU\" spllit_str = S.split(\" \") for k, s in enumerate(spllit_str): if s[0] not in vowel: s = s[1:] + s[0] s += \"ma\" + \"a\" * (k + 1) spllit_str[k] = s return ' '.join(spllit_str) å¾ˆç®€å•å¾—æš´åŠ›é¢˜ç›® ç›´æ¥æå®š 1 1078.Bigram åˆ†è¯ ç»™å‡ºç¬¬ä¸€ä¸ªè¯ first å’Œç¬¬äºŒä¸ªè¯ secondï¼Œè€ƒè™‘åœ¨æŸäº›æ–‡æœ¬ text ä¸­å¯èƒ½ä»¥ â€œfirst second thirdâ€ å½¢å¼å‡ºç°çš„æƒ…å†µï¼Œå…¶ä¸­ second ç´§éš first å‡ºç°ï¼Œthird ç´§éš second å‡ºç°ã€‚ å¯¹äºæ¯ç§è¿™æ ·çš„æƒ…å†µï¼Œå°†ç¬¬ä¸‰ä¸ªè¯ â€œthirdâ€ æ·»åŠ åˆ°ç­”æ¡ˆä¸­ï¼Œå¹¶è¿”å›ç­”æ¡ˆã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼štext = â€œalice is a good girl she is a good studentâ€, first = â€œaâ€, second = â€œgoodâ€è¾“å‡ºï¼š[â€œgirlâ€,â€studentâ€]ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼štext = â€œwe will we will rock youâ€, first = â€œweâ€, second = â€œwillâ€è¾“å‡ºï¼š[â€œweâ€,â€rockâ€] æç¤ºï¼š 1 &lt;= text.length &lt;= 1000text ç”±ä¸€äº›ç”¨ç©ºæ ¼åˆ†éš”çš„å•è¯ç»„æˆï¼Œæ¯ä¸ªå•è¯éƒ½ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ1 &lt;= first.length, second.length &lt;= 10first å’Œ second ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ æ¥æºï¼š leetcode 1078 12345678910111213class Solution: def findOcurrences(self, text: str, first: str, second: str) -&gt; List[str]: ans = [] split_str = text.split() length = len(split_str) for k, s in enumerate(split_str): if s == first and k + 1 &lt; length and k + 2 &lt; length: if split_str[k + 1] == second: ans.append(split_str[k + 2]) return ans æš´åŠ›å®Œäº‹å„¿ï¼Œè¿™é‡Œé¡ºä¾¿ä¼˜åŒ–ä¸€ä¸‹ï¼Œå¯ä»¥æŠŠ60msæåˆ°40mså·¦å³ 123456789101112class Solution: def findOcurrences(self, text: str, first: str, second: str) -&gt; List[str]: ans = [] split_str = text.split() length = len(split_str) for k, s in enumerate(split_str[:-2]): if s == first and split_str[k + 1] == second: ans.append(split_str[k + 2]) return ans æå®š 2 120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚ ä¾‹å¦‚ï¼Œç»™å®šä¸‰è§’å½¢ï¼š [ [2], [3,4], [6,5,7], [4,1,8,3]]è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º 11ï¼ˆå³ï¼Œ2 + 3 + 5 + 1 = 11ï¼‰ã€‚ è¯´æ˜ï¼š å¦‚æœä½ å¯ä»¥åªä½¿ç”¨ O(n) çš„é¢å¤–ç©ºé—´ï¼ˆn ä¸ºä¸‰è§’å½¢çš„æ€»è¡Œæ•°ï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä½ çš„ç®—æ³•ä¼šå¾ˆåŠ åˆ†ã€‚ æ¥æºï¼š leetcode 120 dp è¯´æ˜¯ç©ºé—´å¤æ‚åº¦O(N)ï¼Œä½†å…¶å®è¿™ä¸ªé¢˜ç›®ç©ºé—´å¤æ‚åº¦å¯ä»¥åˆ°O(1) å…ˆå°è¯•ç”¨DFS 1234567891011121314151617181920class Solution: def minimumTotal(self, triangle: List[List[int]]) -&gt; int: # DFS floors = len(triangle) def dfs(floor, left, right): # åˆ¤æ–­æ˜¯å¦æœ€ä¸‹å±‚ä¹Ÿè®¡ç®—è¿‡äº† if floor == floors: return 0 # æœ€ä½ç«¯å†å¾€ä¸‹æƒé‡å°±æ˜¯0 ans = 0 # åˆå§‹ä¸º0 if left &lt; floor + 1: tl = dfs(floor + 1, left, left + 1) + triangle[floor][left] if right &lt; floor + 1: tr = dfs(floor + 1, right, right + 1) + triangle[floor][right] return ans + min(tl, tr) return dfs(1, 0, 1) + triangle[0][0] ç»“æœæœç„¶åä¸½ä¸½çš„è¶…æ—¶äº†ï¼Œæ‰“çœ¼ä¸€çœ‹è¿‡äº†42ä¸ªï¼Œå¡åœ¨äº†æœ€åä¸€ä¸ªï¼Œå¯èƒ½æ”¹æ”¹å°±èƒ½è¿‡äº†å§(å¯èƒ½æ€§æ¯”è¾ƒå°ï¼Œå› ä¸ºç”¨C++è¯•äº†ä¸‹ä¹Ÿè¶…æ—¶ï¼Œåº”è¯¥æ˜¯å¡çš„æ—¶é—´)ï¼Œä¸è¿‡ä¹Ÿæ˜¯å¾ˆæé™äº†ï¼Œæ‰€ä»¥æ”¹ç”¨dpå†™ã€‚ 1234567891011class Solution: def minimumTotal(self, triangle: List[List[int]]) -&gt; int: # dp floors = len(triangle) if floors == 0: return 0 for i in range(floors - 2, -1, -1): for j in range(i + 1): triangle[i][j] += min(triangle[i + 1][j + 1], triangle[i + 1][j]) return triangle[0][0] è¿™é‡Œå¯ä»¥ä¸ç”¨å¼€æ–°çš„dpæ•°ç»„(æ— è®ºæ˜¯äºŒç»´è¿˜æ˜¯ä¸€ç»´)ï¼Œå› ä¸ºæ˜¯ä»ä¸‹å¾€ä¸Šçš„ï¼Œåªéœ€è¦æœ€ç»ˆç»“æœï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åˆ©ç”¨åŸä¸‰è§’å½¢æ•°ç»„å½“ä½œdpæ•°ç»„ï¼Œæ‰€ä»¥ç©ºé—´å°±å˜æˆäº†O(1)äº†ã€‚ ä¸è¿‡è¿™ä¸ªæ‰åªæ‰“è´¥äº†50%çš„äººï¼Œç”šè‡³ç©ºé—´åªæ‰“è´¥äº†5% 3 ä¸‹é¢è¿™ä¸ªæ˜¯æœ€å¿«ç”¨æ—¶çš„ç­”æ¡ˆï¼š 123456789class Solution: def minimumTotal(self, triangle: List[List[int]]) -&gt; int: if not triangle: return res = triangle[-1] for i in range(len(triangle) - 2, -1, -1): for j in range(len(triangle[i])): res[j] = min(res[j], res[j + 1]) + triangle[i][j] return res[0] ä»ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼š å…¶å®å®šä¹‰è¿‡å¤šå˜é‡ä¼šå‡ç¼“é€Ÿåº¦å¹¶ä¸”å¢åŠ ç©ºé—´ç”¨é‡ï¼Œç¼–è¯‘å™¨ä¼šç»™ä¼˜åŒ–çš„ã€‚ å°½é‡ç”¨ä¸€ç»´listç´¢å¼•ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤š å°½é‡ä½¿ç”¨ç›¸åŒçš„listè¿›è¡Œç´¢å¼•ï¼Œç¼–è¯‘å™¨ä¼šä¼˜åŒ– 872. å¶å­ç›¸ä¼¼çš„æ ‘ è¯·è€ƒè™‘ä¸€é¢—äºŒå‰æ ‘ä¸Šæ‰€æœ‰çš„å¶å­ï¼Œè¿™äº›å¶å­çš„å€¼æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ’åˆ—å½¢æˆä¸€ä¸ª å¶å€¼åºåˆ— ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç»™å®šä¸€é¢—å¶å€¼åºåˆ—ä¸º (6, 7, 4, 9, 8) çš„æ ‘ã€‚ å¦‚æœæœ‰ä¸¤é¢—äºŒå‰æ ‘çš„å¶å€¼åºåˆ—æ˜¯ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬æ˜¯ å¶ç›¸ä¼¼ çš„ã€‚ å¦‚æœç»™å®šçš„ä¸¤ä¸ªå¤´ç»“ç‚¹åˆ†åˆ«ä¸º root1 å’Œ root2 çš„æ ‘æ˜¯å¶ç›¸ä¼¼çš„ï¼Œåˆ™è¿”å› trueï¼›å¦åˆ™è¿”å› false ã€‚ æç¤ºï¼š ç»™å®šçš„ä¸¤é¢—æ ‘å¯èƒ½ä¼šæœ‰ 1 åˆ° 100 ä¸ªç»“ç‚¹ã€‚ æ¥æºï¼š leetcode 872 treepic ç›´æ¥å‰åºéå†åŠ åˆ¤æ–­ï¼Œæš´åŠ›å°±å®Œäº‹å„¿ 1234567891011121314151617181920212223# Definition for a binary tree node.class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = Noneclass Solution: def leafSimilar(self, root1: TreeNode, root2: TreeNode) -&gt; bool: # å‰åºéå† def tree_leaf_sim_calcu(root: TreeNode): stack, ans = [], [] # ç”¨list while len(stack) or root: if root: if root.left is root.right is None: ans.append(root.val) stack.append(root) root = root.left else: root = stack.pop().right return ans return tree_leaf_sim_calcu(root1) == tree_leaf_sim_calcu(root2) ä½†å…¶å®è¿™æ ·åªå‡»è´¥äº†44%çš„ç”¨æˆ·ï¼Œçœ‹äº†ä¸€ä¸‹ç”¨æ—¶å¿«çš„å›ç­”ï¼Œå‘ç°åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨çš„é€’å½’ï¼Œé€’å½’å ç”¨èµ„æºå¤ªå¤§ï¼Œæ‰€ä»¥å°±ä¸æ”¹äº†ï¼Œæ€æƒ³éƒ½æ˜¯ä¸€æ ·çš„ã€‚ 4 ä¸ºä»€ä¹ˆé€’å½’ç”¨æ—¶ä¼šçŸ­å‘¢ï¼Œè¿™æ˜¯å› ä¸ºpythoné‡Œçš„whileå¾ªç¯æ˜¯ç”¨çº¯pythonç¼–å†™çš„ï¼Œæ‰€ä»¥æ•ˆç‡è¿œä¸åŠç®€å•å‡½æ•°å †æ ˆçš„æ•ˆç‡ï¼Œæ‰€ä»¥ä¼šå‡ºç°éé€’å½’æ¯”é€’å½’ç”¨æ—¶é•¿çš„ç°è±¡ï¼Œå¦‚æœç”¨åˆ«çš„è¯­è¨€(æ²¡é”™å°±æ˜¯C++)æ˜¯ä¸ä¼šå‡ºç°è¿™ç§é—®é¢˜çš„ï¼ 863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ˆå…·æœ‰æ ¹ç»“ç‚¹ rootï¼‰ï¼Œ ä¸€ä¸ªç›®æ ‡ç»“ç‚¹ target ï¼Œå’Œä¸€ä¸ªæ•´æ•°å€¼ K ã€‚ è¿”å›åˆ°ç›®æ ‡ç»“ç‚¹ target è·ç¦»ä¸º K çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„åˆ—è¡¨ã€‚ ç­”æ¡ˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šroot = [3,5,1,6,2,0,8,null,null,7,4], target = 5, K = 2 è¾“å‡ºï¼š[7,4,1] è§£é‡Šï¼šæ‰€æ±‚ç»“ç‚¹ä¸ºä¸ç›®æ ‡ç»“ç‚¹ï¼ˆå€¼ä¸º 5ï¼‰è·ç¦»ä¸º 2 çš„ç»“ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º 7ï¼Œ4ï¼Œä»¥åŠ 1 æ³¨æ„ï¼Œè¾“å…¥çš„ â€œrootâ€ å’Œ â€œtargetâ€ å®é™…ä¸Šæ˜¯æ ‘ä¸Šçš„ç»“ç‚¹ã€‚ä¸Šé¢çš„è¾“å…¥ä»…ä»…æ˜¯å¯¹è¿™äº›å¯¹è±¡è¿›è¡Œäº†åºåˆ—åŒ–æè¿°ã€‚ æç¤ºï¼š ç»™å®šçš„æ ‘æ˜¯éç©ºçš„ï¼Œä¸”æœ€å¤šæœ‰ K ä¸ªç»“ç‚¹ã€‚æ ‘ä¸Šçš„æ¯ä¸ªç»“ç‚¹éƒ½å…·æœ‰å”¯ä¸€çš„å€¼ 0 &lt;= node.val &lt;= 500 ã€‚ç›®æ ‡ç»“ç‚¹ target æ˜¯æ ‘ä¸Šçš„ç»“ç‚¹ã€‚0 &lt;= K &lt;= 1000. æ¥æºï¼š leetcode 863 dfsåŠ çˆ¶èŠ‚ç‚¹è½¬æˆå›¾é—®é¢˜å†åˆ©ç”¨bfså¯»æ‰¾targetä¸ºä¸­å¿ƒçš„èŠ‚ç‚¹ã€‚è¿™é‡Œä»£ç å‚è€ƒäº†æ ‡å‡†ç­”æ¡ˆï¼Œæƒ³çœ‹çš„å»é¢˜è§£çœ‹ç¬¬ä¸€ä¸ªå°±okäº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839class Solution: def distanceK(self, root, target, K): \"\"\" :type root: TreeNode :type target: TreeNode :type K: int :rtype: List[int] \"\"\" from collections import deque # åˆ¤æ–­æ˜¯å¦æ˜¯æœ¬èº« if not K: return [target.val] # dfsæ ‡è®°çˆ¶èŠ‚ç‚¹ def dfs(node: TreeNode, father_node: TreeNode): if node: node.father = father_node dfs(node.left, node) dfs(node.right, node) dfs(root, None) # è¿™ä¸€æ­¥è¿‡åå…¶å®å°±å˜æˆäº†å›¾é—®é¢˜ï¼Œæ¯ä¸ªéƒ½æœ‰ä¸‰ä¸ªèŠ‚ç‚¹çš„å›¾ # ä¸‹é¢å¯¹äºtargetè¿›è¡Œbfs def bfs(): search = &#123;target&#125; queue = deque([(target, 0)]) # å­˜0 å³åŸç‚¹ while queue: if queue[0][1] == K: return [node.val for node, N in queue] node, N = queue.popleft() for n in (node.left, node.right, node.father): if n and n not in search: queue.append((n, N + 1)) search.add(n) return [] return bfs() çœ‹äº†ä¸€ä¸‹é€Ÿåº¦æœ€å¿«çš„å›ç­”ï¼Œä¹Ÿæ˜¯dfså»ºå›¾+bfsæœç´¢ï¼Œé™¤äº†ä¸€äº›éªšæ“ä½œï¼Œåº”è¯¥å¤§éƒ¨åˆ†éƒ½æ˜¯ä¼˜åŒ–è¿™ä¸ªæ€è·¯çš„ä»£ç å®ç°ã€‚ 5","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"algorithm","slug":"algorithm","permalink":"http://blog.fivezha.cn/tags/algorithm/"},{"name":"python","slug":"python","permalink":"http://blog.fivezha.cn/tags/python/"}]},{"title":"playframeworkåˆæ¶‰-1.ç¯å¢ƒé…ç½®","date":"2019-09-04T09:24:50.000Z","path":"2019/09/04/play-study-f/","text":"å› ä¸ºJavaeeè¯¾è¦ç”¨è¿™ä¸ªæ¡†æ¶ æ‰€ä»¥ç¨å¾®å­¦äº†ä¸‹ 1.è¿è¡Œç¯å¢ƒé…ç½®1.1ç¡®ä¿æ‹¥æœ‰Javaç¯å¢ƒæ£€æŸ¥ç¯å¢ƒï¼š å¯èƒ½ä¹‹å‰æœ‰äººé…ç½®è¿‡Javaç¯å¢ƒï¼Œæ‰€ä»¥é¦–å…ˆå…ˆåˆ¤æ–­ä½ æ˜¯å¦æœ‰å®‰è£…è¿‡Javaï¼ŒæŒ‰ä¸‹win + Ré”®ï¼Œå‡ºç°è¿è¡Œç•Œé¢ run è¾“å…¥cmdä¼šå‡ºç°ç†Ÿæ‚‰çš„å‘½ä»¤æç¤ºæ¡†ï¼Œæ­¤æ—¶è¾“å…¥Javaç„¶åæŒ‰å›è½¦å¦‚æœæ˜¾ç¤ºä¸‹é¢ç±»ä¼¼çš„ä¾¿å¯ä»¥è·³è¿‡åˆ°1.2å» cmd å¦‚æœæ˜¯ä¸‹å›¾æƒ…å†µ wrong_env è¯·é…ç½®ç¯å¢ƒï¼š å®‰è£…Java(è¯·çœ‹ç¾¤æ–‡ä»¶javaeeæ–‡ä»¶å¤¹æˆ–è€…è‡ªå·±å»å®˜ç½‘ä¸‹è½½) åœ¨æ­¤ç”µè„‘å³é”®ç‚¹å±æ€§ env1](env1.png)![env1 åŒå‡»ç‚¹è¿›å»ï¼Œå¦‚ä¸‹é…ç½® env3 ä¸€è·¯ç‚¹ç¡®å®šä¸‹å»ï¼Œæœ€åå†é‡å¤æœ€ä¸Šé¢çš„æ£€æŸ¥ç¯å¢ƒæ“ä½œè¿›è¡Œåˆ¤æ–­ã€‚ 1.2 é…ç½®play frameworkç¯å¢ƒè¿™é‡Œé€‰å–çš„æ˜¯1.5.1ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨å®˜ç½‘æˆ–è€…ç¾¤æ–‡ä»¶ä¸­ä¸‹è½½ï¼Œç„¶åæ‰¾åˆ°ä½ çš„play-1.5.1çš„ä¸‹è½½çš„æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œè§£å‹ç¼©åæŠŠplay-1.5.1æ–‡ä»¶å¤¹æ”¾åˆ°ç¯å¢ƒå˜é‡é‡Œ env_4 æ­¤æ—¶åœ¨å‘½ä»¤æ¡†ä¸­è¾“å…¥playåˆ™ä¼šå‡ºç°å¦‚ä¸‹ play_env2 åˆ™è¯´æ˜ç¯å¢ƒå·²ç»é…ç½®å¥½äº† 1.3 æ–°å»ºwebé¡¹ç›®è¿™é‡Œåªéœ€è¦åˆ°ä½ æƒ³è¦åˆ›å»ºé¡¹ç›®çš„æ–‡ä»¶å¤¹ä¸­ï¼ŒæŒ‰ä½shift + å³é”® rc ç„¶åè¾“å…¥play new é¡¹ç›®å new ç„¶åè¾“å…¥cd é¡¹ç›®åï¼Œåœ¨è¾“å…¥play idealize(ç”¨eclipseçš„è¯å°±æ˜¯play eclipsify) succ 2. IDEç¯å¢ƒé…ç½®é…ç½®å¥½äº†è¿è¡Œç¯å¢ƒï¼Œé‚£ä¹ˆå°±åº”è¯¥å¼€å§‹é…ç½®æˆ‘ä»¬ä½¿ç”¨çš„IDEç¯å¢ƒäº†ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªé€‰æ‹© IDEA eclipse è¿™è¿™ä¸¤ä¸ªideä¸ªäººæ¨èä½¿ç”¨IDEAï¼Œä½†æ˜¯eclipseé…ç½®ç®€å•ï¼Œè¿™ä¸ªåªèƒ½è¯´æ˜¯è§ä»è§æ™ºäº†ã€‚ 2.1 é…ç½®IDEAæ‰¾åˆ°ideaå®‰è£…æ–‡ä»¶(å®˜ç½‘æˆ–è€…QQç¾¤é‡Œæœ‰)ï¼Œå®‰è£…ä¸€ç›´nextåˆ°æœ€åï¼Œå‡ºç°é€‰é¡¹é€‰ä¸‹é¢è¿™å‡ ä¸ª ch1 ç„¶åé¦–æ¬¡å¯åŠ¨IDEAè·Ÿç€ä¸‹é¢çš„é…ç½®æ¥å°±å¯ä»¥ï¼Œ ch2 ch2 è¿™é‡Œæ˜¯é€‰æ‹©ä½ çš„é¢œè‰²ä¸»é¢˜ ä½ å¯ä»¥é€‰æ‹©æš—è‰²æˆ–è€…äº®è‰² ch2 ch2 ch2 2.2 é¡¹ç›®é…ç½®æµç¨‹è¿™é‡Œå¦‚æœä½ æŒ‰ç…§ä¸Šé¢çš„æ“ä½œè¿›è¡Œäº†play idealizeæ“ä½œä¹‹åï¼Œä½ é¡¹ç›®çš„æ–‡ä»¶å¤¹é‡Œé¢åº”è¯¥ä¼šå‡ºç°ä¸€ä¸ªé¡¹ç›®å.iprçš„æ–‡ä»¶ï¼ŒåŒå‡»æ‰“å¼€ä¾¿å¯ä»¥ç›´æ¥æ‰“å¼€ideaå¹¶åŠ è½½é¡¹ç›®äº†ã€‚ é¦–å…ˆå…ˆæŠŠä¸‹é¢çš„tipså…³æ‰(å› ä¸ºå¤ªçƒ¦äººäº†) ch2 ç‚¹å¼€ï¼Œå·¦é¢çš„projectå‡ºç°æ–‡ä»¶ç»“æ„ï¼Œå¦‚æœä¸ä¸€æ ·è¯·å¯»æ‰¾æ˜¯å¦æœ‰æ¼æ‰çš„æ­¥éª¤ï¼Œç„¶åæ‰“å¼€controllers/Application.javaå¯èƒ½ä¼šæç¤ºä½ å¡«SDKï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªjdkå°±å¯ä»¥äº† ch2 ch2 ç„¶åæˆ‘ä»¬ä¼šå‘ç°å› ä¸ºdocviewerå¯¼åŒ…é—®é¢˜ä¼šæœ‰ä¸€å †éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥åˆ äº†å°±å¯ä»¥ã€‚ delete ç„¶åæˆ‘ä»¬é…ç½®å¯åŠ¨ç¨‹åº add add2 å…¶ä¸­VM optionsæ˜¯-Dapplication.path=. run3 ç„¶åæˆ‘ä»¬å¼€å§‹è¿è¡Œï¼Œå¦‚æœå‡ºç°modelsä¸å­˜åœ¨çš„bugï¼Œè¿™ä¸ªæ˜¯å› ä¸ºä½ modelsæ–‡ä»¶å¤¹é‡Œé¢æ²¡æœ‰å­˜åœ¨æ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªå°±å¯ä»¥äº†ã€‚ file ç„¶åå°±å¯ä»¥è¿è¡Œäº†ï¼Œå½“ä½ çœ‹åˆ° çš„æ—¶å€™æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥http://localhost:9000/å›è½¦ å¦‚æœçœ‹è§ä¸‹é¢è¿™ä¸ªå°±è¯´æ˜é…ç½®æˆåŠŸäº† succ","categories":[{"name":"assignment","slug":"assignment","permalink":"http://blog.fivezha.cn/categories/assignment/"}],"tags":[{"name":"play","slug":"play","permalink":"http://blog.fivezha.cn/tags/play/"},{"name":"java","slug":"java","permalink":"http://blog.fivezha.cn/tags/java/"}]},{"title":"opencvä¸­é«˜æ–¯æ¨¡ç³Š(æ»¤æ³¢å™¨)çš„æºç è§£æ(c++ç‰ˆ)","date":"2019-02-25T11:40:25.000Z","path":"2019/02/25/gaussianbulr-analyze/","text":"å› ä¸ºå®éªŒå®¤å‡æœŸéœ€è¦å†™ä¸€ç¯‡å…³äºopencvçš„ä½œä¸š æ‰€ä»¥é¡ºä¾¿çœ‹äº†ä¸€ä¸‹opencv(ç‰ˆæœ¬3.2.0)é‡Œé¢å…³äºé«˜æ–¯æ¨¡ç³Šçš„æºç  åˆ†æå‡½æ•°æ¥å£é¦–å…ˆï¼Œåœ¨ä¸‹ç”¨çš„æ˜¯vsç‰ˆæœ¬çš„opencvï¼Œæ˜¯ç›´æ¥ç¼–è¯‘å¥½ç»™ä½ é™æ€åº“(.lib)æ–‡ä»¶çš„ï¼Œæ‰€ä»¥å½“æˆ‘æŒ‰ä½ctrlå¯»æ‰¾GaussianBlurè¿™ä¸ªå‡½æ•°æ—¶ åªå‘ç°äº†å…¶åœ¨imgproc.hppé‡Œé¢æä¾›ç»™ä½ çš„æ¥å£ã€‚ å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„: é«˜æ–¯æ¨¡ç³Šå‡½æ•°æ¥å£1 é«˜æ–¯æ¨¡ç³Šå‡½æ•°æ¥å£2 è¯¥å‡½æ•°å°†æºå›¾åƒä¸æŒ‡å®šçš„å·ç§¯æ ¸è¿›è¡Œå·ç§¯ã€‚å¹¶ä¸”æ”¯æŒåŸå›¾åƒç›´æ¥è¿›è¡Œæ»¤æ³¢æ“ä½œã€‚ å¯ä»¥çœ‹åˆ°è¿™ä¸ªå‡½æ•°æ¥å£ä¸»è¦ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆ: CV_EXPORTS_Wç»§ç»­å¾€ä¸Šæ‰¾ å¯ä»¥å‘ç°è¿™æ˜¯ä¸€ä¸ªå®å®šä¹‰ å¯ä»¥å‘ç° è¿™ä¸ªå®å®šä¹‰æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå°†CV_EXPORTSæ›¿æ¢ä¸ºäº†CV_EXPORTS_Wå†å‘ä¸ŠæŸ¥æ‰¾ ä¼šå‘ç° è¿™é‡Œåˆæ˜¯ä¸€ä¸ªå®ç»„æˆçš„ç”¨ä»¥å®šä¹‰CV_EXPORTSçš„å®ç»„ï¼Œè¿™ä¸€æ®µå…¶å®å°±æ˜¯ç±»ä¼¼äºif elseçš„ç»“æ„ï¼Œä¸»è¦çš„ä½œç”¨æœºç†ä¾¿æ˜¯é€‚é…å„ç±»ç¯å¢ƒ(æ“ä½œç³»ç»Ÿ) ã€‚ä»ä¸­ï¼Œæˆ‘ä»¬è¿™é‡Œåˆåˆ†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†è¿›è¡Œè§£æ: #if (defined WIN32 || defined _WIN32 || defined WINCE || defined __CYGWIN__) &amp;&amp; defined CVAPI_EXPORTSå¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œåˆ¤æ–­äº†ä¸¤ä¸ªè¡¨è¾¾å¼çš„é€»è¾‘ä¸((defined WIN32 || defined _WIN32 || defined WINCE || defined __CYGWIN__)å’Œdefined CVAPI_EXPORTS) é¦–å…ˆï¼Œdefinedçš„æ„ä¹‰åœ¨äºå¯»æ‰¾åé¢çš„å­—æ®µæ˜¯å¦å·²ç»è¢«å®å®šä¹‰è¿‡ã€‚ å…¶æ¬¡ï¼Œè§‚å¯Ÿç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå‘ç°_WIN32 åœ¨ä¹‹å‰å·²ç»è¢«å®šä¹‰è¿‡äº†ï¼Œé€šè¿‡æŸ¥é˜…å¾®è½¯å®˜æ–¹å®å®šä¹‰æ–‡æ¡£å‘ç°è¿™ä¸ªå­—æ®µä½œç”¨æ˜¯åŸºäºç¼–è¯‘å™¨ä¸€ä¸ªä¿¡å·ï¼Œè¡¨æ˜æ˜¯Windowsç¯å¢ƒä¸‹ç¼–è¯‘åŠè¿è¡Œçš„ç¨‹åºã€‚ å†æŸ¥æ‰¾å‰åæœªå®šä¹‰è¿‡çš„å­—æ®µï¼Œç»§è€Œå‘ç°WIN32æ˜¯åªè¦åŒ…å«äº† Windows.hï¼Œé‚£ä¹ˆ WIN32 å¸¸é‡æ˜¯è‚¯å®šå®šä¹‰äº†çš„è®¾å®šï¼Œä¸èƒ½ç”¨äºåˆ¤æ–­å¹³å°ç¯å¢ƒã€‚è€ŒWINCEä¾¿æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºWINCEç¯å¢ƒçš„ç¨‹åº__CYGWIN__å¦‚æœäº‹å…ˆæœ‰äº†è§£è¿‡cygwinè¿™ä¸ªç¨‹åºçš„è¯ï¼Œè¿™ä¸ªåº”è¯¥ä¸éš¾çœ‹æ‡‚ï¼Œä¹Ÿæ˜¯ç”¨ä»¥åˆ¤æ–­ç¯å¢ƒçš„å®šä¹‰ï¼Œè€Œcywinåˆ™æ˜¯åœ¨Windowsç¯å¢ƒä¸‹ç”¨ä»¥æ¨¡æ‹ŸUnixç¯å¢ƒçš„è½¯ä»¶(P.S.è¿˜æ˜¯è›®å¥½ç”¨çš„) å†æ¬¡ï¼Œè§‚å¯Ÿç¬¬äºŒä¸ªè¡¨è¾¾å¼ï¼Œä¹Ÿæ˜¯æŸ¥æ‰¾å­—æ®µæ˜¯å¦å®šä¹‰è¿‡ï¼Œè¿™ä¸ªæŸ¥äº†ä¸€ä¸‹ï¼Œå‘ç°è¿™ä¸ªå®å®šä¹‰æ˜¯å­˜åœ¨äºopencv.dllè¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„ã€‚ä¹Ÿå°±æ˜¯åˆ¤æ–­æ˜¯å¦å·²ç»é“¾æ¥äº†åŠ¨æ€åº“ã€‚ è¿™æ ·è¿™ä¸€è¡Œä¾¿å¾ˆå®¹æ˜“æ‡‚äº†ï¼Œç›®çš„ä¾¿æ˜¯åˆ¤æ–­ç¨‹åºç¯å¢ƒæ˜¯å¦ä¸ºWindowsä¸”å·²ç»é“¾æ¥opencv.dllçš„åº“ç”¨ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ å†æä¸€å¥ï¼Œå…³äºè¿™ä¸ªæ“ä½œç³»ç»Ÿ(ç¯å¢ƒ)çš„åˆ¤å®šå…¶å®è¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œæ”¾ä¸€ä¸ªQté‡Œé¢å…³äºç³»ç»Ÿåˆ¤å®šçš„å¤´æ–‡ä»¶(147è¡Œå¼€å§‹)(ç‰ˆæœ¬æ¯”è¾ƒè€äº† å¯è‡ªè¡Œå†è‡ªå·±qté‡ŒæŸ¥çœ‹) # define CV_EXPORTS __declspec(dllexport)è¿™ä¸€å¥æ¶‰åŠåˆ°çš„ä¸»è¦æ˜¯dllå‡½æ•°å¯¼å…¥ï¼Œéœ€è¦å’Œä¸‹é¢æœ€åä¸‰è¡Œè”åˆèµ·æ¥çœ‹#define CV_EXPORTSç¬¬äºŒè¡Œéœ€è¦è”åˆä¸Šé¢è¿™å¥ä¸€åŒåˆ†æï¼Œé¦–å…ˆï¼Œè¿™ä¸ªå¤´æ–‡ä»¶å†…éƒ¨å†™çš„éƒ½æ˜¯æ¥å£ï¼Œéƒ½æ˜¯ä½œè€…è‡ªå·±ç¼–å†™ç•™ç»™åˆ«äººç”¨ä»¥è°ƒç”¨çš„ï¼Œå¹¶ä¸”ä»ç¬¬ä¸€ç‚¹åˆ†æçš„ç»“æœæ¥çœ‹ï¼Œè¿™äº›æ¥å£çš„å®ç°éƒ½æ˜¯æ”¾åœ¨opencv.dllæ–‡ä»¶ä¸­çš„ï¼Œè€Œç¬¬ä¸€è¡Œçš„åˆ¤æ–­ä¾¿æ˜¯åˆ¤æ–­ä½ æ˜¯å¦åœ¨æœ€éœ€è¦éšå¼è°ƒç”¨ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆç›´æ¥å¯ä»¥åˆ©ç”¨éšå¼è°ƒç”¨çš„æ–¹æ³•è¿›è¡Œå‡½æ•°å¯¼å‡º(å…·ä½“__declspecä¹Ÿæœ‰åœ¨å¾®è½¯æ–‡æ¡£é‡Œå†™)åä¹‹ï¼Œå¦‚æœåˆ¤æ–­äº‹å…ˆæœªè¿›è¡Œé“¾æ¥ï¼Œé‚£ä¹ˆä½¿ç”¨çš„æ—¶å€™å¿…ç„¶æ˜¯æ˜¾å¼è°ƒç”¨(æ²¡é”™ï¼Œå°±æ˜¯é…ç½®ç¯å¢ƒçš„æ—¶å€™é…ç½®çš„libæ–‡ä»¶é“¾æ¥ï¼Œé‚£å°±æ˜¯æ˜¾å¼è°ƒç”¨äº†å‚è€ƒæ­¤ç¯‡æ–‡ç« )ï¼Œæ—¢ç„¶æ˜¯æ˜¾å¼è°ƒç”¨ï¼Œè‡ªç„¶ä¾¿ä¸éœ€è¦è¿›è¡Œå‡½æ•°å¯¼å‡ºæ“ä½œã€‚æ‰€ä»¥å°†CV_EXPORTSå­—æ®µè®¾ç½®ä¸ºç©ºã€‚ elif defined __GNUC__ &amp;&amp; __GNUC__ &gt;= 4define CV_EXPORTS __attribute__((visibility(&quot;default&quot;)))è¿™ä¸¤å¥æ¶‰åŠçš„ä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½: 1. åˆ¤æ–­æ˜¯å¦ä¸ºGCCç¼–è¯‘ç¯å¢ƒ 2. ä¸ºå…¨å±€åŠ¨æ€åº“å‡½æ•°è®¾ç½®ééšè—å£°æ˜å¯¹äºç¬¬ä¸€ç‚¹ï¼Œç±»ä¼¼äºåˆ†æç¬¬ä¸€æ¡ï¼Œå¯ä»¥çŸ¥é“è¿™å¥çš„æ„æ€ä¾¿æ˜¯æ£€æŸ¥gccå¹¶æµ‹è¯•æ˜¯å¦é«˜äº4.0.0ç‰ˆæœ¬(çŒœæµ‹ä¸c++æ ‡å‡†æœ‰å…³) voidå‡½æ•°è¿”å›å€¼ï¼Œè¿™é‡Œè¿”å›å€¼ä¸ºç©º GaussianBlurå‡½æ•°åï¼Œè¿™é‡Œå› ä¸ºæ˜¯å£°æ˜æ‰€ä»¥æ˜¯è·Ÿæºç çš„å‡½æ•°ä¸€æ ·ï¼Œå¯ä»¥å¾ˆå¿«æ‰¾åˆ°æºç å®šä¹‰ã€‚ ()æ‹¬å·é‡Œé¢çš„æ˜¯å‡½æ•°å‚æ•°æ ¹æ®ä¸Šé¢çš„è¯´æ˜æ³¨é‡Šï¼Œä¾¿å¯è§£è¯»å‡ºè¿™ä¸ªå‡½æ•°æ‰€æœ‰å‚æ•°æ„ä¹‰: src è¿™æ˜¯è¾“å…¥å›¾åƒï¼Œè¿™ä¸ªå›¾åƒå¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„é€šé“ï¼Œè¿™äº›é€šé“æ˜¯ç‹¬ç«‹å¤„ç†çš„ï¼Œä½†æ·±åº¦åº”è¯¥æ˜¯CV_8Uï¼ŒCV_16Uï¼ŒCV_16Sï¼ŒCV_32Fæˆ–CV_64Fã€‚ dst è¿™æ˜¯è¾“å‡ºå›¾åƒï¼Œå¤§å°ä¸ç±»å‹ä¸srcç›¸åŒã€‚ ksize è¿™æ˜¯å·ç§¯æ ¸çš„å¤§å°å‚æ•°(æ˜¯æ•°å­—desu)ã€‚å…¶ä¸­ksize.widthå’Œksize.heightå¯ä»¥ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬å¿…é¡»æ˜¯ä¸€ä¸ªæ­£å¥‡æ•°(æˆ–è€…é›¶)ï¼Œå¹¶ä¸”æ‚¨ä¸ç”¨æ‹…å¿ƒå·ç§¯æ ¸å†…éƒ¨å‚æ•°é—®é¢˜ï¼Œå·ç§¯æ ¸ä¼šæ ¹æ®sigmaæ¥è®¡ç®—ã€‚ sigmaX Xæ–¹å‘çš„å·ç§¯æ ¸æ ‡å‡†åå·®ã€‚ sigmaY Yæ–¹å‘çš„é«˜æ–¯æ ¸æ ‡å‡†åå·®; å¦‚æœsigmaYä¸ºé›¶ï¼Œåˆ™è®¾ç½®ä¸ºç­‰äºsigmaXï¼Œå¦‚æœä¸¤ä¸ªsigmaéƒ½æ˜¯é›¶ï¼Œåˆ™å®ƒä»¬æ˜¯ä»ksize.widthå’Œksize.heightè®¡ç®—çš„ï¼ˆè¯¦è§cv :: getGaussianKernelï¼‰; è¿™äº›è¯­ä¹‰æœªæ¥å‡æœ‰å¯èƒ½ä¿®æ”¹ï¼Œå»ºè®®æŒ‡å®šæ‰€æœ‰ksizeï¼ŒsigmaXå’ŒsigmaYã€‚ borderType åƒç´ å¤–æ¨æ¨¡å¼ï¼Œè¯·å‚é˜…cv :: BorderTypes sepFilter2D, filter2D, blur, boxFilter, bilateralFilter, medianBlurã€‚è¿™é‡Œæ˜¾ç¤ºäº†å‡½æ•°çš„ç›¸å…³å‡½æ•°ï¼Œæ˜¯è§‚å¯Ÿæºç çš„é‡è¦æç¤º è¿™æ ·ï¼Œå¯¹äºå‡½æ•°æ¥å£çš„è§£æå°±ç®—æ˜¯å®Œæˆäº†ï¼Œä»ä¸­æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹å‡ ä¸ªç»“è®ºï¼š ç›´æ¥ctrlå¯»æ‰¾åˆ°åº•æ˜¯ä¸èƒ½æ‰¾åˆ°åŸå‡½æ•°ä»£ç çš„ã€‚ æ‰¾åˆ°åŸå‡½æ•°çš„åŒæ—¶ä¹Ÿéœ€è¦sepFilter2D, filter2D, blur, boxFilter, bilateralFilter, medianBlurè¿™ä¸€äº›åˆ—å‡½æ•°è¾…åŠ©ç†è§£ã€‚ è¿™ä¸ªå‡½æ•°åœ¨cvå‘½åç©ºé—´ä¸­ï¼Œåç§°åº”è¯¥ä¸ºcv::GaussianBlur ã€‚ æ‰€ä»¥æ¥ä¸‹æ¥ç¬¬ä¸€æ­¥ä¾¿æ˜¯éœ€è¦åœ¨æºç ä¸­å¯»æ‰¾åˆ°çœŸæ­£çš„å‡½æ•°å®ç°ã€‚ æºç è§£æç†è§£é«˜æ–¯æ¨¡ç³Šå‡½æ•°é«˜æ–¯æ¨¡ç³Šå‡½æ•°æœ¬è´¨æ˜¯åˆ©ç”¨é«˜æ–¯æ»¤æ³¢å™¨å¯¹äºç»™å®šå›¾åƒè¿›è¡Œå¹³æ»‘æ“ä½œã€‚å¹³æ»‘æ“ä½œæ—¶ä»€ä¹ˆï¼Œæ˜¯å‡å°‘å™ªç‚¹ã€‚å™ªç‚¹çš„åŸå› åˆæ˜¯ä»€ä¹ˆï¼Œæ˜¯å•ä¸ªåƒç´ åŒ…å«çš„ä¿¡æ¯è¿‡äºç‹¬ç«‹ã€‚å¦‚ä½•å‡å°‘å™ªç‚¹ï¼Œå¾ˆç®€å•ï¼Œåªéœ€è¦è®©æ¯ä¸ªåƒç´ ç‚¹åŒ…å«æœ‰å‘¨å›´åƒç´ çš„éƒ¨åˆ†ä¿¡æ¯å°±è¡Œäº†å‘—ã€‚é€‰ç”¨ä»€ä¹ˆæ–¹æ³•ï¼Œæœ€ç®€å•çš„æ–¹æ³•ä¾¿æ˜¯â€”â€”å·ç§¯(è§ä¸‹å›¾)ã€‚åˆ©ç”¨ä¸€ä¸ªç»™å®šçš„ä»¥æŸç§åˆ†å¸ƒå‡½æ•°æ„å»ºçš„äºŒç»´å·ç§¯å†…æ ¸ï¼Œå°†ä¸­å¿ƒç‚¹å¯¹å‡†åƒç´ ç‚¹ï¼Œè¿›è¡Œå·ç§¯æ“ä½œï¼Œå¾—åˆ°çš„åƒç´ ç‚¹ä¾¿åŒ…å«äº†å‘¨å›´åƒç´ çš„ä¸å®Œå…¨ä¿¡æ¯ï¼Œè¿™æ ·å­é™„è¿‘çš„åƒç´ ç‚¹å·®å¼‚æ€§ä¾¿ä¼šè¶Šæ¥è¶Šå°ï¼Œå½“æ•´å¼ å›¾åƒ(æˆ–é€‰ä¸­éƒ¨åˆ†)å·ç§¯å®Œæˆåï¼Œæ¯ä¸ªåƒç´ ç‚¹ä¾¿ä¸å†è¿‡äºç‹¬ç«‹ï¼Œæ¯ä¸ªä¾¿æœ‰äº†é™„è¿‘åƒç´ ç‚¹çš„ä¿¡æ¯ï¼Œè¿™æ ·å­—å›¾åƒä¾¿ä¸ä¼šçœ‹ä¸Šå»é‚£ä¹ˆçš„â€œæ‰çœ¼â€ï¼Œä¼šæ¸©æ¶¦å¹³æ»‘è®¸å¤šï¼Œè¿™å°±æ˜¯é«˜æ–¯æ¨¡ç³Šçš„æœ¬è´¨äº†ã€‚ å·ç§¯æ“ä½œ [ç›¸ä¿¡çœ‹å›¾å¤§æ¦‚å¤§å®¶å°±èƒ½æ˜ç™½å·ç§¯æ˜¯ä¸ªå•¥ä¸œè¥¿äº† å†ç»“åˆä¸Šé¢è¯­å¥åº”è¯¥å°±å·®ä¸å¤šäº†] æŸ¥æ‰¾å‡½æ•°åˆ©ç”¨grepå‘½ä»¤ï¼Œå¾ˆå®¹æ˜“ä¾¿èƒ½æ‰¾åˆ°è¿™ä¸ªå‡½æ•°ï¼Œæ‰¾åˆ°æ–‡ä»¶å¹¶åˆ‡åˆ°è¿™ä¸ªå‡½æ•°å®šä¹‰ï¼Œä¾¿å¯ä»¥çª¥è§æ•´ä¸ªå‡½æ•°çš„å…¨è²Œäº†ã€‚ æŸ¥æ‰¾ ä»¥ä¸‹æ˜¯cv::GaussianBlurå‡½æ•°å…¨è²Œ: func1 func2 åˆ†æå‡½æ•°åˆ†æè¿™ä¸ªå‡½æ•°ä¹‹å‰ï¼Œé¦–å…ˆå…ˆè¦ä»å†…éƒ¨å…³è”çš„å‡½æ•°çœ‹èµ·ã€‚ CV_INSTRUMENT_REGION()è¿™ä¸€è¡Œæœ«å°¾æ²¡æœ‰åˆ†å·ï¼Œè¿™æ ·çš„ç±»ä¼¼å‡½æ•°çš„å­—ç¬¦æ®µæœ‰å¾ˆå¤§å¯èƒ½æ˜¯ä¸€ä¸ªå®å®šä¹‰å˜é‡ï¼Œç»æŸ¥æ‰¾ï¼Œåœ¨private.hppæ–‡ä»¶ä¸­æœ‰ä»¥ä¸‹å®šä¹‰ï¼š ///// General instrumentation // General OpenCV region instrumentation macro #define CV_INSTRUMENT_REGION() CV_INSTRUMENT_REGION_META(cv::instr::TYPE_GENERAL, cv::instr::IMPL_PLAIN) ç»æŸ¥æ‰¾ï¼Œè¿™ä¸ªå­—æ®µä¸»è¦æ˜¯å…³äºåˆå§‹åŒ–ä»¥åŠè¾¹ç•Œç±»å‹çš„åˆ¤æ–­ã€‚ if( borderType != BORDER_CONSTANT &amp;&amp; (borderType &amp; BORDER_ISOLATED) != 0 )1234567891011121314151617181920212223242526272829303132333435363738394041int type = _src.type();Size size = _src.size();_dst.create( size, type );/** æ ¹æ®è¯´æ˜æ–‡æ¡£ä¸­æ‰€å†™çš„ BORDER_CONSTANT = 0, //!&lt; `iiiiii|abcdefgh|iiiiiii`with some specified `i` BORDER_REPLICATE = 1, //!&lt; `aaaaaa|abcdefgh|hhhhhhh` BORDER_REFLECT = 2, //!&lt; `fedcba|abcdefgh|hgfedcb` BORDER_WRAP = 3, //!&lt; `cdefgh|abcdefgh|abcdefg` BORDER_REFLECT_101 = 4, //!&lt; `gfedcb|abcdefgh|gfedcba` BORDER_TRANSPARENT = 5, //!&lt; `uvwxyz|absdefgh|ijklmno` BORDER_REFLECT101 = BORDER_REFLECT_101, //!&lt; same as BORDER_REFLECT_101 BORDER_DEFAULT = BORDER_REFLECT_101, //!&lt; same as BORDER_REFLECT_101 BORDER_ISOLATED = 16 //!&lt; do not look outside of ROI BORDER_CONSTANT éœ€è¦è®¾ç½®borderValue æŒ‡å®š ' i ' å€¼ï¼ˆå¸¸æ•°ï¼‰ BORDER_REPLICATE ï¼Œå¤åˆ¶è¾¹ç•Œåƒç´  BORDER_REFLECT ï¼Œåå°„å¤åˆ¶è¾¹ç•Œåƒç´  BORDER_REFLECT_101ï¼Œä»¥è¾¹ç•Œä¸ºå¯¹ç§°è½´åå°„å¤åˆ¶åƒç´ *//* è¿™é‡Œæ˜¯è¯´å¦‚æœè¾¹ç¼˜æ‰©å±•ä¸æ˜¯å¸¸æ•°æ‰©å±•ï¼Œä¸”åœ¨è§„å®šå›¾åƒèŒƒå›´å†…éƒ¨ï¼Œä¾¿æ‰§è¡Œä¸‹åˆ—æ“ä½œ*/if( borderType != BORDER_CONSTANT &amp;&amp; (borderType &amp; BORDER_ISOLATED) != 0 )&#123; // å¦‚æœè¾“å…¥çŸ©é˜µæ˜¯ä¸€ä¸ªè¡Œå‘é‡ï¼Œåˆ™æ»¤æ³¢æ ¸çš„é«˜å¼ºåˆ¶ä¸º1 // ä¸‹é¢åŒç† if( size.height == 1 ) ksize.height = 1; if( size.width == 1 ) ksize.width = 1;&#125;// å¦‚æœæ ¸å®½è·Ÿæ ¸é«˜éƒ½æ˜¯ä¸€ç›´æ¥å¤åˆ¶è¾“å‡ºif( ksize.width == 1 &amp;&amp; ksize.height == 1 )&#123; _src.copyTo(_dst); return;&#125; CV_OVX_RUN(true, openvx_gaussianBlur(_src, _dst, ksize, sigma1, sigma2, borderType))è¿™é‡Œå¾ˆæ˜æ˜¾æ˜¯ä¸€ä¸ªè¢«å®å®šä¹‰çš„å­—æ®µï¼Œé€šè¿‡æŸ¥æ‰¾ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°å…¶å®šä½åœ¨modules/core/include/opencv2/core/openvx/ovx_defs.hppå½“ä¸­ func3 æŒ‰æ¯è¡Œè§£æçš„è¯å°±æ˜¯å¦‚ä¸‹: 123456789101112131415161718192021// ç”¨äºæ£€æµ‹åŸºäºOpenVXçš„å®ç°çš„å®ç”¨ç¨‹åºå®#ifdef HAVE_OPENVX // å¦‚æœæ£€æµ‹åˆ°OPENVXä¾¿æ‰§è¡Œä¸‹åˆ—è¯­å¥ // ä¸‹é¢è¿™ä¸¤å¥ä¸»è¦ä½œç”¨ä¹Ÿæ˜¯æ ‡è¯† #define IVX_HIDE_INFO_WARNINGS // éšè—è­¦å‘Šä¿¡æ¯ #define IVX_USE_OPENCV // ä½¿ç”¨opencvçš„æ ‡è¯† #include \"ivx.hpp\" // å°†hppæ–‡ä»¶åŒ…å«è¿›æ¥ #define CV_OVX_RUN(condition, func, ...) \\ // ...ä¼šè¢«æ›¿æ¢ // è¿™é‡Œä¸ºäº†ç»™å¤–ç•Œæä¾›OpenVXä½¿ç”¨è¡¨ç¤º åˆ©ç”¨å®å®šä¹‰åšæˆäº†ä¸€ä¸ªæ¥å£ // è€Œè¿™ä¸ªæ¥å£åˆ™æ˜¯ä¸»è¦ä¸ºäº†æä¾›ç¡¬ä»¶å±‚é¢åŠ é€Ÿç”¨çš„(ä¸»è¦é¢å‘å¯¹è±¡æ˜¯åµŒå…¥å¼è®¾è®¡) if (cv::useOpenVX() &amp;&amp; (condition) &amp;&amp; func) \\ &#123; \\ // __VA_ARGS__æ˜¯å¯å˜å‚æ•°å®å®šä¹‰ ç”¨ä»¥æ›¿æ¢ä¸Šé¢...çš„å†…å®¹ return __VA_ARGS__; \\ &#125;#else // å¦åˆ™ä¾¿æ‰§è¡Œä¸‹é¢è¿™æ¡ #define CV_OVX_RUN(condition, func, ...)#endif // HAVE_OPENVX å…¶ä¸­useOpenVX()å‡½æ•°ä¸»è¦æ˜¯è¿”å›ä¸€ä¸ªboolç±»å‹çš„å˜é‡ç”¨ä»¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨openVXç”¨ä»¥è®¡ç®—ã€‚ æ‰€ä»¥CV_OVX_RUN()è¿™å¥è¯ä¾¿æ˜¯å¯¹äºåµŒå…¥å¼è®¾è®¡è¿›è¡Œå°è¯•æ€§çš„ä¼˜åŒ–æ“ä½œã€‚ ifdefè‡³endiféƒ¨åˆ†123456789//è‹¥ä¹‹å‰æœ‰è¿‡HAVE_TEGRA_OPTIMIZATIONä¼˜åŒ–é€‰é¡¹çš„å®šä¹‰ï¼Œåˆ™æ‰§è¡Œå®ä½“ä¸­çš„tegraä¼˜åŒ–ç‰ˆå‡½æ•°å¹¶è¿”å›#ifdef HAVE_TEGRA_OPTIMIZATION // æ‹·è´åˆ°ä¸´æ—¶å˜é‡(æš‚ä¸çŸ¥ä¸ºä»€ä¹ˆè¦æ‹·è´åˆ°ä¸€ä¸ªä¸´æ—¶å˜é‡é‡Œé¢å») Mat src = _src.getMat(); Mat dst = _dst.getMat(); if(sigma1 == 0 &amp;&amp; sigma2 == 0 &amp;&amp; tegra::useTegra() &amp;&amp; tegra::gaussian(src, dst, ksize, borderType)) return;#endif è¿™é‡Œä¹Ÿæ˜¾è€Œæ˜“è§æ˜¯å°è¯•tegraä¼˜åŒ–ã€‚ ä½†æ˜¯ä¸ºä»€ä¹ˆæ‹·è´åˆ°ä¸´æ—¶å˜é‡é‡Œä¹Ÿå¯ä»¥æ”¹å˜åŸå€¼ï¼Œè¿™é‡Œéœ€è¦è¿›ä¸€æ­¥åˆ°Matå˜é‡çš„è¿ç®—ç¬¦é‡è½½é‡Œé¢è¿›è¡Œå‚è€ƒã€‚ 12345678910111213141516171819202122232425262728293031inlineMat&amp; Mat::operator = (const Mat&amp; m)&#123; if( this != &amp;m ) &#123; if( m.u ) CV_XADD(&amp;m.u-&gt;refcount, 1); release(); // å½’é›¶åˆå§‹åŒ– /** å½’é›¶åè¿›è¡ŒåŸºæœ¬æ•°æ®å…±äº« */ flags = m.flags; if( dims &lt;= 2 &amp;&amp; m.dims &lt;= 2 ) &#123; dims = m.dims; rows = m.rows; cols = m.cols; step[0] = m.step[0]; step[1] = m.step[1]; &#125; else copySize(m); data = m.data; datastart = m.datastart; // å…±äº«æ•°æ®å¤´ dataend = m.dataend; // å…±äº«æ•°æ®å°¾ datalimit = m.datalimit; allocator = m.allocator; // å†…å­˜å…±äº« u = m.u; &#125; return *this; // è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨&#125; æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨=é‡è½½çš„æ—¶å€™ä»…æ˜¯è¿›è¡Œçš„æµ…æ‹·è´æ“ä½œï¼Œæ„æ€æ˜¯åªå°†æ•°æ®å¤´æ•°æ®å°¾è¿›è¡Œå¤åˆ¶ï¼Œè€Œæ‰€æœ‰æ•°æ®çš„å†…å­˜æ•°æ®éƒ½æ˜¯ç›¸é€šå…±äº«çš„ã€‚å›ºä»…éœ€è¦ä¸€æ–¹å˜é‡æ›´æ”¹ä¾¿ä¼šè”åŠ¨æ‰€æœ‰å¯¹å…¶è¿›è¡Œè¿‡æµ…æ‹·è´çš„å˜é‡å˜åŒ–ã€‚ å‰©ä¸‹éƒ¨åˆ†1234567891011121314151617181920212223242526272829/** è¿™é‡Œä¸»è¦æ˜¯é’ˆå¯¹opencl(GPUåŠ é€Ÿ)æ— æ³•ä½¿ç”¨çš„æƒ…å†µè¿›è¡ŒCPUç‰ˆæœ¬è®¡ç®— è¿™ä¸ªIPPæ˜¯ä¸€ä¸ªIntelæä¾›çš„å¼€æºçš„è®¡ç®—æœºè§†è§‰åŠ é€Ÿåº“ï¼Œå¯ä»¥æä¾›å¾ˆå¤šç®—æ³•çš„Intelä¸“å±çš„å¤šçº¿ç¨‹ä¼˜åŒ–æ–¹æ¡ˆAPIï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸‹é¢åœ¨openclçš„gpuä¼˜åŒ–ä»£ç ä¹‹åè¿˜åˆæ·»åŠ äº†åˆ©ç”¨CPUç‰ˆæœ¬çš„filter2Dçš„è®¡ç®—æ–¹æ¡ˆ(å› ä¸ºæœ‰éƒ¨åˆ†Intelä¸“å±çš„ä¼˜åŒ–å‡½æ•°ï¼Œé’ˆå¯¹APUå’Œè€å¼çš„Intel CPU(09å¹´ä¹‹å‰)æ— æ³•è¿›è¡Œè®¡ç®—ï¼Œæ‰€ä»¥åªèƒ½é€‰å–æœ€æ™®é€šçš„filter2Dè®¡ç®—æ–¹æ¡ˆæ‰§è¡Œ) å®˜ç½‘FAQ(æœ‰å…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹): https://software.intel.com/en-us/articles/intel-integrated-performance-primitives-intel-ipp-open-source-computer-vision-library-opencv-faq/*/CV_IPP_RUN(!(ocl::useOpenCL() &amp;&amp; _dst.isUMat()), ipp_GaussianBlur( _src, _dst, ksize, sigma1, sigma2, borderType));Mat kx, ky;/** è¿™é‡Œæ˜¯æ–°å»ºä¸€ä¸ªé«˜æ–¯å·ç§¯å†…æ ¸(åé¢è®²)*/createGaussianKernels(kx, ky, type, ksize, sigma1, sigma2);/** è¿™é‡Œæ˜¯é’ˆå¯¹ksize = 3 or 5çš„æƒ…å†µåšäº†openclä¼˜åŒ–(Aå¡Nå¡å‡å¯äº«å—openclä¼˜åŒ–qwq)*/CV_OCL_RUN(_dst.isUMat() &amp;&amp; _src.dims() &lt;= 2 &amp;&amp; ((ksize.width == 3 &amp;&amp; ksize.height == 3) || (ksize.width == 5 &amp;&amp; ksize.height == 5)) &amp;&amp; (size_t)_src.rows() &gt; ky.total() &amp;&amp; (size_t)_src.cols() &gt; kx.total(), ocl_GaussianBlur_8UC1(_src, _dst, ksize, CV_MAT_DEPTH(type), kx, ky, borderType));/** è¿™é‡Œä¾¿æ˜¯åˆ©ç”¨filter2Dè¿›è¡Œæ“ä½œäº† ä¼ å…¥Point(-1, -1) æ˜¯æŒ‡å†…æ ¸ä¸­çš„é”šç‚¹(å°±æ˜¯åé¢çš„anchor)ä½ç½®ã€‚é»˜è®¤å€¼ï¼ˆ-1ï¼Œ-1ï¼‰è¡¨ç¤ºé”šç‚¹ä½äºå†…æ ¸ä¸­å¿ƒã€‚ 0 åˆ™æ˜¯å­˜å‚¨å•ä½ é»˜è®¤æ˜¯0 åé¢ä¼šé€šè¿‡è®¡ç®—æ”¹å˜å¹¶å­˜å‚¨*/sepFilter2D(_src, _dst, CV_MAT_DEPTH(type), kx, ky, Point(-1,-1), 0, borderType); è¿™é‡Œåœ¨ä¸‹ä¸»è¦è§£æcreateGaussianKernelsä¸sepFilter2Dè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä¸»è¦æ˜¯å› ä¸ºæ— è®ºæ˜¯openvx_gaussianBlurè¿˜æ˜¯ipp_GaussianBlurä»¥åŠocl_GaussianBlur_8UC1éƒ½æœ‰ç€å¤§é‡æœªçŸ¥çš„APIï¼Œè¦è¯»æ‡‚è¿™äº›APIè¿˜éœ€è¦å¤§é‡æ–‡æ¡£æŸ¥é˜…ï¼Œåœ¨ä¸‹åœ¨æ­¤å°±å…ˆä¸è§£æäº†ã€‚ æ‰€ä»¥é¦–å…ˆå…ˆæ¥çœ‹ä¸€ä¸‹createGaussianKernelsè¿™ä¸ªå‡½æ•°ï¼š 1234567891011121314151617181920212223242526272829303132333435/** è¿™ä¸ªå‡½æ•°ä»…æ˜¯ç”¨äºæ˜¯åˆ›å»ºé«˜æ–¯å·ç§¯æ ¸*/static void createGaussianKernels( Mat &amp; kx, Mat &amp; ky, int type, Size ksize, double sigma1, double sigma2 )&#123; int depth = CV_MAT_DEPTH(type); // æ ¹æ®è¾“å…¥å›¾åƒç±»å‹è·å¾—ä½æ·±åº¦ if( sigma2 &lt;= 0 ) sigma2 = sigma1; // éæ­£åˆ™ä¸sigma1ç›¸åŒ // ä»sigmaè‡ªåŠ¨æ£€æµ‹å†…æ ¸å¤§å°(å¦‚æœç”¨æˆ·æ²¡æœ‰è®¾ç½®ksizeçš„è¯) // æ ¹æ®CV_8Uæ¥è®¡ç®— å¤§è‡´æ¥è¿‘7*sigma æˆ–è€… 9*sigma // cvRoundå‡½æ•°è¿˜å†…è”äº†æ±‡ç¼– åœ¨ä¸‹çœ‹ä¸æ‡‚äº† // |1 çš„åŸå› æ˜¯ä½¿å®½é«˜ä¸ºå¥‡æ•° if( ksize.width &lt;= 0 &amp;&amp; sigma1 &gt; 0 ) ksize.width = cvRound(sigma1*(depth == CV_8U ? 3 : 4)*2 + 1)|1; if( ksize.height &lt;= 0 &amp;&amp; sigma2 &gt; 0 ) ksize.height = cvRound(sigma2*(depth == CV_8U ? 3 : 4)*2 + 1)|1; // è¿™å¥åªæ˜¯ä¸ºäº†ä¿è¯å·ç§¯æ ¸çš„å®½è·Ÿé«˜æ˜¯æ­£å¥‡æ•° CV_Assert( ksize.width &gt; 0 &amp;&amp; ksize.width % 2 == 1 &amp;&amp; ksize.height &gt; 0 &amp;&amp; ksize.height % 2 == 1 ); // å–æœ€å¤§ sigma1 = std::max( sigma1, 0. ); sigma2 = std::max( sigma2, 0. ); kx = getGaussianKernel( ksize.width, sigma1, std::max(depth, CV_32F) ); if( ksize.height == ksize.width &amp;&amp; std::abs(sigma1 - sigma2) &lt; DBL_EPSILON ) // è¿™é‡Œ å¦‚æœåˆ¤æ–­æ ¸é«˜ä¸æ ¸å®½ç›¸ç­‰ï¼Œä¸”sigmaç›¸å·®å¾ˆå°çš„æƒ…å†µä¸‹ // ä¾¿å¯ä»¥ç›´æ¥è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œå‡å°‘äº†è®¡ç®—é‡ ky = kx; else ky = getGaussianKernel( ksize.height, sigma2, std::max(depth, CV_32F) );&#125; ä»ä¸­æˆ‘ä»¬è¿˜éœ€è¦è§£ægetGaussianKernelè¿™ä¸ªå‡½æ•°ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768cv::Mat cv::getGaussianKernel( int n, double sigma, int ktype )&#123; // è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªå¸¸é‡ç”¨ä»¥è§„å®šå¤§å° const int SMALL_GAUSSIAN_SIZE = 7; // ä¸€ä¸ª4 * 7çš„çŸ©é˜µï¼Œç”¨äºå¯¹å¥‡æ•°é•¿åº¦å°å†…æ ¸è¿›è¡Œä¼˜åŒ–è®¡ç®— static const float small_gaussian_tab[][SMALL_GAUSSIAN_SIZE] = &#123; &#123;1.f&#125;, &#123;0.25f, 0.5f, 0.25f&#125;, &#123;0.0625f, 0.25f, 0.375f, 0.25f, 0.0625f&#125;, &#123;0.03125f, 0.109375f, 0.21875f, 0.28125f, 0.21875f, 0.109375f, 0.03125f&#125; &#125;; /** è¿™é‡Œè®¡ç®—æ»¤æ³¢ç³»æ•°ï¼ˆæ•°ç»„ï¼‰ å¦‚æœ å†…æ ¸å°ºå¯¸ä¸ºå¥‡æ•° ä¸”å°äº7 å¹¶ä¸”sigmaå°äºç­‰äº0 é‚£ä¹ˆæ»¤æ³¢ç³»æ•°ä¾¿æ˜¯æ ¹æ®ä¸Šé¢çš„small_gaussian_tabå†³å®šçš„ å¦åˆ™ä¾¿æ˜¯0 */ const float* fixed_kernel = n % 2 == 1 &amp;&amp; n &lt;= SMALL_GAUSSIAN_SIZE &amp;&amp; sigma &lt;= 0 ? small_gaussian_tab[n&gt;&gt;1] : 0; /** æ£€æµ‹æ•°æ®ç±»å‹æ˜¯å¦ä¸ºfloatå’Œdouble */ CV_Assert( ktype == CV_32F || ktype == CV_64F ); Mat kernel(n, 1, ktype); // å»ºç«‹ä¸€ç»´å‘é‡ // å®šä¹‰æŒ‡é’ˆæŒ‡å‘æ•°æ® float* cf = kernel.ptr&lt;float&gt;(); double* cd = kernel.ptr&lt;double&gt;(); // å½“sigmaå°äº0æ—¶ï¼Œé‡‡ç”¨å…¬å¼å¾—åˆ°sigma(åªä¸næœ‰å…³)ï¼Œå¤§äº0å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚ double sigmaX = sigma &gt; 0 ? sigma : ((n-1)*0.5 - 1)*0.3 + 0.8; // è¡¨è¾¾å¼ä¸­eæŒ‡æ•°è¦ç”¨åˆ° double scale2X = -0.5/(sigmaX*sigmaX); double sum = 0; int i; for( i = 0; i &lt; n; i++ ) &#123; double x = i - (n-1)*0.5; // æ ¹æ®ä¸Šé¢è®¡ç®—å‡ºæ¥çš„ç³»æ•°æ¥å†³å®šæ˜¯å¦é‡æ–°è®¡ç®—å€¼ double t = fixed_kernel ? (double)fixed_kernel[i]:std::exp(scale2X*x*x); //æ ¹æ®ç²¾åº¦é€‰æ‹©å˜é‡ if( ktype == CV_32F ) &#123; cf[i] = (float)t; sum += cf[i]; &#125; else &#123; cd[i] = t; sum += cd[i]; &#125; &#125; sum = 1./sum; // å½’ä¸€åŒ–æ“ä½œï¼Œè®¡ç®—éœ€è¦é™¤çš„æ•°å€¼ for( i = 0; i &lt; n; i++ ) &#123; if( ktype == CV_32F ) cf[i] = (float)(cf[i]*sum); else cd[i] *= sum; &#125; return kernel; // è¿”å›å»ºç«‹å¥½çš„ä¸€ç»´å†…æ ¸&#125; è¿™ä¸¤ä¸ªå‡½æ•°çš„ä¸»è¦ç›®çš„å°±æ˜¯è®¡ç®—å‡ºé«˜æ–¯å·ç§¯æ ¸ï¼Œè¿™é‡Œé€‰ç”¨åˆ†ç¦»è®¡ç®—ï¼Œå°±æ˜¯å…ˆè®¡ç®—æ°´å¹³ï¼ˆxï¼‰æ–¹å‘çš„ä¸€ç»´å·ç§¯æ ¸ï¼Œå†æ ¹æ®sigmaåˆ¤æ–­æ˜¯å¦é‡æ–°è®¡ç®—å‚ç›´ï¼ˆyï¼‰æ–¹å‘çš„ä¸€ç»´å·ç§¯å†…æ ¸ï¼Œè¿™æ ·å­åˆ†ç¦»è®¡ç®—å†é’ˆå¯¹å°ºå¯¸è¾ƒå¤§çš„æ»¤æ³¢å™¨ä¹Ÿå¯ä»¥æœ‰å¾ˆé«˜çš„æ•ˆç‡ï¼Œå¹¶ä¸”åˆ†ç¦»è®¡ç®—ç»“åˆå¤šçº¿ç¨‹ä¹Ÿæ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚ çœ‹å®Œé«˜æ–¯å†…æ ¸çš„å»ºç«‹ï¼Œæˆ‘ä»¬çŸ¥é“é«˜æ–¯æ¨¡ç³Šä¸»è¦åˆ©ç”¨äº†åˆ†ç¦»è®¡ç®—ï¼Œé‚£æœ€åsepFilter2Då‡½æ•°ä¹Ÿå¾ˆå®¹æ˜“çœ‹æ‡‚äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960void cv::sepFilter2D( InputArray _src, OutputArray _dst, int ddepth, InputArray _kernelX, InputArray _kernelY, Point anchor, double delta, int borderType )&#123; CV_INSTRUMENT_REGION() /* è¿™é‡Œè€ƒè™‘å¦‚æœè¾“å…¥å‡½æ•°æ˜¯UMatå½¢å¼ä¸”ç»´åº¦å°äºç­‰äº2çš„æƒ…å†µä¸‹ ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨openclä¼˜åŒ–è¿‡çš„filter2Dè®¡ç®— */ CV_OCL_RUN(_dst.isUMat() &amp;&amp; _src.dims() &lt;= 2 &amp;&amp; (size_t)_src.rows() &gt; _kernelY.total() &amp;&amp; (size_t)_src.cols() &gt; _kernelX.total(), ocl_sepFilter2D(_src, _dst, ddepth, _kernelX, _kernelY, anchor, delta, borderType)) Mat src = _src.getMat(), kernelX = _kernelX.getMat(), kernelY = _kernelY.getMat(); if( ddepth &lt; 0 ) ddepth = src.depth(); _dst.create( src.size(), CV_MAKETYPE(ddepth, src.channels()) ); Mat dst = _dst.getMat(); /* æ‰¾åˆ°srcçš„çŸ©é˜µçš„çŸ©é˜µå¤´å­˜å…¥wszå½“ä¸­ï¼Œå¹¶ä¸”å°†åç§»é‡å­˜å…¥ofså˜é‡ä¸­ è¿™ä¸¤ä¸ªå˜é‡ç”¨äºå¿«é€Ÿè¯»å–å…¨éƒ¨å›¾åƒ */ Point ofs; Size wsz(src.cols, src.rows); if( (borderType &amp; BORDER_ISOLATED) == 0 ) src.locateROI( wsz, ofs ); /* è¿›è¡Œé¢„å…ˆæ£€æµ‹å†…æ ¸æ˜¯å¦æœ‰è¯¯ */ CV_Assert( kernelX.type() == kernelY.type() &amp;&amp; (kernelX.cols == 1 || kernelX.rows == 1) &amp;&amp; (kernelY.cols == 1 || kernelY.rows == 1) ); Mat contKernelX = kernelX.isContinuous() ? kernelX : kernelX.clone(); Mat contKernelY = kernelY.isContinuous() ? kernelY : kernelY.clone(); /* ç”Ÿæˆä¸€ä¸ªäºŒç»´æ»¤æ³¢(filter2D)å¼•æ“ */ Ptr&lt;hal::SepFilter2D&gt; c = hal::SepFilter2D::create( src.type(), dst.type(), kernelX.type(), contKernelX.data, kernelX.cols + kernelX.rows - 1, contKernelY.data, kernelY.cols + kernelY.rows - 1, anchor.x, anchor.y, delta, borderType &amp; ~BORDER_ISOLATED); /* è°ƒç”¨è¿™ä¸ªå¼•æ“ */ c-&gt;apply(src.data, src.step, dst.data, dst.step, dst.cols, dst.rows, wsz.width, wsz.height, ofs.x, ofs.y);&#125; å‰©ä¸‹çš„ä¾¿æ˜¯å¯»æ‰¾åˆ°è¿™ä¸ªå¼•æ“è·Ÿè°ƒç”¨å‡½æ•°çš„å®ç°äº†ã€‚ 12345678910111213141516171819202122232425262728293031/* Ptrç±»ä¼¼äºboost::shared_ptrï¼Œå®ƒæ˜¯Booståº“çš„ä¸€éƒ¨åˆ† (http://www.boost.org/doc/libs/release/libs/smart_ptr/shared_ptr.htm) å’Œ std::shared_ptr[C ++ 11æ ‡å‡†]ï¼ˆhttp://en.wikipedia.org/wiki/C++11ï¼‰ P.S.å…¶å®å¤§éƒ¨åˆ†c++11æ ‡å‡†éƒ½æ˜¯booståº“é‡Œé¢æŠ„è¿‡æ¥çš„*/Ptr&lt;SepFilter2D&gt; SepFilter2D::create(int stype, int dtype, int ktype, uchar * kernelx_data, int kernelx_len, uchar * kernely_data, int kernely_len, int anchor_x, int anchor_y, double delta, int borderType)&#123; &#123; ReplacementSepFilter * impl = new ReplacementSepFilter(); if (impl-&gt;init(stype, dtype, ktype, kernelx_data, kernelx_len, kernely_data, kernely_len, anchor_x, anchor_y, delta, borderType)) &#123; return Ptr&lt;hal::SepFilter2D&gt;(impl); &#125; delete impl; &#125; &#123; OcvSepFilter * impl = new OcvSepFilter(); impl-&gt;init(stype, dtype, ktype, kernelx_data, kernelx_len, kernely_data, kernely_len, anchor_x, anchor_y, delta, borderType); return Ptr&lt;hal::SepFilter2D&gt;(impl); &#125;&#125; ç»æŸ¥æ‰¾ï¼ŒSepFilter2Dæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå†…å«æœ‰ä¸Šé¢çš„createå‡½æ•°ä»¥åŠä¸¤ä¸ªè™šå‡½æ•°(applyä¸ææ„å‡½æ•°)ï¼Œè¿™å°±è¯´æ˜å¯¹äºä¸åŒçš„implæœ‰ç€ä¸åŒçš„applyè·Ÿinitã€‚ ç„¶åï¼Œä»ReplacementSepFilterçš„å‡½æ•°å¼€å§‹çœ‹èµ·: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677/** è¿™ä¸ªç»“æ„ä½“ç»§æ‰¿è‡ªSepFilter2D å…·ä½“ä½œç”¨ä¾¿æ˜¯ä½¿ç”¨hal apiè¿›è¡Œä¼˜åŒ–åŠ é€Ÿè®¡ç®— æ˜¯ä¸€ä¸ªå…³äºç§»åŠ¨å’ŒåµŒå…¥å¼è®¾è®¡çš„åº“*/struct ReplacementSepFilter : public hal::SepFilter2D&#123; /** è¿™é‡Œçš„cvhalFilter2Dæ˜¯ä¸€ä¸ªç»“æ„ä½“ å…¶ç›®çš„å°±æ˜¯ä½œä¸ºcontextå˜é‡ä½¿ç”¨(ctx ä¾¿æ˜¯contextç®€å†™) */ cvhalFilter2D *ctx; bool isInitialized; /** å§”æ‰˜æ„é€ å‡½æ•° å§”æ‰˜äº†ä¸¤ä¸ªæ„é€ å‡½æ•°è¿›è¡Œæ„é€  ä¸€ä¸ªæ˜¯å®šä¹‰äº†contextä¸º0ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯å®šä¹‰äº†isInitializedä¸ºå¦ å…³äºcontext(ä¸Šä¸‹æ–‡)è¿™ä¸ªæ¦‚å¿µå¯ä»¥ç™¾åº¦ä¸€ä¸‹ åœ¨ä¸‹æ˜¯çœ‹çš„è¿™ç¯‡: https://wanderinghorse.net/computing/papers/context_types.html */ ReplacementSepFilter() : ctx(0), isInitialized(false) &#123;&#125; /** åˆå§‹åŒ–å‡½æ•° */ bool init(int stype, int dtype, int ktype, uchar * kernelx_data, int kernelx_len, uchar * kernely_data, int kernely_len, int anchor_x, int anchor_y, double delta, int borderType) &#123; // è¿™é‡Œè¿”å›çš„å€¼æ ¹æ®æ˜¯å¦åˆå§‹åŒ–æˆåŠŸèµ‹å€¼çš„ int res = cv_hal_sepFilterInit(&amp;ctx, stype, dtype, ktype, kernelx_data, kernelx_len, kernely_data, kernely_len, anchor_x, anchor_y, delta, borderType); // è¿™é‡Œé¦–å…ˆåˆ¤æ–­resæ˜¯å¦ä¸CV_HAL_ERROR_OK(0)ç›¸ç­‰ // å¦‚æœä¸ç›¸ç­‰ä¾¿å°†0èµ‹å€¼ç»™isInitialized // å¦åˆ™ä¾¿æ˜¯å°†1èµ‹å€¼ isInitialized = (res == CV_HAL_ERROR_OK); return isInitialized; &#125; /** è¿™ä¸ªæ˜¯ReplacementSepFilterçš„æ‰§è¡Œå‡½æ•° */ void apply(uchar* src_data, size_t src_step, uchar* dst_data, size_t dst_step, int width, int height, int full_width, int full_height, int offset_x, int offset_y) &#123; if (isInitialized) &#123; // è¿™é‡Œæ˜¯è°ƒç”¨å¹¶è¿”å›æ˜¯å¦æˆåŠŸçš„ç»“æœ int res = cv_hal_sepFilter(ctx, src_data, src_step, dst_data, dst_step, width, height, full_width, full_height, offset_x, offset_y); // åˆ¤æ–­resæ˜¯å¦ä¸CV_HAL_ERROR_OK(0)ä¸ç­‰ // å¦‚æœä¸ç­‰ä¾¿æ— æ³•è°ƒç”¨ // è¿›å…¥é”™è¯¯é€‰é¡¹è·³å‡ºæ»¤æ³¢å™¨ if (res != CV_HAL_ERROR_OK) CV_Error(Error::StsNotImplemented, \"Failed to run HAL sepFilter implementation\"); &#125; &#125; /** è¿™é‡Œçš„ææ„å‡½æ•°åœ¨æœ¬ç¯‡ä¸è§£æ */ ~ReplacementSepFilter() &#123; if (isInitialized) &#123; int res = cv_hal_sepFilterFree(ctx); if (res != CV_HAL_ERROR_OK) CV_Error(Error::StsNotImplemented, \"Failed to run HAL sepFilter implementation\"); &#125; &#125;&#125;; åœ¨æ¥ä¸‹æ¥ä¾¿æ˜¯OcvSepFilterå‡½æ•°: 12345678910111213141516171819202122232425262728293031323334353637383940struct OcvSepFilter : public hal::SepFilter2D&#123; /** å»ºç«‹ä¸€ä¸ªæ»¤æ³¢å¼•æ“ f */ Ptr&lt;FilterEngine&gt; f; int src_type; int dst_type; bool init(int stype, int dtype, int ktype, uchar * kernelx_data, int kernelx_len, uchar * kernely_data, int kernely_len, int anchor_x, int anchor_y, double delta, int borderType) &#123; src_type = stype; dst_type = dtype; /** åˆ†ç¦»å·ç§¯æ‰€ä»¥å»ºç«‹äº†Xä¸Yçš„å·ç§¯å†…æ ¸ */ Mat kernelX(Size(kernelx_len, 1), ktype, kernelx_data); Mat kernelY(Size(kernely_len, 1), ktype, kernely_data); /** åˆ›å»ºä¸€ä¸ªåˆ›å»ºå¯åˆ†ç¦»çš„çº¿æ€§æ»¤æ³¢å™¨ */ f = createSeparableLinearFilter( stype, dtype, kernelX, kernelY, Point(anchor_x, anchor_y), delta, borderType &amp; ~BORDER_ISOLATED ); return true; &#125; void apply(uchar* src_data, size_t src_step, uchar* dst_data, size_t dst_step, nt width, int height, int full_width, int full_height, int offset_x, int offset_y) &#123; Mat src(Size(width, height), src_type, src_data, src_step); Mat dst(Size(width, height), dst_type, dst_data, dst_step); // å› ä¸ºPtrå°†æ¨¡æ¿è®¾ç½®ä¸ºäº†FilterEngineï¼Œæ‰€ä»¥è¿™é‡Œapplyè°ƒç”¨çš„æ˜¯FilterEngineçš„å¯åŠ¨å‡½æ•° f-&gt;apply(src, dst, Size(full_width, full_height), Point(offset_x, offset_y)); &#125;&#125;; ç„¶åä¾¿æ˜¯åˆ†æcreateSeparableLinearFilter è¿™ä¸ªå‡½æ•°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230/** å¯ä»¥çœ‹åˆ°å…¶è¿”å›çš„æ˜¯æ˜¯ä¸€ä¸ªå¼•æ“ï¼Œ æ‰€ä»¥é‡Œé¢è‚¯å®šæ˜¯æœ‰æ¨ªå‘ä¸çºµå‘çº¿æ€§æ»¤æ³¢å™¨äº†(æ‰€ä»¥æ‰ä½¿ç”¨å¯åˆ†ç¦»çš„qwq)*/cv::Ptr&lt;cv::FilterEngine&gt; cv::createSeparableLinearFilter( int _srcType, int _dstType, InputArray __rowKernel, InputArray __columnKernel, Point _anchor, double _delta, int _rowBorderType, int _columnBorderType, const Scalar&amp; _borderValue )&#123; // å®šä¹‰å˜é‡ Mat _rowKernel = __rowKernel.getMat(), _columnKernel = __columnKernel.getMat(); // æ±‚çŸ©é˜µçš„æ•°ç»„ç±»å‹ï¼Œæ•°æ®ç±»å‹åŒ…è¿‡é€šé“æ•°ï¼Œæ·±åº¦ï¼Œå’Œæ®ç±»å‹3ç§ _srcType = CV_MAT_TYPE(_srcType); _dstType = CV_MAT_TYPE(_dstType); // æ±‚æ·±åº¦(è¾“å…¥è¾“å‡ºéƒ½æ±‚) int sdepth = CV_MAT_DEPTH(_srcType), ddepth = CV_MAT_DEPTH(_dstType); // æ±‚è¾“å…¥çŸ©é˜µçš„é€šé“æ•°å¹¶åˆ¤æ–­è¾“å…¥çŸ©é˜µæ˜¯å¦ä¸è¾“å‡ºçŸ©é˜µé€šé“æ•°ç›¸ç­‰ int cn = CV_MAT_CN(_srcType); CV_Assert( cn == CV_MAT_CN(_dstType) ); // rowsize int rsize = _rowKernel.rows + _rowKernel.cols - 1; // columnsize int csize = _columnKernel.rows + _columnKernel.cols - 1; // å¦‚æœå†…æ ¸é”šç‚¹æ˜¯è´Ÿæ•°ï¼Œåˆ™ä»ä¸­å¿ƒç‚¹å¼€å§‹è¿›è¡Œ if( _anchor.x &lt; 0 ) _anchor.x = rsize/2; if( _anchor.y &lt; 0 ) _anchor.y = csize/2; /** è·å¾—å†…æ ¸çš„ç±»å‹ å¤§è‡´åˆ†ä¸ºäº”ç§ï¼š KERNEL_GENERAL é€šç”¨å†…æ ¸ æ— ä»»ä½•å¯¹ç§°æ€§æˆ–å…¶ä»–å±æ€§ KERNEL_SYMMETRICAL kernel[i] == kernel[ksize-i-1] (ç³»æ•°å¯¹ç§°)ï¼Œä¸”é”šç‚¹ä½äºä¸­å¿ƒ KERNEL_ASYMMETRICAL kernel[i] == -kernel[ksize-i-1] (ç³»æ•°ç›¸åå¯¹ç§°)ï¼Œé”šç‚¹åŒä¸Š KERNEL_SMOOTH æ‰€æœ‰å†…æ ¸å…ƒç´ éƒ½æ˜¯éè´Ÿçš„å¹¶ä¸”æ€»å’Œä¸º1 KERNEL_INTEGER æ‰€æœ‰å†…æ ¸ç³»æ•°éƒ½æ˜¯æ•´æ•° */ int rtype = getKernelType(_rowKernel, _rowKernel.rows == 1 ? Point(_anchor.x, 0) : Point(0, _anchor.x)); int ctype = getKernelType(_columnKernel, _columnKernel.rows == 1 ? Point(_anchor.y, 0) : Point(0, _anchor.y)); Mat rowKernel, columnKernel; /** åœ¨CV_32F, sdepth, ddepthä¸­æ‰¾åˆ°æœ€å¤§å€¼å¹¶èµ‹å€¼ç»™bdepth bdepth: ä½æ·±åº¦ */ int bdepth = std::max(CV_32F,std::max(sdepth, ddepth)); int bits = 0; /** åˆ¤æ–­å¦‚æœ è¾“å…¥è¾“å‡ºå›¾åƒéƒ½æ˜¯8ä½æ— ç¬¦å·å‹ä¸”å†…æ ¸ä½¿ç”¨å¹³æ»‘å¯¹ç§°æ ¸ æˆ–è€… è¾“å‡ºå›¾åƒä¸º16ä½æœ‰ç¬¦å·å‹ä¸”ä½¿ç”¨æ•´å½¢å¯¹ç§°æˆ–åå¯¹ç§°æ ¸ é‚£ä¹ˆå°±ä¸éœ€è¦è¿›è¡Œä»»ä½•è½¬æ¢ä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ å¦åˆ™ä¾¿éœ€è¦è½¬æ¢ï¼Œå› ä¸ºè¾“å…¥å‰åçš„å›¾åƒæ ¼å¼æ˜¯å®Œå…¨ç›¸ç­‰çš„ æ‰€ä»¥deltaå°±é»˜è®¤æ˜¯0äº† */ if( sdepth == CV_8U &amp;&amp; ( (rtype == KERNEL_SMOOTH+KERNEL_SYMMETRICAL &amp;&amp; ctype == KERNEL_SMOOTH+KERNEL_SYMMETRICAL &amp;&amp; ddepth == CV_8U) || ( (rtype &amp; (KERNEL_SYMMETRICAL+KERNEL_ASYMMETRICAL)) &amp;&amp; (ctype &amp; (KERNEL_SYMMETRICAL+KERNEL_ASYMMETRICAL)) &amp;&amp; (rtype &amp; ctype &amp; KERNEL_INTEGER) &amp;&amp; ddepth == CV_16S ) ) ) &#123; // é‡æ–°ç»™bdepthèµ‹å€¼ bdepth = CV_32S; // æ­¤æ—¶bits(å•ä½å­—èŠ‚)å°†æ ¹æ®ä½æ·±åº¦è¿›è¡Œè®¡ç®—ï¼Œå¦‚æœæ˜¯8ä½æ— ç¬¦å·å‹åˆ™ç›´æ¥èµ‹å€¼ä¸º8ä½ bits = ddepth == CV_8U ? 8 : 0; // æ­¤æ—¶å°†rowå†…æ ¸è½¬æ¢ä¸ºCV_32Sï¼Œå³32ä½æ•´æ•°å‹ï¼Œå¹¶ä¸”æ ¹æ®å•ä½å­—èŠ‚è½¬æ¢æ¯”ä¾‹å› å­ // å¦‚æœä¸åŠ æ¯”ä¾‹å› å­é‚£ä¹ˆå›¾åƒä¼šå˜å¾—å¾ˆç™½ // (å¯å‚è§è¿™ç¯‡æé—®https://bbs.csdn.net/topics/392411554) // æ¯”ä¾‹å› å­ï¼šå°†åŸçŸ©é˜µçš„æ‰€æœ‰å…ƒç´ ä¹˜ä»¥alpha _rowKernel.convertTo( rowKernel, CV_32S, 1 &lt;&lt; bits ); _columnKernel.convertTo( columnKernel, CV_32S, 1 &lt;&lt; bits ); // åœ¨è¿™é‡Œæ˜¯å°†å•ä½å­—èŠ‚*2 bits *= 2; // æ ¹æ®å•ä½å­—èŠ‚è®¡ç®—å‡ºäº†å­˜å‚¨å•ä½(åç§»é‡) _delta *= (1 &lt;&lt; bits); &#125; else &#123; /** å¦‚æœä¸å±äºä¸Šé¢ifé‡Œçš„ä»»ä½•ä¸€ç§æƒ…å†µï¼Œé‚£ä¹ˆéœ€è¦è¿›è¡Œè½¬æ¢ï¼Œç”¨ä»¥ä½¿æ•°æ®ç±»å‹ç»Ÿä¸€ */ if( _rowKernel.type() != bdepth ) _rowKernel.convertTo( rowKernel, bdepth ); else rowKernel = _rowKernel; if( _columnKernel.type() != bdepth ) _columnKernel.convertTo( columnKernel, bdepth ); else columnKernel = _columnKernel; &#125; // ç¼“å†²åŒºå­˜å‚¨ï¼Œç”¨äºå†™å…¥å•ä¸ªè‰²æ‰€æœ‰ç´ ä¿¡æ¯(åŒ…æ‹¬å¤šé€šé“ä¸æ·±åº¦ä¿¡æ¯) int _bufType = CV_MAKETYPE(bdepth, cn); // getLinearRowFilteræ˜¯æ ¹æ®ä¸åŒçš„è¾“å…¥å›¾åƒç±»å‹ï¼Œè¾“å‡ºå›¾åƒè¿”å›ä¸åŒçš„çº¿æ€§æ»¤æ³¢å™¨ Ptr&lt;BaseRowFilter&gt; _rowFilter = getLinearRowFilter( _srcType, _bufType, rowKernel, _anchor.x, rtype); Ptr&lt;BaseColumnFilter&gt; _columnFilter = getLinearColumnFilter( _bufType, _dstType, columnKernel, _anchor.y, ctype, _delta, bits ); // åˆ©ç”¨è¿™ä¸¤ä¸ªçº¿æ€§æ»¤æ³¢å™¨å»ºç«‹æ»¤æ³¢å¼•æ“ return Ptr&lt;FilterEngine&gt;( new FilterEngine(Ptr&lt;BaseFilter&gt;(), _rowFilter, _columnFilter,_srcType, _dstType, _bufType, _rowBorderType, _columnBorderType, _borderValue ));&#125;/** å»ºç«‹æ»¤æ³¢å¼•æ“å‡½æ•°*/FilterEngine::FilterEngine( const Ptr&lt;BaseFilter&gt;&amp; _filter2D, const Ptr&lt;BaseRowFilter&gt;&amp; _rowFilter, const Ptr&lt;BaseColumnFilter&gt;&amp; _columnFilter, int _srcType, int _dstType, int _bufType, int _rowBorderType, int _columnBorderType, const Scalar&amp; _borderValue )&#123; init(_filter2D, _rowFilter, _columnFilter, _srcType, _dstType, _bufType, _rowBorderType, _columnBorderType, _borderValue);&#125;void FilterEngine::init( const Ptr&lt;BaseFilter&gt;&amp; _filter2D, const Ptr&lt;BaseRowFilter&gt;&amp; _rowFilter, const Ptr&lt;BaseColumnFilter&gt;&amp; _columnFilter, int _srcType, int _dstType, int _bufType, int _rowBorderType, int _columnBorderType, const Scalar&amp; _borderValue )&#123; // ä¾æ—§æ˜¯è·å–ç±»å‹ _srcType = CV_MAT_TYPE(_srcType); _bufType = CV_MAT_TYPE(_bufType); _dstType = CV_MAT_TYPE(_dstType); // ä¸´æ—¶å˜é‡ srcType = _srcType; // è®¡ç®—å•ä¸ªåƒç´ å¤§å° // ä¸‹é¢ä¼šé™è§£ int srcElemSize = (int)getElemSize(srcType); // ä¸‹é¢è¿™äº›å…¨æ˜¯å»ºç«‹ä¸´æ—¶å˜é‡çš„ dstType = _dstType; bufType = _bufType; filter2D = _filter2D; rowFilter = _rowFilter; columnFilter = _columnFilter; // è¿™é‡Œæ˜¯åˆ¤æ–­è¡Œåˆ—è¾¹ç¼˜ç±»å‹æ˜¯å¦å‡ºé—®é¢˜ if( _columnBorderType &lt; 0 ) _columnBorderType = _rowBorderType; rowBorderType = _rowBorderType; columnBorderType = _columnBorderType; // æ£€æµ‹è¾¹ç•Œå¡«å……ç±»å‹æ˜¯å¦ä¸æ˜¯wrap(å¤åˆ¶å…ƒç´ å¡«å……)ç±»å‹ CV_Assert( columnBorderType != BORDER_WRAP ); // æ£€æµ‹æ˜¯å¦ä¸ºå¯åˆ†ç¦»æ»¤æ³¢å™¨(å› ä¸ºè¿™ä¸ªæ˜¯é€šç”¨æ»¤æ³¢å¼•æ“ å¹¶ä¸çŸ¥é“æ˜¯å¦ä¸ºå¯åˆ†ç¦»æ»¤æ³¢å™¨) if( isSeparable() ) &#123; // æ£€æµ‹æ¨ªçºµæ»¤æ³¢å™¨ç±»å‹æ˜¯å¦ç›¸ç­‰ CV_Assert( rowFilter &amp;&amp; columnFilter ); // å¹¶ä»¥æ¨ªçºµæ»¤æ³¢å™¨å®šä¹‰å†…æ ¸å¤§å° ksize = Size(rowFilter-&gt;ksize, columnFilter-&gt;ksize); // é”šç‚¹ä¹Ÿæ ¹æ®æ»¤æ³¢å™¨é”šç‚¹å®šä¹‰ anchor = Point(rowFilter-&gt;anchor, columnFilter-&gt;anchor); &#125; else &#123; // å¦‚æœä¸æ˜¯ æ£€æµ‹ç¼“å†²å›¾åƒç±»å‹æ˜¯å¦ä¸è¾“å…¥å›¾åƒç±»å‹ç›¸ç­‰ CV_Assert( bufType == srcType ); // è¿™é‡Œè·Ÿä¸Šé¢å®šä¹‰å·®ä¸å¤šï¼Œä¸è¿‡æ˜¯éåˆ†ç¦»æ»¤æ³¢å™¨æ‰€ä»¥æ˜¯åªæœ‰ä¸€ä¸ª(filter2DäºŒç»´æ»¤æ³¢å™¨) ksize = filter2D-&gt;ksize; anchor = filter2D-&gt;anchor; &#125; // è¿™ä¸ªä¸€çœ‹å°±æ‡‚äº† CV_Assert( m 0 &lt;= anchor.x &amp;&amp; anchor.x &lt; ksize.width &amp;&amp; 0 &lt;= anchor.y &amp;&amp; anchor.y &lt; ksize.height ); // æ ¹æ®è¾¹ç¼˜å¡«å……ç±»å‹è¿›è¡Œåƒç´ è®¡ç®— borderElemSize = srcElemSize/(CV_MAT_DEPTH(srcType) &gt;= CV_32S ? sizeof(int) : 1); // è¿™é‡Œä¹Ÿå¾ˆå¥½æ‡‚ int borderLength = std::max(ksize.width - 1, 1); // é‡å®šä¹‰è¾¹ç¼˜å‘é‡å¤§å°(è¿™é‡Œæ˜¯æ‰€å ç©ºé—´å¤§å°) borderTab.resize(borderLength*borderElemSize); // åˆå§‹åŒ– maxWidth = bufStep = 0; constBorderRow.clear(); // å¦‚æœè¡Œåˆ—è¾¹ç•Œæ˜¯å¸¸æ•°å¡«å……çš„ if( rowBorderType == BORDER_CONSTANT || columnBorderType == BORDER_CONSTANT ) &#123; // åˆ™è®¡ç®—å›¾åƒè¾¹é•¿ constBorderValue.resize(srcElemSize*borderLength); int srcType1 = CV_MAKETYPE(CV_MAT_DEPTH(srcType), MIN(CV_MAT_CN(srcType), 4)); // æ ¹æ®ä½æ·±åº¦å°†è¾¹ç•Œåƒç´ å€¼è½¬æ¢æˆå¯ç›´æ¥ä½¿ç”¨çš„vectorå˜é‡ scalarToRawData(_borderValue, &amp;constBorderValue[0], srcType1, borderLength*CV_MAT_CN(srcType)); &#125; // åˆå§‹åŒ–size wholeSize = Size(-1,-1);&#125; æˆ‘ä»¬è¿™æ—¶å€™æ¥çœ‹ä¸Šé¢æåˆ°çš„getElemSize: æœ€ç»ˆè¿™ä¸ªå…¶å®æ˜¯ä¸ªå®å®šä¹‰ï¼Œè¿”å›çš„å°±æ˜¯è¿™ä¸ªå®å®šä¹‰è®¡ç®—çš„ç»“æœï¼š (CV_MAT_CN(type) &lt;&lt; ((((sizeof(size_t)/4+1)*16384|0x3a50) &gt;&gt; CV_MAT_DEPTH(type)*2) &amp; 3)) é¦–å…ˆï¼Œé’ˆå¯¹0x3a50è¿™ä¸ªå¥‡æ€ªçš„æ•°å€¼ï¼Œæˆ‘ä»¬å…ˆè½¬æ¢ä¸º2è¿›åˆ¶æŸ¥çœ‹è§„å¾‹ï¼Œé€šè¿‡æŸ¥æ‰¾æ¯”å¯¹ï¼Œå‘ç°å…¶æ•°å€¼ä¸å˜é‡ç±»å‹æœ‰ç€ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œç„¶å16384åˆ™æ˜¯1 &lt;&lt; 14çš„ç»“æœ(åˆšå¥½æ¯ä¸ªå¯¹åº”ä¸¤ä½äºŒè¿›åˆ¶æ•°å€¼)ï¼Œè¿™ä¸ªæ¢æˆäºŒè¿›åˆ¶åˆ™æ˜¯ â€‹ 16384 = 10 00 00 00 00 00 00 â€‹ 0x3a50 = 11 10 10 01 01 00 00 1 ç¨å¾®å…ˆç†è§£ä¸€ä¸‹ï¼Œåœ¨ä¸‹å…ˆè¯´ä¸€ä¸‹å‰©ä¸‹çš„å‡½æ•°ç„¶åä¸€èµ·è§£æã€‚ è¿™é‡Œå…ˆè®¡ç®—æ— ç¬¦å·æ•´å‹çš„é•¿åº¦(åœ¨64ä½ç³»ç»Ÿä¸‹æ˜¯4 desu)ç„¶åé™¤ä»¥4 å†åŠ ä¸Š1 ï¼Œ å°±æ˜¯è¯´è¿™æ˜¯2 * 16384 | 0x3a50 å°±æ˜¯ 01 00 00 00 00 00 00 00 00 11 10 10 01 01 00 00 01 11 10 10 01 01 00 00 çš„ç»“æœå³ç§»2 * æ·±åº¦ï¼Œè§‚å¯Ÿä¸Šé¢ä¾¿ä¼šå‘ç°æœ€ç»ˆå³ç§»ä¹‹åä¾¿ä½¿å¾—æœ€åä¸¤ä½äºŒè¿›åˆ¶æ•°å¯¹åº”çš„åˆšå¥½ä¾¿æ˜¯å¯¹åº”å˜é‡ç±»å‹æ‰€å çš„äºŒè¿›åˆ¶æ•°ã€‚ è¿™æ ·ï¼Œåœ¨è·Ÿ3(äºŒè¿›åˆ¶ä¸º11)è¿›è¡Œ â€˜ä¸â€˜ æ“ä½œï¼Œä¾¿èƒ½å¾—åˆ°å„ä¸ªå˜é‡çš„å¯¹åº”æ‰€å å­—èŠ‚æ•°çš„å¯¹æ•°äº†ã€‚ åˆå› ä¸ºè¿™é‡Œæ˜¯ é€šé“æ•° * 2 ^ (æ‰€å å­—èŠ‚å¯¹æ•°) æ‰€ä»¥è¿™æ ·å°±èƒ½å¤Ÿè®¡ç®—çš„å‡ºå•ä¸ªåƒç´ ç‚¹æ‰€å ç”¨çš„å¤§å°(size)äº† å› ä¸ºæ»¤æ³¢å¼•æ“æ˜¯ä¸€ä¸ªé€šç”¨å¼•æ“ï¼Œè¿˜å¯ç”¨ä»¥é©±åŠ¨å…¶ä»–çš„æ»¤æ³¢å™¨(ä¸­å€¼æ»¤æ³¢æˆ–è€…å…¶ä»–ä»€ä¹ˆçš„)æ‰€ä»¥ä¸»è¦çš„å°±åªä¸è¿‡æ˜¯æ ¹æ®ä¸€äº›ä¿¡æ¯åˆå§‹åŒ–ç”¨ä»¥åé¢çš„æ“ä½œ(å°±æ˜¯initå‡½æ•°çš„æ„æ€)ã€‚ è¿”å›äº†æ»¤æ³¢å¼•æ“ä¹‹åä¾¿æ˜¯è°ƒç”¨äº†ï¼Œè¿™ä¸ªæ˜¯applyå‡½æ•°: 123456789101112131415void FilterEngine::apply(const Mat&amp; src, Mat&amp; dst, const Size &amp; wsz, const Point &amp; ofs)&#123; CV_INSTRUMENT_REGION() CV_Assert( src.type() == srcType &amp;&amp; dst.type() == dstType ); // è¿”å›å˜åŒ–yå€¼ int y = start(src, wsz, ofs); // ä¼ å‚çš„æ—¶å€™åˆ‡é™¤ç¬¬ä¸€è¡Œä¸æœ€åä¸€åˆ— proceed(src.ptr() + y*src.step, (int)src.step, endY - startY, dst.ptr(), (int)dst.step );&#125; å…¶ä¸­startä¾¿æ˜¯å¼€å§‹å‡½æ•°åé¢çš„proceedåˆ™æ˜¯æŒç»­å·ç§¯åˆ°æ•´ä¸ªå›¾åƒçš„å…³é”®ï¼Œstartå‡½æ•°æœ€ç»ˆè¿”å›äº†èµ·å§‹çš„Yå€¼ï¼Œä¸€å¥ä¸€å¥å†™å¤ªç´¯äº†ï¼Œæˆ‘å°±ä¸è§£é‡Šäº†ï¼Œåªè´´å‡ºstartä¸proceedå‡½æ•°ï¼š *è¿™ä¸¤å—å…¶å®åœ¨ä¸‹åˆ†æçš„å¾ˆå·®ï¼Œå¾ˆå¤šå‡½æ•°éƒ½æ²¡çœ‹æ‡‚ï¼Œæœ‰å¾ˆå¤§å¯èƒ½é”™è¯¯ï¼Œå»ºè®®å…ˆè·³è¿‡ï¼Œåœ¨ä¸‹ä»¥åc++å­¦é€äº†è¿˜ä¼šå›æ¥æ”¹çš„ã€‚ * 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225/** æ»¤æ³¢å¼•æ“ å‘åŠ¨ï¼*/int FilterEngine::start(const Mat&amp; src, const Size &amp;wsz, const Point &amp;ofs)&#123; start( wsz, src.size(), ofs); return startY - ofs.y;&#125;int FilterEngine::start(const Size &amp;_wholeSize, const Size &amp;sz, const Point &amp;ofs)&#123; int i, j; wholeSize = _wholeSize; // æ ¹æ®åç§»é‡ä¸çŸ©é˜µå¤´è®¾ç½®èŒƒå›´ roi = Rect(ofs, sz); // ä¾æ—§æ˜¯é”™è¯¯æ£€æµ‹ï¼Œå¾ˆå¥½æ‡‚ CV_Assert( roi.x &gt;= 0 &amp;&amp; roi.y &gt;= 0 &amp;&amp; roi.width &gt;= 0 &amp;&amp; roi.height &gt;= 0 &amp;&amp; roi.x + roi.width &lt;= wholeSize.width &amp;&amp; roi.y + roi.height &lt;= wholeSize.height ); // ä¸‹é¢è¿™äº›ä¾æ—§æ˜¯åˆå§‹åŒ– int esz = (int)getElemSize(srcType); int bufElemSize = (int)getElemSize(bufType); // å®šå€¼æ£€æŸ¥ const uchar* constVal = !constBorderValue.empty() ? &amp;constBorderValue[0] : 0; int _maxBufRows = std::max(ksize.height + 3, std::max(anchor.y, ksize.height-anchor.y-1)*2+1); if( maxWidth &lt; roi.width || _maxBufRows != (int)rows.size() ) &#123; rows.resize(_maxBufRows); maxWidth = std::max(maxWidth, roi.width); int cn = CV_MAT_CN(srcType); srcRow.resize(esz*(maxWidth + ksize.width - 1)); if( columnBorderType == BORDER_CONSTANT ) &#123; constBorderRow.resize(getElemSize(bufType) *(maxWidth + ksize.width - 1 + VEC_ALIGN)); uchar *dst = alignPtr(&amp;constBorderRow[0], VEC_ALIGN), *tdst; int n = (int)constBorderValue.size(), N; N = (maxWidth + ksize.width - 1)*esz; tdst = isSeparable() ? &amp;srcRow[0] : dst; for( i = 0; i &lt; N; i += n ) &#123; n = std::min( n, N - i ); for(j = 0; j &lt; n; j++) tdst[i+j] = constVal[j]; &#125; if( isSeparable() ) (*rowFilter)(&amp;srcRow[0], dst, maxWidth, cn); &#125; int maxBufStep = bufElemSize*(int)alignSize(maxWidth + (!isSeparable() ? ksize.width - 1 : 0),VEC_ALIGN); ringBuf.resize(maxBufStep*rows.size()+VEC_ALIGN); &#125; // è°ƒæ•´bufstepï¼Œä½¿ç¯å½¢ç¼“å†²åŒºçš„å·²ä½¿ç”¨éƒ¨åˆ†åœ¨å†…å­˜ä¸­ä¿æŒç´§å‡‘ bufStep = bufElemSize*(int)alignSize(roi.width + (!isSeparable() ? ksize.width - 1 : 0),16); // dx1æ˜¯æ£€æµ‹é”šç‚¹ä½ç½®æ˜¯å¦ä¸èŒƒå›´è¾¹ç•Œæ£€æµ‹ dx1 = std::max(anchor.x - roi.x, 0); // æ£€æµ‹å†…æ ¸æ˜¯å¦å­˜åœ¨åå·® dx2 = std::max(ksize.width - anchor.x - 1 + roi.x + roi.width - wholeSize.width, 0); // å¦‚æœå­˜åœ¨åå·®åˆ™é‡æ–°è®¡ç®—è¾¹ç•Œè¡¨ if( dx1 &gt; 0 || dx2 &gt; 0 ) &#123; if( rowBorderType == BORDER_CONSTANT ) &#123; int nr = isSeparable() ? 1 : (int)rows.size(); for( i = 0; i &lt; nr; i++ ) &#123; uchar* dst = isSeparable() ? &amp;srcRow[0] : alignPtr(&amp;ringBuf[0],VEC_ALIGN) + bufStep*i; // åœ¨å†…å­˜ä¸­ç”¨åè€…å¡«å……å‰è€…ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯å¤§å° memcpy( dst, constVal, dx1*esz ); memcpy( dst + (roi.width + ksize.width - 1 - dx2)*esz, constVal, dx2*esz ); &#125; &#125; else &#123; int xofs1 = std::min(roi.x, anchor.x) - roi.x; int btab_esz = borderElemSize, wholeWidth = wholeSize.width; int* btab = (int*)&amp;borderTab[0]; for( i = 0; i &lt; dx1; i++ ) &#123; int p0 = (borderInterpolate(i-dx1, wholeWidth, rowBorderType) + xofs1)*btab_esz; for( j = 0; j &lt; btab_esz; j++ ) btab[i*btab_esz + j] = p0 + j; &#125; for( i = 0; i &lt; dx2; i++ ) &#123; int p0 = (borderInterpolate(wholeWidth + i, wholeWidth, rowBorderType) + xofs1)*btab_esz; for( j = 0; j &lt; btab_esz; j++ ) btab[(i + dx1)*btab_esz + j] = p0 + j; &#125; &#125; &#125; rowCount = dstY = 0; /** è¿™æ•´ä¸ªå‡½æ•°å…¶å®æœ€é‡è¦çš„å°±æ˜¯è¿™ä¸ª ä¸Šé¢è¿™äº›éƒ½æ˜¯é˜²æ­¢é”™è¯¯è¿›è¡Œçš„è°ƒæ•´ å¹¶ç”¨ä»¥è®¡ç®—ä¸‹é¢è¿™ä¸ªå€¼çš„ è¿™ä¸ªstartYæ˜¯å¦ä¸€æ–¹å‘çš„åç¦»å€¼ï¼Œå°±æ˜¯è¯´ä¸€ä¸ªåƒç´ åˆ°å¦ä¸€ä¸ªåƒç´ çš„åç¦»é‡ */ startY = startY0 = std::max(roi.y - anchor.y, 0); endY = std::min(roi.y + roi.height + ksize.height - anchor.y - 1, wholeSize.height); if( columnFilter ) columnFilter-&gt;reset(); if( filter2D ) filter2D-&gt;reset(); return startY;&#125;int FilterEngine::proceed( const uchar* src, int srcstep, int count, uchar* dst, int dststep )&#123; CV_Assert( wholeSize.width &gt; 0 &amp;&amp; wholeSize.height &gt; 0 ); const int *btab = &amp;borderTab[0]; int esz = (int)getElemSize(srcType), btab_esz = borderElemSize; uchar** brows = &amp;rows[0]; int bufRows = (int)rows.size(); int cn = CV_MAT_CN(bufType); int width = roi.width, kwidth = ksize.width; int kheight = ksize.height, ay = anchor.y; int _dx1 = dx1, _dx2 = dx2; int width1 = roi.width + kwidth - 1; int xofs1 = std::min(roi.x, anchor.x); bool isSep = isSeparable(); bool makeBorder = (_dx1 &gt; 0 || _dx2 &gt; 0) &amp;&amp; rowBorderType != BORDER_CONSTANT; int dy = 0, i = 0; src -= xofs1*esz; count = std::min(count, remainingInputRows()); CV_Assert( src &amp;&amp; dst &amp;&amp; count &gt; 0 ); /** è¿™é‡Œå°±æ˜¯å·ç§¯çš„ä¸»å‡½æ•°äº† */ for(;; dst += dststep*i, dy += i) &#123; int dcount = bufRows - ay - startY - rowCount + roi.y; dcount = dcount &gt; 0 ? dcount : bufRows - kheight + 1; dcount = std::min(dcount, count); count -= dcount; for( ; dcount-- &gt; 0; src += srcstep ) &#123; int bi = (startY - startY0 + rowCount) % bufRows; uchar* brow = alignPtr(&amp;ringBuf[0], VEC_ALIGN) + bi*bufStep; uchar* row = isSep ? &amp;srcRow[0] : brow; if( ++rowCount &gt; bufRows ) &#123; --rowCount; ++startY; &#125; memcpy( row + _dx1*esz, src, (width1 - _dx2 - _dx1)*esz ); if( makeBorder ) &#123; if( btab_esz*(int)sizeof(int) == esz ) &#123; const int* isrc = (const int*)src; int* irow = (int*)row; for( i = 0; i &lt; _dx1*btab_esz; i++ ) irow[i] = isrc[btab[i]]; for( i = 0; i &lt; _dx2*btab_esz; i++ ) irow[i + (width1 - _dx2)*btab_esz] = isrc[btab[i+_dx1*btab_esz]]; &#125; else &#123; for( i = 0; i &lt; _dx1*esz; i++ ) row[i] = src[btab[i]]; for( i = 0; i &lt; _dx2*esz; i++ ) row[i + (width1 - _dx2)*esz] = src[btab[i+_dx1*esz]]; &#125; &#125; if( isSep ) (*rowFilter)(row, brow, width, CV_MAT_CN(srcType)); &#125; int max_i = std::min(bufRows, roi.height - (dstY + dy) + (kheight - 1)); for( i = 0; i &lt; max_i; i++ ) &#123; int srcY = borderInterpolate(dstY + dy + i + roi.y - ay, wholeSize.height, columnBorderType); if( srcY &lt; 0 ) // can happen only with constant border type brows[i] = alignPtr(&amp;constBorderRow[0], VEC_ALIGN); else &#123; CV_Assert( srcY &gt;= startY ); if( srcY &gt;= startY + rowCount ) break; int bi = (srcY - startY0) % bufRows; brows[i] = alignPtr(&amp;ringBuf[0], VEC_ALIGN) + bi*bufStep; &#125; &#125; if( i &lt; kheight ) break; i -= kheight - 1; if( isSeparable() ) (*columnFilter)((const uchar**)brows, dst, dststep, i, roi.width*cn); else (*filter2D)((const uchar**)brows, dst, dststep, i, roi.width, cn); &#125; dstY += dy; CV_Assert( dstY &lt;= roi.height ); return dy;&#125; æ€»ç»“ C++è¯­æ³•å¤æ‚åº¦æ„Ÿè§‰ä¸–ç•Œä¸Šæ’çš„äº†å‰å å¤æ‚ä½†å´ä¹Ÿæ˜¯å°‘æœ‰çš„å¯ä»¥ç›´æ¥æ“ä½œå†…å­˜çš„è¯­è¨€ä¹‹ä¸€ï¼Œå†…è”æ±‡ç¼–æ•ˆç‡ä¸è¦å¤ªé«˜ ç”¨è½®å­å¾ˆç®€å•ï¼Œä½†æ˜¯é€ è½®å­å¾ˆéš¾ï¼Œé€ å‡ºæ™®é€‚æ€§çš„è½®å­æ›´éš¾ï¼Œè‡ªå·±ç”¨æ„Ÿè§‰æœ‰äº›ç®—æ³•è¿˜æ˜¯å¾ˆå®¹æ˜“å†™çš„ï¼Œä½†æ˜¯è¦ç…§é¡¾åˆ°å¤§é‡çš„å…¶ä»–è¯­æ³•æˆ–è€…å¹³å°é‚£å°±å¾ˆå›°éš¾äº† ä¼˜åŒ–ä¸ä¸€å®šæ˜¯è‡ªå·±ç®—æ³•çš„ä¼˜åŒ–ï¼Œè¿˜æœ‰ä½¿ç”¨å¹³å°çš„ä¼˜åŒ–ï¼Œç”¨åˆ«äººçš„è½®å­çœŸçš„å¾ˆçˆ½ å¤§å‹é¡¹ç›®é‡Œé¢ä»£ç é£æ ¼å„å¼‚ï¼Œå˜é‡å‘½åæ–¹æ¡ˆæ¯”è¾ƒæ··ä¹±ï¼Œå¹¶ä¸”ç®€å†™çš„æ¯”è¾ƒå¤šï¼Œçœ‹èµ·æ¥çœŸçš„å¤´å¤§ã€‚ã€‚ã€‚ã€‚ åœ¨ä¸‹çš„ä»£ç é€»è¾‘æ€ç»´è¿˜æ˜¯å¤ªä½äº†ï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨æ¯•ä¸šçš„æ—¶å€™çœ‹ä¸Š20000è¡Œä»£ç ç”¨ä»¥æå‡è‡ªå·± ç›¸æ¯”ä¹‹ä¸‹pythonæºç çœ‹èµ·æ¥çœŸçš„èˆ’æœæ­»äº†55555 å€Ÿç‰©è¡¨ attribute æœºåˆ¶è¯¦è§£(ä¸€) What is this #ifdef GNUC about? å…³äºVCé¢„å®šä¹‰å¸¸é‡_WIN32ï¼ŒWIN32ï¼Œ_WIN64ç­‰é¢„å®šä¹‰å®çš„ä»‹ç»ï¼ˆæ•´ç†ã€è½¬è½½ï¼‰ opencvçš„CV_EXPORT å›¾åƒå¤„ç†åŸºç¡€(4)ï¼šé«˜æ–¯æ»¤æ³¢å™¨è¯¦è§£ C/C++ å¯å˜å‚æ•°å®ä¸VA_ARGS å® #ã€##ã€VA_ARGSå’Œ##VA_ARGSçš„ä½œç”¨ OpenVXåµŒå…¥å¼å›¾åƒå¤„ç†ï¼ˆä¸€ï¼‰ç¡¬ä»¶å¹³å°åŠè½¯ä»¶ä»‹ç» OpenCV3.xä¸­UMatå¯¹è±¡ä»‹ç»ä¸ä½¿ç”¨ opencvå­¦ä¹ ä¹‹GaussianBlur()æºç è§£æ æ‰‹æ’•OpenCVæºç ä¹‹GaussianBlur OpenCVçš„ä¸€äº›å® æ„Ÿè°¢ä»¥ä¸Šå„ä½å¤§ä½¬ç»™åœ¨ä¸‹æä¾›çš„å„ç±»çŸ¥è¯†","categories":[{"name":"study","slug":"study","permalink":"http://blog.fivezha.cn/categories/study/"}],"tags":[{"name":"c++","slug":"c","permalink":"http://blog.fivezha.cn/tags/c/"},{"name":"cv","slug":"cv","permalink":"http://blog.fivezha.cn/tags/cv/"}]},{"title":"nazo.ioæ”»ç•¥(å®Œ)","date":"2018-10-15T11:22:26.000Z","path":"2018/10/15/nazo-io-answer/","text":"æœ‰ç‚¹åƒå°å­¦ç©è¿‡çš„æŸä¸ªè§£å¯†æ¸¸æˆçš„æ¸¸æˆ å¶ç„¶åˆå‘ç°äº†è¿™ç§ç±»å‹çš„æ¸¸æˆ é„™äººç©äº†2ä¸ªå°æ—¶ å†™äº†ç‚¹æ”»ç•¥ å¸Œæœ›èƒ½å¤Ÿå¸®åˆ°ä½  é¡ºä¾¿é™„ä¸Šç½‘å€(å…¶å®å°±æ˜¯nazo.io)1.æ¬¢è¿ 1 ç›´æ¥è¾“å…¥:welcomeå³å¯ 2.è§„åˆ™ 2 ç‚¹å‡»ï¼škeyå³å¯å‡ºç°ç­”æ¡ˆâ€”â€”gotcha 3.ä»å³å¾€å·¦å¿µ 3 é¡¾åæ€ä¹‰ï¼Œä»å³å¾€å·¦å¿µï¼škey is where ç­”æ¡ˆä¾¿æ˜¯ï¼šwhere 4.å®Œå½¢å¡«ç©º 4 è¿™å…³ä¾¿æ˜¯æ•™ä½ ä½¿ç”¨æœç´¢å¼•æ“æœç´¢ç­”æ¡ˆï¼ˆå…¶å®å¤§å¤šæ•°æ—¶é—´æœä¸åˆ°ã€‚ã€‚ã€‚ã€‚ ç™¾åº¦ ç­”æ¡ˆä¾¿æ˜¯ï¼šsurvival 5.Morse 5 æ‘©å°”æ–¯ç”µç ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ ç­”æ¡ˆï¼šsos 6.Base64 6 å°±æ˜¯base64è§£ç  éšä¾¿æ‰¾ä¸ªç½‘ç«™å°±è¡Œäº† è§£å¯† ç­”æ¡ˆï¼š1029174037 6.Base64(æ–°) image-20200712000900198 ç­”æ¡ˆï¼šbytealigned 7.OICQ 7 è¿™ä¸ªæ ‡é¢˜æ˜¯qqçš„å‰èº«åç§° è¿™é‡Œæœ‰ä¸ªæç¤ºï¼šä½ åˆšè¾“å…¥äº†ä»€ä¹ˆï¼Ÿ/ä»¥åŠè”ç³»ä½œè€… å¾ˆæ¸…æ¥š ï¼Œä¸Šä¸€é¢˜çš„ç­”æ¡ˆå°±æ˜¯ä½œè€…çš„QQå· qqæœç´¢ çœ‹ æœä¸å…¶ç„¶ ç­”æ¡ˆï¼šmacintosh 7.RCNB.app(æ–°) image-20200712001003985 ç¼–ç éšä¾¿ç™¾åº¦ä¸€ä¸‹å°±å‡ºæ¥äº† ç­”æ¡ˆï¼šunprintable 8.IDNs 8 è¿™ä¸ªé¢˜ä¹Ÿæ˜¯é‚£ç§æ²¡æœ‰çŸ¥è¯†å‰æå°±ä¸ä¼šçš„é‚£ç§ æ­£å·§å‰ä¸¤å¤©åˆšä¹°åŸŸåçš„æ—¶å€™çœ‹è§äº†ä¸­æ–‡åŸŸåï¼Œæ‰€ä»¥è¿™é¢˜å°caseğŸ˜„ ç›´æ¥è®¿é—®ï¼šé”™çš„æ˜¯.ä¸–ç•Œä¾¿å¯çŸ¥é“ç­”æ¡ˆ ç›´æ¥è®¿é—® ç­”æ¡ˆï¼šsaionjisekai 9.è§’åº¦ 9 è¿™å¼ å›¾ç‰‡æ˜¯æ–œè§’å›¾ç‰‡ï¼Œå°±æ˜¯å­—éƒ½å‘å†…åå‘äº†45Â° ç”¨ç”»å›¾æ‰“å¼€æ‹‰é•¿ä¸€ä¸‹å°±çŸ¥é“ç­”æ¡ˆäº†ï¼špineapple 10.å›åˆ°ä¸Šä¸–çºª 10 å…¸å‹çš„ç™¾åº¦æœå›¾é¢˜ç›® ç­”æ¡ˆï¼šmouse 11.Unicode 11 å¯èƒ½éƒ¨åˆ†æ‰‹æœºå­—åº“æ”¯æŒä¸å…¨çœ‹ä¸äº† ç­”æ¡ˆï¼šneweroslesstofu 11.Unicode(æ–°) image-20200712001517859 ç­”æ¡ˆï¼šoopscode 12.1A2B 12 å°æ—¶å€™çš„çŒœæ•°é¢˜ç›® å¤§æ„æ˜¯ï¼šæœ‰ä¸€ä¸ªæœªçŸ¥æ•°éœ€è¦çŒœæµ‹ ä¸‹é¢0A0Bä»£è¡¨ä¸ä»…æ•°å­—æ²¡çŒœå¯¹ä½ç½®ä¹Ÿæ²¡çŒœå¯¹ 0A2Bä»£è¡¨æ•°å­—çŒœå¯¹äº†ä¸¤ä¸ªä½†æ˜¯ä½ç½®æ²¡çŒœå¯¹ 3A0Bä»£è¡¨ç€æ•°å­—è·Ÿä½ç½®éƒ½çŒœå¯¹çš„æœ‰ä¸‰ä½æœ‰ä¸€ä½æ•°å­—è·Ÿä½ç½®éƒ½æ²¡çŒœå¯¹ ç­”æ¡ˆï¼š9506 13.è™šæ—  13 ä¸­é—´æœ‰å›¾ç‰‡ï¼Œæ–°çª—å£æ‰“å¼€ä¾¿å¯çŸ¥ æ–°é¡µé¢æ‰“å¼€ ç­”æ¡ˆï¼šthealpha 14.æˆ‘çˆ±è®°æ­Œè¯ 14 hintæ˜¯é‡Œçš„æ­Œè¯æ˜¯ç§å­ï¼Œæ­Œååˆæ˜¯å°è‹¹æœï¼Œå›¾ç‰‡åå­—å«apple ä¸ç”¨å¤šè¯´äº†å§ â€”â€”å›¾ç§ å›¾ç§ ç­”æ¡ˆï¼šgreendam 15.å£°éŸ³çš„è½¨è¿¹ 15 éŸ³æ³¢è§£æ éšä¾¿æ‰¾ä¸ªèƒ½çœ‹éŸ³æ³¢çš„è½¯ä»¶å°±è¡Œäº† å¦¹å­æŒºå¥½çœ‹ ç­”æ¡ˆï¼škoenokiseki 16.è™šæ© 16 æ‰“å¼€éšè—å›¾ç‰‡ä¹‹åå‘ç°æ˜¯å¤šå±‚ç»“æ„ ç›´æ¥å°†é®ç½©å±‚å¤§å°æ”¹ä¸º0 keyæ˜¾ç° key å¯†ç ï¼šsecretvg 17.è™šç©º 17 ç©ºæ ¼åˆ‡æ¢ è¿™é‡Œçš„å­—ç¬¦ç”±å…¨è§’è·ŸåŠè§’çš„ç©ºæ ¼ç»„æˆ æ›¿æ¢ä»»æ„ä¸€ç§ä¾¿å¯çŸ¥é“ç­”æ¡ˆ ç­”æ¡ˆ ç­”æ¡ˆï¼šentropy 18.Twitterç§‘å­¦ä¸Šç½‘ 18 æ‰“å¼€å‘ç°å±…ç„¶ä½œè€…æ˜¯ä½æ‰“ctfçš„å¤§ä½¬ ä½œè€…æ¨ç‰¹ ç­”æ¡ˆï¼šth4nky0u 18.Twitter(æ–°)è®¿é—®ä¸€ä¸‹urlå°±å¯ä»¥çŸ¥é“äº† image-20200712001718333 ç­”æ¡ˆï¼šshortweet 19.æœ€åæ„Ÿè°¢è¯­ hit3 æˆ‘æ˜¯20ä½é€šå…³çš„(æ­£å„¿å…«ç»çš„ç¬¬20ä½ â†.hit1)ï¼Œä½ å‘¢ï¼Ÿ 20.å¼ºè¿«ç—‡ä¸æ€»ç»“(â†‘.hit2) èŠ±äº†æˆ‘2ä¸ªå¤šå°æ—¶çš„æ¸¸æˆç»ˆäºå®Œç¾è½ä¸‹äº†å¸·å¹• æœŸåˆæˆ‘åªæ˜¯æƒ³åˆ†äº«ä¸€ä¸‹åœ¨ç¾¤é‡Œï¼Œæ²¡æƒ³åˆ°å¤§å®¶å…´è‡´å¦‚æ­¤ä¹‹é«˜ï¼Œä»¥è‡³äºæœ€åéƒ½ä¸ºæ‰¾åˆ°ä¸€ä¸ªä¸ªkeyè€Œå…´è‡´é«˜æ¶¨ğŸ˜„ è¿™ç§æ¸¸æˆæœç„¶éœ€è¦è·Ÿå¤§å®¶ä¸€èµ·ç©æ‰æœ‰æ„æ€å˜› æ€»ä¹‹ï¼Œæ¸¸æˆä½“éªŒè‰¯å¥½ï¼Œ5â­ï¸ å¥½è¯„ï¼","categories":[{"name":"games","slug":"games","permalink":"http://blog.fivezha.cn/categories/games/"}],"tags":[{"name":"game","slug":"game","permalink":"http://blog.fivezha.cn/tags/game/"}]},{"title":"LaTeXæ•°å­¦ç¬¦å·","date":"2018-09-08T14:02:03.000Z","path":"2018/09/08/LaTeX-math-symbols/","text":"è‡ªå·±çš„LaTeXç¬”è®° å…ˆè´´æ•™ç¨‹æ€»è§ˆï¼ï¼å…¬å¼å¸¸ç”¨å­—ç¬¦ $$ + enterä¾¿å¯è¿›å…¥LaTeXç¼–è¾‘æ¨¡å¼ ^ ä¸Šæ ‡ _ ä¸‹æ ‡ {} å—/åˆ†ç»„ å¸¸ç”¨ç¯å¢ƒ \\begin{equation} è‡ªåŠ¨ç¼–å· \\label(eq: ```)æ ‡ç­¾ \\end{equation} \\ref{eq:} å¼•ç”¨ ç¬¦å·å¸Œè…Šå­—æ¯ \\alpha \\beta \\gamma \\epsilon \\pi \\omerga \\Gamma \\Delta \\Theta \\Pi \\Omega å¸¸ç”¨å‡½æ•° \\log \\sin \\cos \\arcsin \\arccos \\ln \\sqrt[]{} æ ¹å¼ \\frac{}{} åˆ†å¼ çŸ©é˜µ \\begin{matrix} 1 &amp; 1 \\\\\\ 1 &amp; 1\\end{matrix} å…¶ä¸­ï¼š &amp; åˆ†å‰²åˆ— \\ åˆ†å‰²è¡Œ på°æ‹¬å· bä¸­æ‹¬å· Bå¤§æ‹¬å· vå•ç«–çº¿ VåŒç«–çº¿ \\dots æ¨ªå‘çœç•¥å· \\vdots ç«–å‘çœç•¥å· \\ddots æ–œå‘çœç•¥å· {n \\times n} n x n åˆ†å—çŸ©é˜µ(çŸ©é˜µåµŒå¥—)å…¶ä»–å‘½ä»¤ \\multicolumn{}{}{} åˆå¹¶å¤šåˆ— \\raisebox{}[]{} è°ƒæ•´é«˜åº¦ \\hdotsfor{åˆ—æ•°} æ•´åˆ—çœç•¥å· \\left ( å·¦æ‹¬å· \\begin{smallmatrix} \\end{smallmatrix} \\right ) å³æ‹¬å· è¡Œå†…å°çŸ©é˜µ \\begin{array}{c|c} \\hline åˆ†å‰²çº¿ \\end{array} å¤šè¡Œå…¬å¼ \\begin{gather} ==== \\notag ä¸è‡ªåŠ¨ç¼–å· \\ *æ¢è¡Œ* ==== \\ \\ \\end{gather} {align} {split} {cases} åˆ†æ®µå‡½æ•°","categories":[{"name":"study","slug":"study","permalink":"http://blog.fivezha.cn/categories/study/"}],"tags":[{"name":"latex","slug":"latex","permalink":"http://blog.fivezha.cn/tags/latex/"}]},{"title":"gitè¶…ç®€å•æ•™ç¨‹","date":"2018-04-20T12:34:09.000Z","path":"2018/04/20/git-guide/","text":"gitçš„è¶…ç®€å•ç”¨æ³•ï¼ˆä»¥test-repositoryä¸ºä¾‹ï¼‰ åˆå§‹åŒ–1.åˆå§‹åŒ–gitçš„emailä¸nameé¦–å…ˆå…ˆæ‰“å¼€git(è¿™ä¸ªéšä¾¿åœ¨å“ªä¸ªæ–‡ä»¶å¤¹éƒ½å¯ä»¥) 12$ git config --global user.name \"è¿™é‡Œå†™ä½ çš„åå­—\"$ git config --global user.email \"è¿™é‡Œå†™ä½ çš„é‚®ç®±\" 2.è®¾ç½®sshè¿æ¥PSï¼šè¿™ä¸€æ­¥ä¸»è¦æ˜¯é˜²æ­¢ä»–äººç›—ç”¨ä½ çš„githubè´¦å·æ‰€è®¾ç½®çš„åŒé‡ä¿æŠ¤ï¼Œä»…æ˜¯ä¸ºäº†å®‰å…¨ï¼Œä¸è®¾ç½®è¿™æ­¥ä¹Ÿå¯è¿è¡Œ 1$ ssh-keygen -t rsa -C \"è¿™é‡Œæ˜¯ä½ çš„é‚®ç®±\" ç„¶åä½ èƒ½åœ¨ä½ c://ç”¨æˆ·//13256(è¿™é‡Œæ˜¯ä½ çš„ç”¨æˆ·å)//.sshé‡Œé¢æ‰¾åˆ°ä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶ æ–‡ä»¶åˆ—è¡¨ ç„¶åç™»é™†githubç½‘ç«™ åœ¨settingé‡Œé¢æ‰¾åˆ°sshè®¾ç½® ç„¶åæ–°å»ºsshå¡«å…¥ä½ id_rsa.pubé‡Œé¢çš„ä¸œè¥¿å°±okäº†(titleéšä¾¿å¡«) setting add key ç„¶åç‚¹add keyå°±å®Œäº‹å„¿äº† è¿æ¥ä»“åº“1.è·å–é¡¹ç›®URLé¦–å…ˆæ‰¾åˆ°ä½ æƒ³è¦cloneï¼ˆç±»ä¼¼ä¸‹è½½ï¼‰åˆ°æœ¬åœ°çš„é¡¹ç›®é¡µé¢æŒ‰ç…§ç®­å¤´å¤åˆ¶é¡¹ç›®åœ°å€ enter image description here 2.åœ¨æœ¬åœ°cloneé¡¹ç›®é¦–å…ˆæ‰¾åˆ°ä½ æƒ³è¦åœ¨æœ¬åœ°ç¡¬ç›˜cloneï¼ˆä¸‹è½½ï¼‰çš„åœ°å€ å³é”®ç‚¹å‡»Git Bash Here enter image description here ç„¶åè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼ˆå°±åªæœ‰ç¬¬ä¸€è¡Œï¼‰ git clone ä½ åˆšåˆšå¤åˆ¶çš„ç½‘å€ enter image description here å®Œæˆåå…³é—­è¿™ä¸ªå‘½ä»¤æç¤ºæ¡†ï¼å®Œæˆåå…³é—­è¿™ä¸ªå‘½ä»¤æç¤ºæ¡†ï¼å®Œæˆåå…³é—­è¿™ä¸ªå‘½ä»¤æç¤ºæ¡†ï¼Thenä½ å°±ä¼šå‘ç°åœ¨ç›®å½•ä¸‹æœ‰ä¸€ä¸ªä½ cloneçš„ä»“åº“çš„åå­—çš„æ–‡ä»¶å¤¹äº†ï¼ˆå¦‚ä¸‹å›¾ï¼‰ enter image description here 3.è¿›å…¥cloneåçš„ä»“åº“ï¼ˆæ–‡ä»¶å¤¹ï¼‰è¿›è¡Œä¿®æ”¹å’Œpushè¿›å…¥åˆšåˆšcloneçš„é‚£ä¸ªæ–‡ä»¶å¤¹ï¼Œæ­¤æ—¶ä½ å¯ä»¥éšæ„ä¿®æ”¹æ–‡ä»¶å†…å®¹ å¢åŠ å†…å®¹ ä¿®æ”¹å®Œæˆåï¼Œåœ¨cloneçš„æ–‡ä»¶å¤¹é‡Œ å³é”®ç„¶åç‚¹å‡»Git Bash Here ç„¶åè¾“å…¥ä¸‹é¢ä¸‰è¡ŒæŒ‡ä»¤ git add .git commit -m â€˜éšä¾¿ä¸Šä¼ ç‚¹ä¸œè¥¿â€™git push origin masterï¼ˆä¸»åˆ†æ”¯ä¸€èˆ¬ä¸ºmaster,å¦‚æœä½ æ²¡åˆ«çš„åˆ†æ”¯å°±å†™masterï¼‰æ³¨ï¼šç¬¬äºŒè¡Œ â€˜ â€˜ é‡Œé¢çš„ä¸œè¥¿éšä¾¿å†™ è¿™é‡Œä¸»è¦å†™ä½ pushçš„ä¸œè¥¿ä¸»è¦ä¿®æ”¹äº†ä»€ä¹ˆï¼ˆä¼šåœ¨é¡¹ç›®ä¸Šæ˜¾ç¤ºï¼‰pushæ—¶å¯èƒ½ä¼šè®©ä½ è¾“å…¥é‚®ç®±å¯†ç  å¡«ä¸Šå°±è¡Œ enter image description here åœ¨é¡¹ç›®ä¸­æ˜¾ç¤ºçš„ä¿®æ”¹ä¿¡æ¯ enter image description here 4.æ›´æ–°è‡ªå·±ä¿®æ”¹åçš„æ–‡ä»¶å¦‚æœä½ åæ¥ä¿®æ”¹äº†æ–‡ä»¶æƒ³è¦åŒæ­¥åˆ°githubä¸Šé¢å»çš„è¯ï¼Œé‚£ä¹ˆ: é‡å¤æ­¥éª¤ 3ä¸­çš„ ä¸‰ä¸ªæŒ‡ä»¤ä¾¿å¯ä»¥äº†5. åˆ†æ”¯å¼€å‘è¿™ä¸ªæœ‰ç‚¹å¤§å°±ç›´æ¥æ”¾åœ°å€äº†èœé¸Ÿæ•™ç¨‹çš„æ•™ç¨‹ ç®€å•ä»‹ç»çš„ è¿˜æœ‰å»–é›ªå³°è€å¸ˆçš„æ•™ç¨‹ ï¼æ¨èï¼è®²çš„å¾ˆè¯¦ç»†ï¼","categories":[{"name":"study","slug":"study","permalink":"http://blog.fivezha.cn/categories/study/"}],"tags":[{"name":"git","slug":"git","permalink":"http://blog.fivezha.cn/tags/git/"}]}]